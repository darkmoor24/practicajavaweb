"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/material-react-table";
exports.ids = ["vendor-chunks/material-react-table"];
exports.modules = {

/***/ "(ssr)/./node_modules/material-react-table/dist/index.esm.js":
/*!*************************************************************!*\
  !*** ./node_modules/material-react-table/dist/index.esm.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MRT_AggregationFns: () => (/* binding */ MRT_AggregationFns),\n/* harmony export */   MRT_BottomToolbar: () => (/* binding */ MRT_BottomToolbar),\n/* harmony export */   MRT_ColumnActionMenu: () => (/* binding */ MRT_ColumnActionMenu),\n/* harmony export */   MRT_ColumnPinningButtons: () => (/* binding */ MRT_ColumnPinningButtons),\n/* harmony export */   MRT_CopyButton: () => (/* binding */ MRT_CopyButton),\n/* harmony export */   MRT_DefaultColumn: () => (/* binding */ MRT_DefaultColumn),\n/* harmony export */   MRT_DefaultDisplayColumn: () => (/* binding */ MRT_DefaultDisplayColumn),\n/* harmony export */   MRT_EditActionButtons: () => (/* binding */ MRT_EditActionButtons),\n/* harmony export */   MRT_EditCellTextField: () => (/* binding */ MRT_EditCellTextField),\n/* harmony export */   MRT_EditRowModal: () => (/* binding */ MRT_EditRowModal),\n/* harmony export */   MRT_ExpandAllButton: () => (/* binding */ MRT_ExpandAllButton),\n/* harmony export */   MRT_ExpandButton: () => (/* binding */ MRT_ExpandButton),\n/* harmony export */   MRT_FilterCheckbox: () => (/* binding */ MRT_FilterCheckbox),\n/* harmony export */   MRT_FilterFns: () => (/* binding */ MRT_FilterFns),\n/* harmony export */   MRT_FilterOptionMenu: () => (/* binding */ MRT_FilterOptionMenu),\n/* harmony export */   MRT_FilterRangeFields: () => (/* binding */ MRT_FilterRangeFields),\n/* harmony export */   MRT_FilterRangeSlider: () => (/* binding */ MRT_FilterRangeSlider),\n/* harmony export */   MRT_FilterTextField: () => (/* binding */ MRT_FilterTextField),\n/* harmony export */   MRT_GlobalFilterTextField: () => (/* binding */ MRT_GlobalFilterTextField),\n/* harmony export */   MRT_GrabHandleButton: () => (/* binding */ MRT_GrabHandleButton),\n/* harmony export */   MRT_LinearProgressBar: () => (/* binding */ MRT_LinearProgressBar),\n/* harmony export */   MRT_RowActionMenu: () => (/* binding */ MRT_RowActionMenu),\n/* harmony export */   MRT_RowPinButton: () => (/* binding */ MRT_RowPinButton),\n/* harmony export */   MRT_SelectCheckbox: () => (/* binding */ MRT_SelectCheckbox),\n/* harmony export */   MRT_ShowHideColumnsButton: () => (/* binding */ MRT_ShowHideColumnsButton),\n/* harmony export */   MRT_ShowHideColumnsMenu: () => (/* binding */ MRT_ShowHideColumnsMenu),\n/* harmony export */   MRT_ShowHideColumnsMenuItems: () => (/* binding */ MRT_ShowHideColumnsMenuItems),\n/* harmony export */   MRT_SortingFns: () => (/* binding */ MRT_SortingFns),\n/* harmony export */   MRT_Table: () => (/* binding */ MRT_Table),\n/* harmony export */   MRT_TableBody: () => (/* binding */ MRT_TableBody),\n/* harmony export */   MRT_TableBodyCell: () => (/* binding */ MRT_TableBodyCell),\n/* harmony export */   MRT_TableBodyCellValue: () => (/* binding */ MRT_TableBodyCellValue),\n/* harmony export */   MRT_TableBodyRow: () => (/* binding */ MRT_TableBodyRow),\n/* harmony export */   MRT_TableBodyRowGrabHandle: () => (/* binding */ MRT_TableBodyRowGrabHandle),\n/* harmony export */   MRT_TableBodyRowPinButton: () => (/* binding */ MRT_TableBodyRowPinButton),\n/* harmony export */   MRT_TableContainer: () => (/* binding */ MRT_TableContainer),\n/* harmony export */   MRT_TableDetailPanel: () => (/* binding */ MRT_TableDetailPanel),\n/* harmony export */   MRT_TableFooter: () => (/* binding */ MRT_TableFooter),\n/* harmony export */   MRT_TableFooterCell: () => (/* binding */ MRT_TableFooterCell),\n/* harmony export */   MRT_TableFooterRow: () => (/* binding */ MRT_TableFooterRow),\n/* harmony export */   MRT_TableHead: () => (/* binding */ MRT_TableHead),\n/* harmony export */   MRT_TableHeadCell: () => (/* binding */ MRT_TableHeadCell),\n/* harmony export */   MRT_TableHeadCellColumnActionsButton: () => (/* binding */ MRT_TableHeadCellColumnActionsButton),\n/* harmony export */   MRT_TableHeadCellFilterContainer: () => (/* binding */ MRT_TableHeadCellFilterContainer),\n/* harmony export */   MRT_TableHeadCellFilterLabel: () => (/* binding */ MRT_TableHeadCellFilterLabel),\n/* harmony export */   MRT_TableHeadCellGrabHandle: () => (/* binding */ MRT_TableHeadCellGrabHandle),\n/* harmony export */   MRT_TableHeadCellResizeHandle: () => (/* binding */ MRT_TableHeadCellResizeHandle),\n/* harmony export */   MRT_TableHeadCellSortLabel: () => (/* binding */ MRT_TableHeadCellSortLabel),\n/* harmony export */   MRT_TableHeadRow: () => (/* binding */ MRT_TableHeadRow),\n/* harmony export */   MRT_TableLoadingOverlay: () => (/* binding */ MRT_TableLoadingOverlay),\n/* harmony export */   MRT_TablePagination: () => (/* binding */ MRT_TablePagination),\n/* harmony export */   MRT_TablePaper: () => (/* binding */ MRT_TablePaper),\n/* harmony export */   MRT_ToggleDensePaddingButton: () => (/* binding */ MRT_ToggleDensePaddingButton),\n/* harmony export */   MRT_ToggleFiltersButton: () => (/* binding */ MRT_ToggleFiltersButton),\n/* harmony export */   MRT_ToggleFullScreenButton: () => (/* binding */ MRT_ToggleFullScreenButton),\n/* harmony export */   MRT_ToggleGlobalFilterButton: () => (/* binding */ MRT_ToggleGlobalFilterButton),\n/* harmony export */   MRT_ToggleRowActionMenuButton: () => (/* binding */ MRT_ToggleRowActionMenuButton),\n/* harmony export */   MRT_ToolbarAlertBanner: () => (/* binding */ MRT_ToolbarAlertBanner),\n/* harmony export */   MRT_ToolbarDropZone: () => (/* binding */ MRT_ToolbarDropZone),\n/* harmony export */   MRT_ToolbarInternalButtons: () => (/* binding */ MRT_ToolbarInternalButtons),\n/* harmony export */   MRT_TopToolbar: () => (/* binding */ MRT_TopToolbar),\n/* harmony export */   MaterialReactTable: () => (/* binding */ MaterialReactTable),\n/* harmony export */   Memo_MRT_TableBody: () => (/* binding */ Memo_MRT_TableBody),\n/* harmony export */   Memo_MRT_TableBodyCell: () => (/* binding */ Memo_MRT_TableBodyCell),\n/* harmony export */   Memo_MRT_TableBodyRow: () => (/* binding */ Memo_MRT_TableBodyRow),\n/* harmony export */   commonListItemStyles: () => (/* binding */ commonListItemStyles),\n/* harmony export */   commonMenuItemStyles: () => (/* binding */ commonMenuItemStyles),\n/* harmony export */   createMRTColumnHelper: () => (/* binding */ createMRTColumnHelper),\n/* harmony export */   createRow: () => (/* binding */ createRow),\n/* harmony export */   extraIndexRangeExtractor: () => (/* binding */ extraIndexRangeExtractor),\n/* harmony export */   flexRender: () => (/* binding */ flexRender),\n/* harmony export */   getAllLeafColumnDefs: () => (/* binding */ getAllLeafColumnDefs),\n/* harmony export */   getCanRankRows: () => (/* binding */ getCanRankRows),\n/* harmony export */   getColumnId: () => (/* binding */ getColumnId),\n/* harmony export */   getCommonMRTCellStyles: () => (/* binding */ getCommonMRTCellStyles),\n/* harmony export */   getCommonToolbarStyles: () => (/* binding */ getCommonToolbarStyles),\n/* harmony export */   getDefaultColumnFilterFn: () => (/* binding */ getDefaultColumnFilterFn),\n/* harmony export */   getDefaultColumnOrderIds: () => (/* binding */ getDefaultColumnOrderIds),\n/* harmony export */   getIsFirstColumn: () => (/* binding */ getIsFirstColumn),\n/* harmony export */   getIsFirstRightPinnedColumn: () => (/* binding */ getIsFirstRightPinnedColumn),\n/* harmony export */   getIsLastColumn: () => (/* binding */ getIsLastColumn),\n/* harmony export */   getIsLastLeftPinnedColumn: () => (/* binding */ getIsLastLeftPinnedColumn),\n/* harmony export */   getLeadingDisplayColumnIds: () => (/* binding */ getLeadingDisplayColumnIds),\n/* harmony export */   getMRTTheme: () => (/* binding */ getMRTTheme),\n/* harmony export */   getTotalRight: () => (/* binding */ getTotalRight),\n/* harmony export */   getTrailingDisplayColumnIds: () => (/* binding */ getTrailingDisplayColumnIds),\n/* harmony export */   getValueAndLabel: () => (/* binding */ getValueAndLabel),\n/* harmony export */   mrtFilterOptions: () => (/* binding */ mrtFilterOptions),\n/* harmony export */   parseCSSVarId: () => (/* binding */ parseCSSVarId),\n/* harmony export */   parseFromValuesOrFunc: () => (/* binding */ parseFromValuesOrFunc),\n/* harmony export */   prepareColumns: () => (/* binding */ prepareColumns),\n/* harmony export */   rankGlobalFuzzy: () => (/* binding */ rankGlobalFuzzy),\n/* harmony export */   reorderColumn: () => (/* binding */ reorderColumn),\n/* harmony export */   showExpandColumn: () => (/* binding */ showExpandColumn),\n/* harmony export */   useMRT_DisplayColumns: () => (/* binding */ useMRT_DisplayColumns),\n/* harmony export */   useMRT_Effects: () => (/* binding */ useMRT_Effects),\n/* harmony export */   useMRT_TableInstance: () => (/* binding */ useMRT_TableInstance),\n/* harmony export */   useMRT_TableOptions: () => (/* binding */ useMRT_TableOptions),\n/* harmony export */   useMaterialReactTable: () => (/* binding */ useMaterialReactTable)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mui_material_Paper__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! @mui/material/Paper */ \"(ssr)/./node_modules/@mui/material/node/Paper/index.js\");\n/* harmony import */ var _mui_material_Paper__WEBPACK_IMPORTED_MODULE_59___default = /*#__PURE__*/__webpack_require__.n(_mui_material_Paper__WEBPACK_IMPORTED_MODULE_59__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _mui_material_TableContainer__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! @mui/material/TableContainer */ \"(ssr)/./node_modules/@mui/material/node/TableContainer/index.js\");\n/* harmony import */ var _mui_material_TableContainer__WEBPACK_IMPORTED_MODULE_58___default = /*#__PURE__*/__webpack_require__.n(_mui_material_TableContainer__WEBPACK_IMPORTED_MODULE_58__);\n/* harmony import */ var _tanstack_react_virtual__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @tanstack/react-virtual */ \"(ssr)/./node_modules/@tanstack/virtual-core/build/lib/index.mjs\");\n/* harmony import */ var _tanstack_react_virtual__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @tanstack/react-virtual */ \"(ssr)/./node_modules/@tanstack/react-virtual/build/lib/index.mjs\");\n/* harmony import */ var _mui_material_Table__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! @mui/material/Table */ \"(ssr)/./node_modules/@mui/material/node/Table/index.js\");\n/* harmony import */ var _mui_material_Table__WEBPACK_IMPORTED_MODULE_52___default = /*#__PURE__*/__webpack_require__.n(_mui_material_Table__WEBPACK_IMPORTED_MODULE_52__);\n/* harmony import */ var _mui_material_TableBody__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @mui/material/TableBody */ \"(ssr)/./node_modules/@mui/material/node/TableBody/index.js\");\n/* harmony import */ var _mui_material_TableBody__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_mui_material_TableBody__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _mui_material_Typography__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @mui/material/Typography */ \"(ssr)/./node_modules/@mui/material/node/Typography/index.js\");\n/* harmony import */ var _mui_material_Typography__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var _mui_material_TableRow__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @mui/material/TableRow */ \"(ssr)/./node_modules/@mui/material/node/TableRow/index.js\");\n/* harmony import */ var _mui_material_TableRow__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_mui_material_TableRow__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/material/styles */ \"(ssr)/./node_modules/@mui/material/node/styles/index.js\");\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_mui_material_styles__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @mui/material/Skeleton */ \"(ssr)/./node_modules/@mui/material/node/Skeleton/index.js\");\n/* harmony import */ var _mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _mui_material_TableCell__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @mui/material/TableCell */ \"(ssr)/./node_modules/@mui/material/node/TableCell/index.js\");\n/* harmony import */ var _mui_material_TableCell__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_mui_material_TableCell__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _mui_material_Box__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/material/Box */ \"(ssr)/./node_modules/@mui/material/node/Box/index.js\");\n/* harmony import */ var _tanstack_react_table__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tanstack/react-table */ \"(ssr)/./node_modules/@tanstack/react-table/build/lib/index.mjs\");\n/* harmony import */ var _tanstack_react_table__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tanstack/react-table */ \"(ssr)/./node_modules/@tanstack/table-core/build/lib/index.mjs\");\n/* harmony import */ var highlight_words__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! highlight-words */ \"(ssr)/./node_modules/highlight-words/dist/highlight-words.mjs\");\n/* harmony import */ var _mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mui/material/IconButton */ \"(ssr)/./node_modules/@mui/material/node/IconButton/index.js\");\n/* harmony import */ var _mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mui/material/Tooltip */ \"(ssr)/./node_modules/@mui/material/node/Tooltip/index.js\");\n/* harmony import */ var _mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _mui_material_Button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @mui/material/Button */ \"(ssr)/./node_modules/@mui/material/node/Button/index.js\");\n/* harmony import */ var _mui_material_Button__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_mui_material_Button__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @mui/material/MenuItem */ \"(ssr)/./node_modules/@mui/material/node/MenuItem/index.js\");\n/* harmony import */ var _mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _mui_material_TextField__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @mui/material/TextField */ \"(ssr)/./node_modules/@mui/material/node/TextField/index.js\");\n/* harmony import */ var _mui_material_TextField__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _mui_material_Collapse__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @mui/material/Collapse */ \"(ssr)/./node_modules/@mui/material/node/Collapse/index.js\");\n/* harmony import */ var _mui_material_Collapse__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_mui_material_Collapse__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _tanstack_match_sorter_utils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @tanstack/match-sorter-utils */ \"(ssr)/./node_modules/@tanstack/match-sorter-utils/build/lib/index.mjs\");\n/* harmony import */ var _mui_material_TableFooter__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @mui/material/TableFooter */ \"(ssr)/./node_modules/@mui/material/node/TableFooter/index.js\");\n/* harmony import */ var _mui_material_TableFooter__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(_mui_material_TableFooter__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var _mui_material_TableHead__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! @mui/material/TableHead */ \"(ssr)/./node_modules/@mui/material/node/TableHead/index.js\");\n/* harmony import */ var _mui_material_TableHead__WEBPACK_IMPORTED_MODULE_51___default = /*#__PURE__*/__webpack_require__.n(_mui_material_TableHead__WEBPACK_IMPORTED_MODULE_51__);\n/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! @mui/material */ \"(ssr)/./node_modules/@mui/material/index.js\");\n/* harmony import */ var _mui_material_ListItemIcon__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @mui/material/ListItemIcon */ \"(ssr)/./node_modules/@mui/material/node/ListItemIcon/index.js\");\n/* harmony import */ var _mui_material_ListItemIcon__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(_mui_material_ListItemIcon__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var _mui_material_Menu__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @mui/material/Menu */ \"(ssr)/./node_modules/@mui/material/node/Menu/index.js\");\n/* harmony import */ var _mui_material_Menu__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(_mui_material_Menu__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var _mui_material_Checkbox__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @mui/material/Checkbox */ \"(ssr)/./node_modules/@mui/material/node/Checkbox/index.js\");\n/* harmony import */ var _mui_material_Checkbox__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(_mui_material_Checkbox__WEBPACK_IMPORTED_MODULE_25__);\n/* harmony import */ var _mui_material_FormControlLabel__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @mui/material/FormControlLabel */ \"(ssr)/./node_modules/@mui/material/node/FormControlLabel/index.js\");\n/* harmony import */ var _mui_material_FormControlLabel__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(_mui_material_FormControlLabel__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var _mui_material_Autocomplete__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @mui/material/Autocomplete */ \"(ssr)/./node_modules/@mui/material/node/Autocomplete/index.js\");\n/* harmony import */ var _mui_material_Autocomplete__WEBPACK_IMPORTED_MODULE_30___default = /*#__PURE__*/__webpack_require__.n(_mui_material_Autocomplete__WEBPACK_IMPORTED_MODULE_30__);\n/* harmony import */ var _mui_material_Chip__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @mui/material/Chip */ \"(ssr)/./node_modules/@mui/material/node/Chip/index.js\");\n/* harmony import */ var _mui_material_Chip__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(_mui_material_Chip__WEBPACK_IMPORTED_MODULE_28__);\n/* harmony import */ var _mui_material_InputAdornment__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @mui/material/InputAdornment */ \"(ssr)/./node_modules/@mui/material/node/InputAdornment/index.js\");\n/* harmony import */ var _mui_material_InputAdornment__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(_mui_material_InputAdornment__WEBPACK_IMPORTED_MODULE_27__);\n/* harmony import */ var _mui_material_utils__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @mui/material/utils */ \"(ssr)/./node_modules/@mui/material/node/utils/index.js\");\n/* harmony import */ var _mui_x_date_pickers_DatePicker__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @mui/x-date-pickers/DatePicker */ \"(ssr)/./node_modules/@mui/x-date-pickers/node/DatePicker/index.js\");\n/* harmony import */ var _mui_material_FormHelperText__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! @mui/material/FormHelperText */ \"(ssr)/./node_modules/@mui/material/node/FormHelperText/index.js\");\n/* harmony import */ var _mui_material_FormHelperText__WEBPACK_IMPORTED_MODULE_33___default = /*#__PURE__*/__webpack_require__.n(_mui_material_FormHelperText__WEBPACK_IMPORTED_MODULE_33__);\n/* harmony import */ var _mui_material_Slider__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! @mui/material/Slider */ \"(ssr)/./node_modules/@mui/material/node/Slider/index.js\");\n/* harmony import */ var _mui_material_Slider__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(_mui_material_Slider__WEBPACK_IMPORTED_MODULE_32__);\n/* harmony import */ var _mui_material_Stack__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @mui/material/Stack */ \"(ssr)/./node_modules/@mui/material/node/Stack/index.js\");\n/* harmony import */ var _mui_material_Grow__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! @mui/material/Grow */ \"(ssr)/./node_modules/@mui/material/node/Grow/index.js\");\n/* harmony import */ var _mui_material_Popover__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! @mui/material/Popover */ \"(ssr)/./node_modules/@mui/material/node/Popover/index.js\");\n/* harmony import */ var _mui_material_Popover__WEBPACK_IMPORTED_MODULE_35___default = /*#__PURE__*/__webpack_require__.n(_mui_material_Popover__WEBPACK_IMPORTED_MODULE_35__);\n/* harmony import */ var _mui_material_Divider__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! @mui/material/Divider */ \"(ssr)/./node_modules/@mui/material/node/Divider/index.js\");\n/* harmony import */ var _mui_material_Divider__WEBPACK_IMPORTED_MODULE_36___default = /*#__PURE__*/__webpack_require__.n(_mui_material_Divider__WEBPACK_IMPORTED_MODULE_36__);\n/* harmony import */ var _mui_material_Badge__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! @mui/material/Badge */ \"(ssr)/./node_modules/@mui/material/node/Badge/index.js\");\n/* harmony import */ var _mui_material_Badge__WEBPACK_IMPORTED_MODULE_37___default = /*#__PURE__*/__webpack_require__.n(_mui_material_Badge__WEBPACK_IMPORTED_MODULE_37__);\n/* harmony import */ var _mui_material_TableSortLabel__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! @mui/material/TableSortLabel */ \"(ssr)/./node_modules/@mui/material/node/TableSortLabel/index.js\");\n/* harmony import */ var _mui_material_TableSortLabel__WEBPACK_IMPORTED_MODULE_38___default = /*#__PURE__*/__webpack_require__.n(_mui_material_TableSortLabel__WEBPACK_IMPORTED_MODULE_38__);\n/* harmony import */ var _mui_material_useMediaQuery__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! @mui/material/useMediaQuery */ \"(ssr)/./node_modules/@mui/material/node/useMediaQuery/index.js\");\n/* harmony import */ var _mui_material_LinearProgress__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! @mui/material/LinearProgress */ \"(ssr)/./node_modules/@mui/material/node/LinearProgress/index.js\");\n/* harmony import */ var _mui_material_LinearProgress__WEBPACK_IMPORTED_MODULE_40___default = /*#__PURE__*/__webpack_require__.n(_mui_material_LinearProgress__WEBPACK_IMPORTED_MODULE_40__);\n/* harmony import */ var _mui_material_InputLabel__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! @mui/material/InputLabel */ \"(ssr)/./node_modules/@mui/material/node/InputLabel/index.js\");\n/* harmony import */ var _mui_material_InputLabel__WEBPACK_IMPORTED_MODULE_41___default = /*#__PURE__*/__webpack_require__.n(_mui_material_InputLabel__WEBPACK_IMPORTED_MODULE_41__);\n/* harmony import */ var _mui_material_Pagination__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! @mui/material/Pagination */ \"(ssr)/./node_modules/@mui/material/node/Pagination/index.js\");\n/* harmony import */ var _mui_material_Pagination__WEBPACK_IMPORTED_MODULE_43___default = /*#__PURE__*/__webpack_require__.n(_mui_material_Pagination__WEBPACK_IMPORTED_MODULE_43__);\n/* harmony import */ var _mui_material_PaginationItem__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! @mui/material/PaginationItem */ \"(ssr)/./node_modules/@mui/material/node/PaginationItem/index.js\");\n/* harmony import */ var _mui_material_PaginationItem__WEBPACK_IMPORTED_MODULE_44___default = /*#__PURE__*/__webpack_require__.n(_mui_material_PaginationItem__WEBPACK_IMPORTED_MODULE_44__);\n/* harmony import */ var _mui_material_Select__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! @mui/material/Select */ \"(ssr)/./node_modules/@mui/material/node/Select/index.js\");\n/* harmony import */ var _mui_material_Select__WEBPACK_IMPORTED_MODULE_42___default = /*#__PURE__*/__webpack_require__.n(_mui_material_Select__WEBPACK_IMPORTED_MODULE_42__);\n/* harmony import */ var _mui_material_Alert__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! @mui/material/Alert */ \"(ssr)/./node_modules/@mui/material/node/Alert/index.js\");\n/* harmony import */ var _mui_material_Alert__WEBPACK_IMPORTED_MODULE_46___default = /*#__PURE__*/__webpack_require__.n(_mui_material_Alert__WEBPACK_IMPORTED_MODULE_46__);\n/* harmony import */ var _mui_material_AlertTitle__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! @mui/material/AlertTitle */ \"(ssr)/./node_modules/@mui/material/node/AlertTitle/index.js\");\n/* harmony import */ var _mui_material_AlertTitle__WEBPACK_IMPORTED_MODULE_47___default = /*#__PURE__*/__webpack_require__.n(_mui_material_AlertTitle__WEBPACK_IMPORTED_MODULE_47__);\n/* harmony import */ var _mui_material_Radio__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! @mui/material/Radio */ \"(ssr)/./node_modules/@mui/material/node/Radio/index.js\");\n/* harmony import */ var _mui_material_Radio__WEBPACK_IMPORTED_MODULE_45___default = /*#__PURE__*/__webpack_require__.n(_mui_material_Radio__WEBPACK_IMPORTED_MODULE_45__);\n/* harmony import */ var _mui_material_Fade__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! @mui/material/Fade */ \"(ssr)/./node_modules/@mui/material/node/Fade/index.js\");\n/* harmony import */ var _mui_material_Switch__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! @mui/material/Switch */ \"(ssr)/./node_modules/@mui/material/node/Switch/index.js\");\n/* harmony import */ var _mui_material_Switch__WEBPACK_IMPORTED_MODULE_50___default = /*#__PURE__*/__webpack_require__.n(_mui_material_Switch__WEBPACK_IMPORTED_MODULE_50__);\n/* harmony import */ var _mui_material_CircularProgress__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! @mui/material/CircularProgress */ \"(ssr)/./node_modules/@mui/material/node/CircularProgress/index.js\");\n/* harmony import */ var _mui_material_CircularProgress__WEBPACK_IMPORTED_MODULE_53___default = /*#__PURE__*/__webpack_require__.n(_mui_material_CircularProgress__WEBPACK_IMPORTED_MODULE_53__);\n/* harmony import */ var _mui_material_Dialog__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! @mui/material/Dialog */ \"(ssr)/./node_modules/@mui/material/node/Dialog/index.js\");\n/* harmony import */ var _mui_material_Dialog__WEBPACK_IMPORTED_MODULE_54___default = /*#__PURE__*/__webpack_require__.n(_mui_material_Dialog__WEBPACK_IMPORTED_MODULE_54__);\n/* harmony import */ var _mui_material_DialogActions__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! @mui/material/DialogActions */ \"(ssr)/./node_modules/@mui/material/node/DialogActions/index.js\");\n/* harmony import */ var _mui_material_DialogActions__WEBPACK_IMPORTED_MODULE_57___default = /*#__PURE__*/__webpack_require__.n(_mui_material_DialogActions__WEBPACK_IMPORTED_MODULE_57__);\n/* harmony import */ var _mui_material_DialogContent__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! @mui/material/DialogContent */ \"(ssr)/./node_modules/@mui/material/node/DialogContent/index.js\");\n/* harmony import */ var _mui_material_DialogContent__WEBPACK_IMPORTED_MODULE_56___default = /*#__PURE__*/__webpack_require__.n(_mui_material_DialogContent__WEBPACK_IMPORTED_MODULE_56__);\n/* harmony import */ var _mui_material_DialogTitle__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! @mui/material/DialogTitle */ \"(ssr)/./node_modules/@mui/material/node/DialogTitle/index.js\");\n/* harmony import */ var _mui_material_DialogTitle__WEBPACK_IMPORTED_MODULE_55___default = /*#__PURE__*/__webpack_require__.n(_mui_material_DialogTitle__WEBPACK_IMPORTED_MODULE_55__);\n/* harmony import */ var _mui_icons_material_ArrowDownward__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! @mui/icons-material/ArrowDownward */ \"(ssr)/./node_modules/@mui/icons-material/ArrowDownward.js\");\n/* harmony import */ var _mui_icons_material_ArrowRight__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! @mui/icons-material/ArrowRight */ \"(ssr)/./node_modules/@mui/icons-material/ArrowRight.js\");\n/* harmony import */ var _mui_icons_material_Cancel__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! @mui/icons-material/Cancel */ \"(ssr)/./node_modules/@mui/icons-material/Cancel.js\");\n/* harmony import */ var _mui_icons_material_ChevronLeft__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! @mui/icons-material/ChevronLeft */ \"(ssr)/./node_modules/@mui/icons-material/ChevronLeft.js\");\n/* harmony import */ var _mui_icons_material_ChevronRight__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! @mui/icons-material/ChevronRight */ \"(ssr)/./node_modules/@mui/icons-material/ChevronRight.js\");\n/* harmony import */ var _mui_icons_material_ClearAll__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! @mui/icons-material/ClearAll */ \"(ssr)/./node_modules/@mui/icons-material/ClearAll.js\");\n/* harmony import */ var _mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! @mui/icons-material/Close */ \"(ssr)/./node_modules/@mui/icons-material/Close.js\");\n/* harmony import */ var _mui_icons_material_DensityLarge__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! @mui/icons-material/DensityLarge */ \"(ssr)/./node_modules/@mui/icons-material/DensityLarge.js\");\n/* harmony import */ var _mui_icons_material_DensityMedium__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! @mui/icons-material/DensityMedium */ \"(ssr)/./node_modules/@mui/icons-material/DensityMedium.js\");\n/* harmony import */ var _mui_icons_material_DensitySmall__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! @mui/icons-material/DensitySmall */ \"(ssr)/./node_modules/@mui/icons-material/DensitySmall.js\");\n/* harmony import */ var _mui_icons_material_DragHandle__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! @mui/icons-material/DragHandle */ \"(ssr)/./node_modules/@mui/icons-material/DragHandle.js\");\n/* harmony import */ var _mui_icons_material_DynamicFeed__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! @mui/icons-material/DynamicFeed */ \"(ssr)/./node_modules/@mui/icons-material/DynamicFeed.js\");\n/* harmony import */ var _mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! @mui/icons-material/Edit */ \"(ssr)/./node_modules/@mui/icons-material/Edit.js\");\n/* harmony import */ var _mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! @mui/icons-material/ExpandMore */ \"(ssr)/./node_modules/@mui/icons-material/ExpandMore.js\");\n/* harmony import */ var _mui_icons_material_FilterAlt__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! @mui/icons-material/FilterAlt */ \"(ssr)/./node_modules/@mui/icons-material/FilterAlt.js\");\n/* harmony import */ var _mui_icons_material_FilterList__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! @mui/icons-material/FilterList */ \"(ssr)/./node_modules/@mui/icons-material/FilterList.js\");\n/* harmony import */ var _mui_icons_material_FilterListOff__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! @mui/icons-material/FilterListOff */ \"(ssr)/./node_modules/@mui/icons-material/FilterListOff.js\");\n/* harmony import */ var _mui_icons_material_FirstPage__WEBPACK_IMPORTED_MODULE_77__ = __webpack_require__(/*! @mui/icons-material/FirstPage */ \"(ssr)/./node_modules/@mui/icons-material/FirstPage.js\");\n/* harmony import */ var _mui_icons_material_Fullscreen__WEBPACK_IMPORTED_MODULE_79__ = __webpack_require__(/*! @mui/icons-material/Fullscreen */ \"(ssr)/./node_modules/@mui/icons-material/Fullscreen.js\");\n/* harmony import */ var _mui_icons_material_FullscreenExit__WEBPACK_IMPORTED_MODULE_78__ = __webpack_require__(/*! @mui/icons-material/FullscreenExit */ \"(ssr)/./node_modules/@mui/icons-material/FullscreenExit.js\");\n/* harmony import */ var _mui_icons_material_KeyboardDoubleArrowDown__WEBPACK_IMPORTED_MODULE_80__ = __webpack_require__(/*! @mui/icons-material/KeyboardDoubleArrowDown */ \"(ssr)/./node_modules/@mui/icons-material/KeyboardDoubleArrowDown.js\");\n/* harmony import */ var _mui_icons_material_LastPage__WEBPACK_IMPORTED_MODULE_81__ = __webpack_require__(/*! @mui/icons-material/LastPage */ \"(ssr)/./node_modules/@mui/icons-material/LastPage.js\");\n/* harmony import */ var _mui_icons_material_MoreHoriz__WEBPACK_IMPORTED_MODULE_82__ = __webpack_require__(/*! @mui/icons-material/MoreHoriz */ \"(ssr)/./node_modules/@mui/icons-material/MoreHoriz.js\");\n/* harmony import */ var _mui_icons_material_MoreVert__WEBPACK_IMPORTED_MODULE_83__ = __webpack_require__(/*! @mui/icons-material/MoreVert */ \"(ssr)/./node_modules/@mui/icons-material/MoreVert.js\");\n/* harmony import */ var _mui_icons_material_PushPin__WEBPACK_IMPORTED_MODULE_84__ = __webpack_require__(/*! @mui/icons-material/PushPin */ \"(ssr)/./node_modules/@mui/icons-material/PushPin.js\");\n/* harmony import */ var _mui_icons_material_RestartAlt__WEBPACK_IMPORTED_MODULE_85__ = __webpack_require__(/*! @mui/icons-material/RestartAlt */ \"(ssr)/./node_modules/@mui/icons-material/RestartAlt.js\");\n/* harmony import */ var _mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_86__ = __webpack_require__(/*! @mui/icons-material/Save */ \"(ssr)/./node_modules/@mui/icons-material/Save.js\");\n/* harmony import */ var _mui_icons_material_Search__WEBPACK_IMPORTED_MODULE_87__ = __webpack_require__(/*! @mui/icons-material/Search */ \"(ssr)/./node_modules/@mui/icons-material/Search.js\");\n/* harmony import */ var _mui_icons_material_SearchOff__WEBPACK_IMPORTED_MODULE_88__ = __webpack_require__(/*! @mui/icons-material/SearchOff */ \"(ssr)/./node_modules/@mui/icons-material/SearchOff.js\");\n/* harmony import */ var _mui_icons_material_Sort__WEBPACK_IMPORTED_MODULE_89__ = __webpack_require__(/*! @mui/icons-material/Sort */ \"(ssr)/./node_modules/@mui/icons-material/Sort.js\");\n/* harmony import */ var _mui_icons_material_SyncAlt__WEBPACK_IMPORTED_MODULE_90__ = __webpack_require__(/*! @mui/icons-material/SyncAlt */ \"(ssr)/./node_modules/@mui/icons-material/SyncAlt.js\");\n/* harmony import */ var _mui_icons_material_ViewColumn__WEBPACK_IMPORTED_MODULE_91__ = __webpack_require__(/*! @mui/icons-material/ViewColumn */ \"(ssr)/./node_modules/@mui/icons-material/ViewColumn.js\");\n/* harmony import */ var _mui_icons_material_VisibilityOff__WEBPACK_IMPORTED_MODULE_92__ = __webpack_require__(/*! @mui/icons-material/VisibilityOff */ \"(ssr)/./node_modules/@mui/icons-material/VisibilityOff.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nconst getColumnId = (columnDef) => { var _a, _b, _c, _d; return (_d = (_a = columnDef.id) !== null && _a !== void 0 ? _a : (_c = (_b = columnDef.accessorKey) === null || _b === void 0 ? void 0 : _b.toString) === null || _c === void 0 ? void 0 : _c.call(_b)) !== null && _d !== void 0 ? _d : columnDef.header; };\nconst getAllLeafColumnDefs = (columns) => {\n    const allLeafColumnDefs = [];\n    const getLeafColumns = (cols) => {\n        cols.forEach((col) => {\n            if (col.columns) {\n                getLeafColumns(col.columns);\n            }\n            else {\n                allLeafColumnDefs.push(col);\n            }\n        });\n    };\n    getLeafColumns(columns);\n    return allLeafColumnDefs;\n};\nconst prepareColumns = ({ aggregationFns, columnDefs, columnFilterFns, defaultDisplayColumn, filterFns, sortingFns, }) => columnDefs.map((columnDef) => {\n    var _a, _b;\n    //assign columnId\n    if (!columnDef.id)\n        columnDef.id = getColumnId(columnDef);\n    if ( true && !columnDef.id) {\n        console.error('Column definitions must have a valid `accessorKey` or `id` property');\n    }\n    //assign columnDefType\n    if (!columnDef.columnDefType)\n        columnDef.columnDefType = 'data';\n    if ((_a = columnDef.columns) === null || _a === void 0 ? void 0 : _a.length) {\n        columnDef.columnDefType = 'group';\n        //recursively prepare columns if this is a group column\n        columnDef.columns = prepareColumns({\n            aggregationFns,\n            columnDefs: columnDef.columns,\n            columnFilterFns,\n            defaultDisplayColumn,\n            filterFns,\n            sortingFns,\n        });\n    }\n    else if (columnDef.columnDefType === 'data') {\n        //assign aggregationFns if multiple aggregationFns are provided\n        if (Array.isArray(columnDef.aggregationFn)) {\n            const aggFns = columnDef.aggregationFn;\n            columnDef.aggregationFn = (columnId, leafRows, childRows) => aggFns.map((fn) => { var _a; return (_a = aggregationFns[fn]) === null || _a === void 0 ? void 0 : _a.call(aggregationFns, columnId, leafRows, childRows); });\n        }\n        //assign filterFns\n        if (Object.keys(filterFns).includes(columnFilterFns[columnDef.id])) {\n            columnDef.filterFn =\n                (_b = filterFns[columnFilterFns[columnDef.id]]) !== null && _b !== void 0 ? _b : filterFns.fuzzy;\n            columnDef._filterFn =\n                columnFilterFns[columnDef.id];\n        }\n        //assign sortingFns\n        if (Object.keys(sortingFns).includes(columnDef.sortingFn)) {\n            // @ts-ignore\n            columnDef.sortingFn = sortingFns[columnDef.sortingFn];\n        }\n    }\n    else if (columnDef.columnDefType === 'display') {\n        columnDef = Object.assign(Object.assign({}, defaultDisplayColumn), columnDef);\n    }\n    return columnDef;\n});\nconst reorderColumn = (draggedColumn, targetColumn, columnOrder) => {\n    if (draggedColumn.getCanPin()) {\n        draggedColumn.pin(targetColumn.getIsPinned());\n    }\n    const newColumnOrder = [...columnOrder];\n    newColumnOrder.splice(newColumnOrder.indexOf(targetColumn.id), 0, newColumnOrder.splice(newColumnOrder.indexOf(draggedColumn.id), 1)[0]);\n    return newColumnOrder;\n};\nconst showExpandColumn = (props, grouping) => !!(props.enableExpanding ||\n    (props.enableGrouping && (grouping === undefined || (grouping === null || grouping === void 0 ? void 0 : grouping.length))) ||\n    props.renderDetailPanel);\nconst getLeadingDisplayColumnIds = (props) => {\n    var _a, _b;\n    return [\n        props.enableRowPinning &&\n            !((_a = props.rowPinningDisplayMode) === null || _a === void 0 ? void 0 : _a.startsWith('select')) &&\n            'mrt-row-pin',\n        (props.enableRowDragging || props.enableRowOrdering) && 'mrt-row-drag',\n        props.positionActionsColumn === 'first' &&\n            (props.enableRowActions ||\n                (props.enableEditing &&\n                    ['modal', 'row'].includes((_b = props.editDisplayMode) !== null && _b !== void 0 ? _b : ''))) &&\n            'mrt-row-actions',\n        props.positionExpandColumn === 'first' &&\n            showExpandColumn(props) &&\n            'mrt-row-expand',\n        props.enableRowSelection && 'mrt-row-select',\n        props.enableRowNumbers && 'mrt-row-numbers',\n    ].filter(Boolean);\n};\nconst getTrailingDisplayColumnIds = (props) => {\n    var _a;\n    return [\n        props.positionActionsColumn === 'last' &&\n            (props.enableRowActions ||\n                (props.enableEditing &&\n                    ['modal', 'row'].includes((_a = props.editDisplayMode) !== null && _a !== void 0 ? _a : ''))) &&\n            'mrt-row-actions',\n        props.positionExpandColumn === 'last' &&\n            showExpandColumn(props) &&\n            'mrt-row-expand',\n        props.layoutMode === 'grid-no-grow' && 'mrt-row-spacer',\n    ].filter(Boolean);\n};\nconst getDefaultColumnOrderIds = (props) => {\n    const leadingDisplayCols = getLeadingDisplayColumnIds(props);\n    const trailingDisplayCols = getTrailingDisplayColumnIds(props);\n    const allLeafColumnDefs = getAllLeafColumnDefs(props.columns)\n        .map((columnDef) => getColumnId(columnDef))\n        .filter((columnId) => !leadingDisplayCols.includes(columnId) &&\n        !trailingDisplayCols.includes(columnId));\n    return [...leadingDisplayCols, ...allLeafColumnDefs, ...trailingDisplayCols];\n};\nconst getDefaultColumnFilterFn = (columnDef) => {\n    var _a;\n    if (columnDef.filterVariant === 'multi-select')\n        return 'arrIncludesSome';\n    if ((_a = columnDef.filterVariant) === null || _a === void 0 ? void 0 : _a.includes('range'))\n        return 'betweenInclusive';\n    if (columnDef.filterVariant === 'select' ||\n        columnDef.filterVariant === 'checkbox')\n        return 'equals';\n    return 'fuzzy';\n};\nconst getIsFirstColumn = (column, table) => {\n    const leftColumns = table.getLeftVisibleLeafColumns();\n    return leftColumns.length\n        ? leftColumns[0].id === column.id\n        : table.getVisibleLeafColumns()[0].id === column.id;\n};\nconst getIsLastColumn = (column, table) => {\n    const rightColumns = table.getRightVisibleLeafColumns();\n    const columns = table.getVisibleLeafColumns();\n    return rightColumns.length\n        ? rightColumns[rightColumns.length - 1].id === column.id\n        : columns[columns.length - 1].id === column.id;\n};\nconst getIsLastLeftPinnedColumn = (table, column) => {\n    return (column.getIsPinned() === 'left' &&\n        table.getLeftLeafHeaders().length - 1 === column.getPinnedIndex());\n};\nconst getIsFirstRightPinnedColumn = (column) => {\n    return column.getIsPinned() === 'right' && column.getPinnedIndex() === 0;\n};\nconst getTotalRight = (table, column) => {\n    return table\n        .getRightLeafHeaders()\n        .slice(column.getPinnedIndex() + 1)\n        .reduce((acc, col) => acc + col.getSize(), 0);\n};\nconst getCanRankRows = (table) => {\n    const { getState, options } = table;\n    const { enableGlobalFilterRankedResults, manualExpanding, manualFiltering, manualGrouping, manualSorting, } = options;\n    const { expanded, globalFilterFn } = getState();\n    return (!manualExpanding &&\n        !manualFiltering &&\n        !manualGrouping &&\n        !manualSorting &&\n        enableGlobalFilterRankedResults &&\n        globalFilterFn === 'fuzzy' &&\n        expanded !== true &&\n        !Object.values(expanded).some(Boolean));\n};\nconst parseFromValuesOrFunc = (fn, arg) => (fn instanceof Function ? fn(arg) : fn);\nconst flexRender = _tanstack_react_table__WEBPACK_IMPORTED_MODULE_3__.flexRender;\nconst createRow = (table, originalRow) => (0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_4__.createRow)(table, 'mrt-row-create', originalRow !== null && originalRow !== void 0 ? originalRow : Object.assign({}, ...getAllLeafColumnDefs(table.options.columns).map((col) => ({\n    [getColumnId(col)]: '',\n}))), -1, 0);\nconst extraIndexRangeExtractor = (range, draggingIndex) => {\n    const newIndexes = (0,_tanstack_react_virtual__WEBPACK_IMPORTED_MODULE_5__.defaultRangeExtractor)(range);\n    if (draggingIndex >= 0 &&\n        draggingIndex < Math.max(range.startIndex - range.overscan, 0)) {\n        newIndexes.unshift(draggingIndex);\n    }\n    if (draggingIndex >= 0 && draggingIndex > range.endIndex + range.overscan) {\n        newIndexes.push(draggingIndex);\n    }\n    return newIndexes;\n};\nfunction createMRTColumnHelper() {\n    return {\n        accessor: (accessor, column) => {\n            return typeof accessor === 'function'\n                ? Object.assign(Object.assign({}, column), { accessorFn: accessor })\n                : Object.assign(Object.assign({}, column), { accessorKey: accessor });\n        },\n        display: (column) => column,\n        group: (column) => column,\n    };\n}\nconst getValueAndLabel = (option) => {\n    var _a, _b, _c;\n    let label = '';\n    let value = '';\n    if (option) {\n        if (typeof option !== 'object') {\n            label = option;\n            value = option;\n        }\n        else {\n            label = (_b = (_a = option.label) !== null && _a !== void 0 ? _a : option.text) !== null && _b !== void 0 ? _b : option.value;\n            value = (_c = option.value) !== null && _c !== void 0 ? _c : label;\n        }\n    }\n    return { label, value };\n};\n\nconst parseCSSVarId = (id) => id.replace(/[^a-zA-Z0-9]/g, '_');\nconst getMRTTheme = (table, theme) => (Object.assign({ baseBackgroundColor: theme.palette.mode === 'dark'\n        ? (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_6__.lighten)(theme.palette.background.default, 0.05)\n        : theme.palette.background.default, draggingBorderColor: theme.palette.primary.main, matchHighlightColor: theme.palette.mode === 'dark'\n        ? (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_6__.darken)(theme.palette.warning.dark, 0.25)\n        : (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_6__.lighten)(theme.palette.warning.light, 0.5), pinnedRowBackgroundColor: (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_6__.alpha)(theme.palette.primary.main, 0.1), selectedRowBackgroundColor: (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_6__.alpha)(theme.palette.primary.main, 0.2) }, parseFromValuesOrFunc(table.options.mrtTheme, theme)));\nconst getCommonMRTCellStyles = ({ column, header, table, tableCellProps, theme, }) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n    const { options: { layoutMode }, } = table;\n    const widthStyles = {\n        minWidth: `max(calc(var(--${header ? 'header' : 'col'}-${parseCSSVarId((_a = header === null || header === void 0 ? void 0 : header.id) !== null && _a !== void 0 ? _a : column.id)}-size) * 1px), ${(_b = column.columnDef.minSize) !== null && _b !== void 0 ? _b : 30}px)`,\n        width: `calc(var(--${header ? 'header' : 'col'}-${parseCSSVarId((_c = header === null || header === void 0 ? void 0 : header.id) !== null && _c !== void 0 ? _c : column.id)}-size) * 1px)`,\n    };\n    if (layoutMode === 'grid') {\n        widthStyles.flex = `var(--${header ? 'header' : 'col'}-${parseCSSVarId((_d = header === null || header === void 0 ? void 0 : header.id) !== null && _d !== void 0 ? _d : column.id)}-size) 0 auto`;\n    }\n    else if (layoutMode === 'grid-no-grow') {\n        widthStyles.flex = '0 0 auto';\n    }\n    return Object.assign(Object.assign({ backgroundColor: column.getIsPinned() && column.columnDef.columnDefType !== 'group'\n            ? (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_6__.alpha)((0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_6__.darken)(getMRTTheme(table, theme).baseBackgroundColor, theme.palette.mode === 'dark' ? 0.05 : 0.01), 0.97)\n            : 'inherit', backgroundImage: 'inherit', boxShadow: getIsLastLeftPinnedColumn(table, column)\n            ? `-4px 0 8px -6px ${(0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_6__.alpha)(theme.palette.grey[700], 0.5)} inset`\n            : getIsFirstRightPinnedColumn(column)\n                ? `4px 0 8px -6px ${(0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_6__.alpha)(theme.palette.grey[700], 0.5)} inset`\n                : undefined, display: (layoutMode === null || layoutMode === void 0 ? void 0 : layoutMode.startsWith('grid')) ? 'flex' : undefined, left: column.getIsPinned() === 'left'\n            ? `${column.getStart('left')}px`\n            : undefined, ml: table.options.enableColumnVirtualization &&\n            column.getIsPinned() === 'left' &&\n            column.getPinnedIndex() === 0\n            ? `-${column.getSize() *\n                ((_f = (_e = table.getState().columnPinning.left) === null || _e === void 0 ? void 0 : _e.length) !== null && _f !== void 0 ? _f : 1)}px`\n            : undefined, mr: table.options.enableColumnVirtualization &&\n            column.getIsPinned() === 'right' &&\n            column.getPinnedIndex() === table.getVisibleLeafColumns().length - 1\n            ? `-${column.getSize() *\n                ((_h = (_g = table.getState().columnPinning.right) === null || _g === void 0 ? void 0 : _g.length) !== null && _h !== void 0 ? _h : 1) *\n                1.2}px`\n            : undefined, opacity: ((_j = table.getState().draggingColumn) === null || _j === void 0 ? void 0 : _j.id) === column.id ||\n            ((_k = table.getState().hoveredColumn) === null || _k === void 0 ? void 0 : _k.id) === column.id\n            ? 0.5\n            : 1, position: column.getIsPinned() && column.columnDef.columnDefType !== 'group'\n            ? 'sticky'\n            : undefined, right: column.getIsPinned() === 'right'\n            ? `${getTotalRight(table, column)}px`\n            : undefined, transition: table.options.enableColumnVirtualization\n            ? 'none'\n            : `padding 150ms ease-in-out` }, widthStyles), parseFromValuesOrFunc(tableCellProps === null || tableCellProps === void 0 ? void 0 : tableCellProps.sx, theme));\n};\nconst getCommonToolbarStyles = ({ table, theme, }) => ({\n    alignItems: 'flex-start',\n    backgroundColor: getMRTTheme(table, theme).baseBackgroundColor,\n    display: 'grid',\n    flexWrap: 'wrap-reverse',\n    minHeight: '3.5rem',\n    overflow: 'hidden',\n    position: 'relative',\n    transition: 'all 150ms ease-in-out',\n    zIndex: 1,\n});\n\nconst allowedTypes = ['string', 'number'];\nconst MRT_TableBodyCellValue = ({ cell, table, }) => {\n    var _a, _b, _c;\n    const { getState, options: { enableFilterMatchHighlighting }, } = table;\n    const { column, row } = cell;\n    const { columnDef } = column;\n    const { globalFilter, globalFilterFn } = getState();\n    const filterValue = column.getFilterValue();\n    let renderedCellValue = cell.getIsAggregated() && columnDef.AggregatedCell\n        ? columnDef.AggregatedCell({\n            cell,\n            column,\n            row,\n            table,\n        })\n        : row.getIsGrouped() && !cell.getIsGrouped()\n            ? null\n            : cell.getIsGrouped() && columnDef.GroupedCell\n                ? columnDef.GroupedCell({\n                    cell,\n                    column,\n                    row,\n                    table,\n                })\n                : undefined;\n    const isGroupedValue = renderedCellValue !== undefined;\n    if (!isGroupedValue) {\n        renderedCellValue = cell.renderValue();\n    }\n    if (enableFilterMatchHighlighting &&\n        columnDef.enableFilterMatchHighlighting !== false &&\n        String(renderedCellValue) &&\n        allowedTypes.includes(typeof renderedCellValue) &&\n        ((filterValue &&\n            allowedTypes.includes(typeof filterValue) &&\n            columnDef.filterVariant === 'text') ||\n            (globalFilter &&\n                allowedTypes.includes(typeof globalFilter) &&\n                column.getCanGlobalFilter()))) {\n        const chunks = highlight_words__WEBPACK_IMPORTED_MODULE_2__[\"default\"] === null || highlight_words__WEBPACK_IMPORTED_MODULE_2__[\"default\"] === void 0 ? void 0 : (0,highlight_words__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n            matchExactly: (filterValue ? columnDef._filterFn : globalFilterFn) !== 'fuzzy',\n            query: ((_a = filterValue !== null && filterValue !== void 0 ? filterValue : globalFilter) !== null && _a !== void 0 ? _a : '').toString(),\n            text: renderedCellValue === null || renderedCellValue === void 0 ? void 0 : renderedCellValue.toString(),\n        });\n        if ((chunks === null || chunks === void 0 ? void 0 : chunks.length) > 1 || ((_b = chunks === null || chunks === void 0 ? void 0 : chunks[0]) === null || _b === void 0 ? void 0 : _b.match)) {\n            renderedCellValue = ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { \"aria-label\": renderedCellValue, role: \"note\", children: (_c = chunks === null || chunks === void 0 ? void 0 : chunks.map(({ key, match, text }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { \"aria-hidden\": \"true\", component: \"span\", sx: match\n                        ? {\n                            backgroundColor: (theme) => getMRTTheme(table, theme).matchHighlightColor,\n                            borderRadius: '2px',\n                            color: (theme) => theme.palette.mode === 'dark'\n                                ? theme.palette.common.white\n                                : theme.palette.common.black,\n                            padding: '2px 1px',\n                        }\n                        : undefined, children: text }, key)))) !== null && _c !== void 0 ? _c : renderedCellValue }));\n        }\n    }\n    if (columnDef.Cell && !isGroupedValue) {\n        renderedCellValue = columnDef.Cell({\n            cell,\n            column,\n            renderedCellValue,\n            row,\n            table,\n        });\n    }\n    return renderedCellValue;\n};\n\nconst MRT_GrabHandleButton = (_a) => {\n    var _b;\n    var { iconButtonProps, location, onDragEnd, onDragStart, table } = _a, rest = __rest(_a, [\"iconButtonProps\", \"location\", \"onDragEnd\", \"onDragStart\", \"table\"]);\n    const { options: { icons: { DragHandleIcon }, localization, }, } = table;\n    const _iconButtonProps = Object.assign(Object.assign({}, iconButtonProps), rest);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { enterDelay: 1000, enterNextDelay: 1000, placement: \"top\", title: (_b = _iconButtonProps === null || _iconButtonProps === void 0 ? void 0 : _iconButtonProps.title) !== null && _b !== void 0 ? _b : localization.move, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), Object.assign({ disableRipple: true, draggable: \"true\", size: \"small\" }, _iconButtonProps, { onClick: (e) => {\n                var _a;\n                e.stopPropagation();\n                (_a = _iconButtonProps === null || _iconButtonProps === void 0 ? void 0 : _iconButtonProps.onClick) === null || _a === void 0 ? void 0 : _a.call(_iconButtonProps, e);\n            }, onDragEnd: onDragEnd, onDragStart: onDragStart, sx: (theme) => (Object.assign({ '&:active': {\n                    cursor: 'grabbing',\n                }, '&:hover': {\n                    backgroundColor: 'transparent',\n                    opacity: 1,\n                }, cursor: 'grab', m: '0 -0.1rem', opacity: location === 'row' ? 1 : 0.3, p: '2px', transition: 'all 150ms ease-in-out' }, parseFromValuesOrFunc(_iconButtonProps === null || _iconButtonProps === void 0 ? void 0 : _iconButtonProps.sx, theme))), title: undefined, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DragHandleIcon, {}) })) }));\n};\n\nconst MRT_TableBodyRowGrabHandle = (_a) => {\n    var { row, rowRef, table } = _a, rest = __rest(_a, [\"row\", \"rowRef\", \"table\"]);\n    const { options: { muiRowDragHandleProps }, } = table;\n    const iconButtonProps = Object.assign(Object.assign({}, parseFromValuesOrFunc(muiRowDragHandleProps, {\n        row,\n        table,\n    })), rest);\n    const handleDragStart = (event) => {\n        var _a;\n        (_a = iconButtonProps === null || iconButtonProps === void 0 ? void 0 : iconButtonProps.onDragStart) === null || _a === void 0 ? void 0 : _a.call(iconButtonProps, event);\n        event.dataTransfer.setDragImage(rowRef.current, 0, 0);\n        table.setDraggingRow(row);\n    };\n    const handleDragEnd = (event) => {\n        var _a;\n        (_a = iconButtonProps === null || iconButtonProps === void 0 ? void 0 : iconButtonProps.onDragEnd) === null || _a === void 0 ? void 0 : _a.call(iconButtonProps, event);\n        table.setDraggingRow(null);\n        table.setHoveredRow(null);\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_GrabHandleButton, { iconButtonProps: iconButtonProps, location: \"row\", onDragEnd: handleDragEnd, onDragStart: handleDragStart, table: table }));\n};\n\nconst MRT_CopyButton = (_a) => {\n    var _b;\n    var { cell, table } = _a, rest = __rest(_a, [\"cell\", \"table\"]);\n    const { options: { localization, muiCopyButtonProps }, } = table;\n    const { column, row } = cell;\n    const { columnDef } = column;\n    const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const handleCopy = (event, text) => {\n        event.stopPropagation();\n        navigator.clipboard.writeText(text);\n        setCopied(true);\n        setTimeout(() => setCopied(false), 4000);\n    };\n    const buttonProps = Object.assign(Object.assign(Object.assign({}, parseFromValuesOrFunc(muiCopyButtonProps, {\n        cell,\n        column,\n        row,\n        table,\n    })), parseFromValuesOrFunc(columnDef.muiCopyButtonProps, {\n        cell,\n        column,\n        row,\n        table,\n    })), rest);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { enterDelay: 1000, enterNextDelay: 1000, placement: \"top\", title: (_b = buttonProps === null || buttonProps === void 0 ? void 0 : buttonProps.title) !== null && _b !== void 0 ? _b : (copied ? localization.copiedToClipboard : localization.clickToCopy), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Button__WEBPACK_IMPORTED_MODULE_10___default()), Object.assign({ onClick: (e) => handleCopy(e, cell.getValue()), size: \"small\", type: \"button\", variant: \"text\" }, buttonProps, { sx: (theme) => (Object.assign({ backgroundColor: 'transparent', border: 'none', color: 'inherit', cursor: 'copy', fontFamily: 'inherit', fontSize: 'inherit', letterSpacing: 'inherit', m: '-0.25rem', minWidth: 'unset', textAlign: 'inherit', textTransform: 'inherit' }, parseFromValuesOrFunc(buttonProps === null || buttonProps === void 0 ? void 0 : buttonProps.sx, theme))), title: undefined })) }));\n};\n\nconst MRT_EditCellTextField = (_a) => {\n    var _b, _c, _d;\n    var { cell, table } = _a, rest = __rest(_a, [\"cell\", \"table\"]);\n    const { getState, options: { createDisplayMode, editDisplayMode, muiEditTextFieldProps }, refs: { editInputRefs }, setCreatingRow, setEditingCell, setEditingRow, } = table;\n    const { column, row } = cell;\n    const { columnDef } = column;\n    const { creatingRow, editingRow } = getState();\n    const isCreating = (creatingRow === null || creatingRow === void 0 ? void 0 : creatingRow.id) === row.id;\n    const isEditing = (editingRow === null || editingRow === void 0 ? void 0 : editingRow.id) === row.id;\n    const isSelectEdit = columnDef.editVariant === 'select';\n    const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => cell.getValue());\n    const textFieldProps = Object.assign(Object.assign(Object.assign({}, parseFromValuesOrFunc(muiEditTextFieldProps, {\n        cell,\n        column,\n        row,\n        table,\n    })), parseFromValuesOrFunc(columnDef.muiEditTextFieldProps, {\n        cell,\n        column,\n        row,\n        table,\n    })), rest);\n    const saveInputValueToRowCache = (newValue) => {\n        //@ts-ignore\n        row._valuesCache[column.id] = newValue;\n        if (isCreating) {\n            setCreatingRow(row);\n        }\n        else if (isEditing) {\n            setEditingRow(row);\n        }\n    };\n    const handleChange = (event) => {\n        var _a;\n        (_a = textFieldProps.onChange) === null || _a === void 0 ? void 0 : _a.call(textFieldProps, event);\n        setValue(event.target.value);\n        if (textFieldProps === null || textFieldProps === void 0 ? void 0 : textFieldProps.select) {\n            saveInputValueToRowCache(event.target.value);\n        }\n    };\n    const handleBlur = (event) => {\n        var _a;\n        (_a = textFieldProps.onBlur) === null || _a === void 0 ? void 0 : _a.call(textFieldProps, event);\n        saveInputValueToRowCache(value);\n        setEditingCell(null);\n    };\n    const handleEnterKeyDown = (event) => {\n        var _a, _b;\n        (_a = textFieldProps.onKeyDown) === null || _a === void 0 ? void 0 : _a.call(textFieldProps, event);\n        if (event.key === 'Enter' && !event.shiftKey) {\n            (_b = editInputRefs.current[column.id]) === null || _b === void 0 ? void 0 : _b.blur();\n        }\n    };\n    if (columnDef.Edit) {\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: (_b = columnDef.Edit) === null || _b === void 0 ? void 0 : _b.call(columnDef, { cell, column, row, table }) });\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_TextField__WEBPACK_IMPORTED_MODULE_11___default()), Object.assign({ disabled: parseFromValuesOrFunc(columnDef.enableEditing, row) === false, fullWidth: true, inputRef: (inputRef) => {\n            if (inputRef) {\n                editInputRefs.current[column.id] = inputRef;\n                if (textFieldProps.inputRef) {\n                    textFieldProps.inputRef = inputRef;\n                }\n            }\n        }, label: ['custom', 'modal'].includes((isCreating ? createDisplayMode : editDisplayMode))\n            ? columnDef.header\n            : undefined, margin: \"none\", name: column.id, placeholder: !['custom', 'modal'].includes((isCreating ? createDisplayMode : editDisplayMode))\n            ? columnDef.header\n            : undefined, select: isSelectEdit, size: \"small\", value: value, variant: \"standard\" }, textFieldProps, { InputProps: Object.assign(Object.assign({ disableUnderline: editDisplayMode === 'table' }, textFieldProps.InputProps), { sx: (theme) => {\n                var _a;\n                return (Object.assign({ mb: 0 }, parseFromValuesOrFunc((_a = textFieldProps === null || textFieldProps === void 0 ? void 0 : textFieldProps.InputProps) === null || _a === void 0 ? void 0 : _a.sx, theme)));\n            } }), inputProps: Object.assign({ autoComplete: 'new-password' }, textFieldProps.inputProps), onBlur: handleBlur, onChange: handleChange, onClick: (e) => {\n            var _a;\n            e.stopPropagation();\n            (_a = textFieldProps === null || textFieldProps === void 0 ? void 0 : textFieldProps.onClick) === null || _a === void 0 ? void 0 : _a.call(textFieldProps, e);\n        }, onKeyDown: handleEnterKeyDown, children: (_c = textFieldProps.children) !== null && _c !== void 0 ? _c : (_d = columnDef === null || columnDef === void 0 ? void 0 : columnDef.editSelectOptions) === null || _d === void 0 ? void 0 : _d.map((option) => {\n            const { label, value } = getValueAndLabel(option);\n            return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_12___default()), { sx: {\n                    alignItems: 'center',\n                    display: 'flex',\n                    gap: '0.5rem',\n                    m: 0,\n                }, value: value, children: label }, value));\n        }) })));\n};\n\nconst MRT_TableBodyCell = (_a) => {\n    var _b, _c, _d, _e, _f;\n    var { cell, measureElement, numRows, rowIndex, rowRef, table, virtualIndex } = _a, rest = __rest(_a, [\"cell\", \"measureElement\", \"numRows\", \"rowIndex\", \"rowRef\", \"table\", \"virtualIndex\"]);\n    const theme = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_6__.useTheme)();\n    const { getState, options: { columnResizeMode, createDisplayMode, editDisplayMode, enableClickToCopy, enableColumnOrdering, enableEditing, enableGrouping, enableRowNumbers, layoutMode, muiSkeletonProps, muiTableBodyCellProps, rowNumberDisplayMode, }, refs: { editInputRefs }, setEditingCell, setHoveredColumn, } = table;\n    const { columnSizingInfo, creatingRow, density, draggingColumn, draggingRow, editingCell, editingRow, hoveredColumn, hoveredRow, isLoading, showSkeletons, } = getState();\n    const { column, row } = cell;\n    const { columnDef } = column;\n    const { columnDefType } = columnDef;\n    const args = { cell, column, row, table };\n    const tableCellProps = Object.assign(Object.assign(Object.assign({}, parseFromValuesOrFunc(muiTableBodyCellProps, args)), parseFromValuesOrFunc(columnDef.muiTableBodyCellProps, args)), rest);\n    const skeletonProps = parseFromValuesOrFunc(muiSkeletonProps, {\n        cell,\n        column,\n        row,\n        table,\n    });\n    const { draggingBorderColor } = getMRTTheme(table, theme);\n    const [skeletonWidth, setSkeletonWidth] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(100);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        if ((!isLoading && !showSkeletons) || skeletonWidth !== 100)\n            return;\n        const size = column.getSize();\n        setSkeletonWidth(columnDefType === 'display'\n            ? size / 2\n            : Math.round(Math.random() * (size - size / 3) + size / 3));\n    }, [isLoading, showSkeletons]);\n    const draggingBorders = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n        const isDraggingColumn = (draggingColumn === null || draggingColumn === void 0 ? void 0 : draggingColumn.id) === column.id;\n        const isHoveredColumn = (hoveredColumn === null || hoveredColumn === void 0 ? void 0 : hoveredColumn.id) === column.id;\n        const isDraggingRow = (draggingRow === null || draggingRow === void 0 ? void 0 : draggingRow.id) === row.id;\n        const isHoveredRow = (hoveredRow === null || hoveredRow === void 0 ? void 0 : hoveredRow.id) === row.id;\n        const isFirstColumn = getIsFirstColumn(column, table);\n        const isLastColumn = getIsLastColumn(column, table);\n        const isLastRow = numRows && rowIndex === numRows - 1;\n        const showResizeBorder = columnSizingInfo.isResizingColumn === column.id &&\n            columnResizeMode === 'onChange';\n        const borderStyle = showResizeBorder\n            ? `2px solid ${draggingBorderColor} !important`\n            : isDraggingColumn || isDraggingRow\n                ? `1px dashed ${theme.palette.grey[500]} !important`\n                : isHoveredColumn ||\n                    isHoveredRow ||\n                    columnSizingInfo.isResizingColumn === column.id\n                    ? `2px dashed ${draggingBorderColor} !important`\n                    : undefined;\n        if (showResizeBorder) {\n            return { borderRight: borderStyle };\n        }\n        return borderStyle\n            ? {\n                borderBottom: isDraggingRow || isHoveredRow || isLastRow\n                    ? borderStyle\n                    : undefined,\n                borderLeft: isDraggingColumn ||\n                    isHoveredColumn ||\n                    ((isDraggingRow || isHoveredRow) && isFirstColumn)\n                    ? borderStyle\n                    : undefined,\n                borderRight: isDraggingColumn ||\n                    isHoveredColumn ||\n                    ((isDraggingRow || isHoveredRow) && isLastColumn)\n                    ? borderStyle\n                    : undefined,\n                borderTop: isDraggingRow || isHoveredRow ? borderStyle : undefined,\n            }\n            : undefined;\n    }, [\n        columnSizingInfo.isResizingColumn,\n        draggingColumn,\n        draggingRow,\n        hoveredColumn,\n        hoveredRow,\n        rowIndex,\n    ]);\n    const isEditable = parseFromValuesOrFunc(enableEditing, row) &&\n        parseFromValuesOrFunc(columnDef.enableEditing, row) !== false;\n    const isEditing = isEditable &&\n        !['custom', 'modal'].includes(editDisplayMode) &&\n        (editDisplayMode === 'table' ||\n            (editingRow === null || editingRow === void 0 ? void 0 : editingRow.id) === row.id ||\n            (editingCell === null || editingCell === void 0 ? void 0 : editingCell.id) === cell.id) &&\n        !row.getIsGrouped();\n    const isCreating = isEditable && createDisplayMode === 'row' && (creatingRow === null || creatingRow === void 0 ? void 0 : creatingRow.id) === row.id;\n    const handleDoubleClick = (event) => {\n        var _a;\n        (_a = tableCellProps === null || tableCellProps === void 0 ? void 0 : tableCellProps.onDoubleClick) === null || _a === void 0 ? void 0 : _a.call(tableCellProps, event);\n        if (isEditable && editDisplayMode === 'cell') {\n            setEditingCell(cell);\n            queueMicrotask(() => {\n                var _a;\n                const textField = editInputRefs.current[column.id];\n                if (textField) {\n                    textField.focus();\n                    (_a = textField.select) === null || _a === void 0 ? void 0 : _a.call(textField);\n                }\n            });\n        }\n    };\n    const handleDragEnter = (e) => {\n        var _a;\n        (_a = tableCellProps === null || tableCellProps === void 0 ? void 0 : tableCellProps.onDragEnter) === null || _a === void 0 ? void 0 : _a.call(tableCellProps, e);\n        if (enableGrouping && (hoveredColumn === null || hoveredColumn === void 0 ? void 0 : hoveredColumn.id) === 'drop-zone') {\n            setHoveredColumn(null);\n        }\n        if (enableColumnOrdering && draggingColumn) {\n            setHoveredColumn(columnDef.enableColumnOrdering !== false ? column : null);\n        }\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_TableCell__WEBPACK_IMPORTED_MODULE_13___default()), Object.assign({ \"data-index\": virtualIndex, ref: (node) => {\n            if (node) {\n                measureElement === null || measureElement === void 0 ? void 0 : measureElement(node);\n            }\n        } }, tableCellProps, { onDoubleClick: handleDoubleClick, onDragEnter: handleDragEnter, sx: (theme) => (Object.assign(Object.assign({ '&:hover': {\n                outline: ['cell', 'table'].includes(editDisplayMode !== null && editDisplayMode !== void 0 ? editDisplayMode : '') && isEditable\n                    ? `1px solid ${theme.palette.grey[500]}`\n                    : undefined,\n                outlineOffset: '-1px',\n                textOverflow: 'clip',\n            }, alignItems: (layoutMode === null || layoutMode === void 0 ? void 0 : layoutMode.startsWith('grid')) ? 'center' : undefined, cursor: isEditable && editDisplayMode === 'cell' ? 'pointer' : 'inherit', justifyContent: (layoutMode === null || layoutMode === void 0 ? void 0 : layoutMode.startsWith('grid'))\n                ? tableCellProps.align\n                : undefined, overflow: 'hidden', p: density === 'compact'\n                ? columnDefType === 'display'\n                    ? '0 0.5rem'\n                    : '0.5rem'\n                : density === 'comfortable'\n                    ? columnDefType === 'display'\n                        ? '0.5rem 0.75rem'\n                        : '1rem'\n                    : columnDefType === 'display'\n                        ? '1rem 1.25rem'\n                        : '1.5rem', textOverflow: columnDefType !== 'display' ? 'ellipsis' : undefined, [theme.direction === 'rtl' ? 'pr' : 'pl']: column.id === 'mrt-row-expand'\n                ? `${row.depth +\n                    (density === 'compact'\n                        ? 0.5\n                        : density === 'comfortable'\n                            ? 0.75\n                            : 1.25)}rem`\n                : undefined, whiteSpace: row.getIsPinned() || density === 'compact' ? 'nowrap' : 'normal', zIndex: (draggingColumn === null || draggingColumn === void 0 ? void 0 : draggingColumn.id) === column.id ? 2 : column.getIsPinned() ? 1 : 0 }, getCommonMRTCellStyles({\n            column,\n            table,\n            tableCellProps,\n            theme,\n        })), draggingBorders)), children: (_b = tableCellProps.children) !== null && _b !== void 0 ? _b : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [cell.getIsPlaceholder() ? ((_d = (_c = columnDef.PlaceholderCell) === null || _c === void 0 ? void 0 : _c.call(columnDef, { cell, column, row, table })) !== null && _d !== void 0 ? _d : null) : showSkeletons !== false && (isLoading || showSkeletons) ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_14___default()), Object.assign({ animation: \"wave\", height: 20, width: skeletonWidth }, skeletonProps))) : enableRowNumbers &&\n                    rowNumberDisplayMode === 'static' &&\n                    column.id === 'mrt-row-numbers' ? (rowIndex + 1) : column.id === 'mrt-row-drag' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableBodyRowGrabHandle, { row: row, rowRef: rowRef, table: table })) : columnDefType === 'display' &&\n                    (column.id === 'mrt-row-select' ||\n                        column.id === 'mrt-row-expand' ||\n                        !row.getIsGrouped()) ? ((_e = columnDef.Cell) === null || _e === void 0 ? void 0 : _e.call(columnDef, {\n                    cell,\n                    column,\n                    renderedCellValue: cell.renderValue(),\n                    row,\n                    table,\n                })) : isCreating || isEditing ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_EditCellTextField, { cell: cell, table: table })) : (enableClickToCopy || columnDef.enableClickToCopy) &&\n                    columnDef.enableClickToCopy !== false ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_CopyButton, { cell: cell, table: table, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableBodyCellValue, { cell: cell, table: table }) })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableBodyCellValue, { cell: cell, table: table })), cell.getIsGrouped() && !columnDef.GroupedCell && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\" (\", (_f = row.subRows) === null || _f === void 0 ? void 0 : _f.length, \")\"] }))] })) })));\n};\nconst Memo_MRT_TableBodyCell = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(MRT_TableBodyCell, (prev, next) => next.cell === prev.cell);\n\nconst MRT_TableDetailPanel = (_a) => {\n    var { parentRowRef, row, rowIndex, table, virtualRow } = _a, rest = __rest(_a, [\"parentRowRef\", \"row\", \"rowIndex\", \"table\", \"virtualRow\"]);\n    const { getState, getVisibleLeafColumns, options: { layoutMode, muiDetailPanelProps, muiTableBodyRowProps, renderDetailPanel, }, } = table;\n    const { isLoading } = getState();\n    const tableRowProps = parseFromValuesOrFunc(muiTableBodyRowProps, {\n        isDetailPanel: true,\n        row,\n        staticRowIndex: rowIndex,\n        table,\n    });\n    const tableCellProps = Object.assign(Object.assign({}, parseFromValuesOrFunc(muiDetailPanelProps, {\n        row,\n        table,\n    })), rest);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_TableRow__WEBPACK_IMPORTED_MODULE_15___default()), Object.assign({ className: \"Mui-TableBodyCell-DetailPanel\" }, tableRowProps, { sx: (theme) => {\n            var _a, _b;\n            return (Object.assign({ display: (layoutMode === null || layoutMode === void 0 ? void 0 : layoutMode.startsWith('grid')) ? 'flex' : undefined, position: virtualRow ? 'absolute' : undefined, top: virtualRow\n                    ? `${(_b = (_a = parentRowRef.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect()) === null || _b === void 0 ? void 0 : _b.height}px`\n                    : undefined, transform: virtualRow\n                    ? `translateY(${virtualRow === null || virtualRow === void 0 ? void 0 : virtualRow.start}px)`\n                    : undefined, width: '100%', zIndex: virtualRow ? 2 : undefined }, parseFromValuesOrFunc(tableRowProps === null || tableRowProps === void 0 ? void 0 : tableRowProps.sx, theme)));\n        }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_TableCell__WEBPACK_IMPORTED_MODULE_13___default()), Object.assign({ className: \"Mui-TableBodyCell-DetailPanel\", colSpan: getVisibleLeafColumns().length }, tableCellProps, { sx: (theme) => (Object.assign({ backgroundColor: virtualRow\n                    ? getMRTTheme(table, theme).baseBackgroundColor\n                    : undefined, borderBottom: !row.getIsExpanded() ? 'none' : undefined, display: (layoutMode === null || layoutMode === void 0 ? void 0 : layoutMode.startsWith('grid')) ? 'flex' : undefined, py: row.getIsExpanded() ? '1rem' : 0, transition: 'all 150ms ease-in-out', width: `${table.getTotalSize()}px` }, parseFromValuesOrFunc(tableCellProps === null || tableCellProps === void 0 ? void 0 : tableCellProps.sx, theme))), children: renderDetailPanel && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Collapse__WEBPACK_IMPORTED_MODULE_16___default()), { in: row.getIsExpanded(), mountOnEnter: true, unmountOnExit: true, children: !isLoading && renderDetailPanel({ row, table }) })) })) })));\n};\n\nconst MRT_TableBodyRow = ({ columnVirtualizer, measureElement, numRows, pinnedRowIds, row, rowIndex, table, virtualColumns, virtualPaddingLeft, virtualPaddingRight, virtualRow, }) => {\n    var _a, _b, _c, _d;\n    const theme = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_6__.useTheme)();\n    const { getState, options: { enableRowOrdering, enableRowPinning, enableStickyFooter, enableStickyHeader, layoutMode, memoMode, muiTableBodyRowProps, renderDetailPanel, rowPinningDisplayMode, }, refs: { tableFooterRef, tableHeadRef }, setHoveredRow, } = table;\n    const { density, draggingColumn, draggingRow, editingCell, editingRow, hoveredRow, isFullScreen, rowPinning, } = getState();\n    const isPinned = enableRowPinning && row.getIsPinned();\n    const tableRowProps = parseFromValuesOrFunc(muiTableBodyRowProps, {\n        row,\n        staticRowIndex: rowIndex,\n        table,\n    });\n    const [bottomPinnedIndex, topPinnedIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n        if (!enableRowPinning ||\n            !(rowPinningDisplayMode === null || rowPinningDisplayMode === void 0 ? void 0 : rowPinningDisplayMode.includes('sticky')) ||\n            !pinnedRowIds ||\n            !row.getIsPinned())\n            return [];\n        return [\n            [...pinnedRowIds].reverse().indexOf(row.id),\n            pinnedRowIds.indexOf(row.id),\n        ];\n    }, [pinnedRowIds, rowPinning]);\n    const tableHeadHeight = ((enableStickyHeader || isFullScreen) &&\n        ((_a = tableHeadRef.current) === null || _a === void 0 ? void 0 : _a.clientHeight)) ||\n        0;\n    const tableFooterHeight = (enableStickyFooter && ((_b = tableFooterRef.current) === null || _b === void 0 ? void 0 : _b.clientHeight)) || 0;\n    const sx = parseFromValuesOrFunc(tableRowProps === null || tableRowProps === void 0 ? void 0 : tableRowProps.sx, theme);\n    const rowHeight = \n    // @ts-ignore\n    parseInt((_d = (_c = tableRowProps === null || tableRowProps === void 0 ? void 0 : tableRowProps.style) === null || _c === void 0 ? void 0 : _c.height) !== null && _d !== void 0 ? _d : sx === null || sx === void 0 ? void 0 : sx.height, 10) ||\n        (density === 'compact' ? 37 : density === 'comfortable' ? 53 : 69);\n    const handleDragEnter = (_e) => {\n        if (enableRowOrdering && draggingRow) {\n            setHoveredRow(row);\n        }\n    };\n    const rowRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const { baseBackgroundColor, pinnedRowBackgroundColor, selectedRowBackgroundColor, } = getMRTTheme(table, theme);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)((_mui_material_TableRow__WEBPACK_IMPORTED_MODULE_15___default()), Object.assign({ \"data-index\": virtualRow === null || virtualRow === void 0 ? void 0 : virtualRow.index, \"data-pinned\": !!isPinned || undefined, \"data-selected\": row.getIsSelected() || undefined, onDragEnter: handleDragEnter, ref: (node) => {\n                    if (node) {\n                        rowRef.current = node;\n                        measureElement === null || measureElement === void 0 ? void 0 : measureElement(node);\n                    }\n                }, selected: row.getIsSelected() }, tableRowProps, { style: Object.assign({ transform: virtualRow\n                        ? `translateY(${virtualRow === null || virtualRow === void 0 ? void 0 : virtualRow.start}px)`\n                        : undefined }, tableRowProps === null || tableRowProps === void 0 ? void 0 : tableRowProps.style), sx: (theme) => (Object.assign({ '&:hover td': {\n                        backgroundColor: (tableRowProps === null || tableRowProps === void 0 ? void 0 : tableRowProps.hover) !== false\n                            ? row.getIsSelected()\n                                ? `${(0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_6__.alpha)(selectedRowBackgroundColor, 0.3)}`\n                                : theme.palette.mode === 'dark'\n                                    ? `${(0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_6__.lighten)(baseBackgroundColor, 0.05)}`\n                                    : `${(0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_6__.darken)(baseBackgroundColor, 0.05)}`\n                            : undefined,\n                    }, backgroundColor: `${baseBackgroundColor} !important`, bottom: !virtualRow && bottomPinnedIndex !== undefined && isPinned\n                        ? `${bottomPinnedIndex * rowHeight +\n                            (enableStickyFooter ? tableFooterHeight - 1 : 0)}px`\n                        : undefined, boxSizing: 'border-box', display: (layoutMode === null || layoutMode === void 0 ? void 0 : layoutMode.startsWith('grid')) ? 'flex' : undefined, opacity: isPinned\n                        ? 0.97\n                        : (draggingRow === null || draggingRow === void 0 ? void 0 : draggingRow.id) === row.id || (hoveredRow === null || hoveredRow === void 0 ? void 0 : hoveredRow.id) === row.id\n                            ? 0.5\n                            : 1, position: virtualRow\n                        ? 'absolute'\n                        : (rowPinningDisplayMode === null || rowPinningDisplayMode === void 0 ? void 0 : rowPinningDisplayMode.includes('sticky')) && isPinned\n                            ? 'sticky'\n                            : undefined, td: {\n                        backgroundColor: row.getIsSelected()\n                            ? selectedRowBackgroundColor\n                            : isPinned\n                                ? pinnedRowBackgroundColor\n                                : undefined,\n                    }, top: virtualRow\n                        ? 0\n                        : topPinnedIndex !== undefined && isPinned\n                            ? `${topPinnedIndex * rowHeight +\n                                (enableStickyHeader || isFullScreen ? tableHeadHeight - 1 : 0)}px`\n                            : undefined, transition: virtualRow ? 'none' : 'all 150ms ease-in-out', width: '100%', zIndex: (rowPinningDisplayMode === null || rowPinningDisplayMode === void 0 ? void 0 : rowPinningDisplayMode.includes('sticky')) && isPinned\n                        ? 2\n                        : undefined }, sx)), children: [virtualPaddingLeft ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"td\", { style: { display: 'flex', width: virtualPaddingLeft } })) : null, (virtualColumns !== null && virtualColumns !== void 0 ? virtualColumns : row.getVisibleCells()).map((cellOrVirtualCell) => {\n                        const cell = columnVirtualizer\n                            ? row.getVisibleCells()[cellOrVirtualCell.index]\n                            : cellOrVirtualCell;\n                        const props = {\n                            cell,\n                            measureElement: columnVirtualizer === null || columnVirtualizer === void 0 ? void 0 : columnVirtualizer.measureElement,\n                            numRows,\n                            rowIndex,\n                            rowRef,\n                            table,\n                            virtualIndex: columnVirtualizer\n                                ? cellOrVirtualCell.index\n                                : undefined,\n                        };\n                        return cell ? (memoMode === 'cells' &&\n                            cell.column.columnDef.columnDefType === 'data' &&\n                            !draggingColumn &&\n                            !draggingRow &&\n                            (editingCell === null || editingCell === void 0 ? void 0 : editingCell.id) !== cell.id &&\n                            (editingRow === null || editingRow === void 0 ? void 0 : editingRow.id) !== row.id ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Memo_MRT_TableBodyCell, Object.assign({}, props), cell.id)) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableBodyCell, Object.assign({}, props), cell.id))) : null;\n                    }), virtualPaddingRight ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"td\", { style: { display: 'flex', width: virtualPaddingRight } })) : null] })), renderDetailPanel && !row.getIsGrouped() && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableDetailPanel, { parentRowRef: rowRef, row: row, rowIndex: rowIndex, table: table, virtualRow: virtualRow }))] }));\n};\nconst Memo_MRT_TableBodyRow = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(MRT_TableBodyRow, (prev, next) => prev.row === next.row && prev.rowIndex === next.rowIndex);\n\nconst fuzzy$1 = (rowA, rowB, columnId) => {\n    let dir = 0;\n    if (rowA.columnFiltersMeta[columnId]) {\n        dir = (0,_tanstack_match_sorter_utils__WEBPACK_IMPORTED_MODULE_17__.compareItems)(rowA.columnFiltersMeta[columnId], rowB.columnFiltersMeta[columnId]);\n    }\n    // Provide a fallback for when the item ranks are equal\n    return dir === 0\n        ? _tanstack_react_table__WEBPACK_IMPORTED_MODULE_4__.sortingFns.alphanumeric(rowA, rowB, columnId)\n        : dir;\n};\nconst MRT_SortingFns = Object.assign(Object.assign({}, _tanstack_react_table__WEBPACK_IMPORTED_MODULE_4__.sortingFns), { fuzzy: fuzzy$1 });\nconst rankGlobalFuzzy = (rowA, rowB) => Math.max(...Object.values(rowB.columnFiltersMeta).map((v) => v.rank)) -\n    Math.max(...Object.values(rowA.columnFiltersMeta).map((v) => v.rank));\n\nconst MRT_TableBody = (_a) => {\n    var _b, _c, _d, _e, _f, _g;\n    var { columnVirtualizer, table, virtualColumns, virtualPaddingLeft, virtualPaddingRight } = _a, rest = __rest(_a, [\"columnVirtualizer\", \"table\", \"virtualColumns\", \"virtualPaddingLeft\", \"virtualPaddingRight\"]);\n    const { getBottomRows, getCenterRows, getIsSomeRowsPinned, getPrePaginationRowModel, getRowModel, getState, getTopRows, options: { createDisplayMode, enableGlobalFilterRankedResults, enablePagination, enableRowPinning, enableRowVirtualization, enableStickyFooter, enableStickyHeader, layoutMode, localization, manualExpanding, manualFiltering, manualGrouping, manualPagination, manualSorting, memoMode, muiTableBodyProps, renderEmptyRowsFallback, rowPinningDisplayMode, rowVirtualizerInstanceRef, rowVirtualizerOptions, }, refs: { tableContainerRef, tableFooterRef, tableHeadRef, tablePaperRef }, } = table;\n    const { columnFilters, creatingRow, density, draggingRow, expanded, globalFilter, isFullScreen, pagination, rowPinning, sorting, } = getState();\n    const tableBodyProps = Object.assign(Object.assign({}, parseFromValuesOrFunc(muiTableBodyProps, { table })), rest);\n    const rowVirtualizerProps = parseFromValuesOrFunc(rowVirtualizerOptions, {\n        table,\n    });\n    const tableHeadHeight = ((enableStickyHeader || isFullScreen) &&\n        ((_b = tableHeadRef.current) === null || _b === void 0 ? void 0 : _b.clientHeight)) ||\n        0;\n    const tableFooterHeight = (enableStickyFooter && ((_c = tableFooterRef.current) === null || _c === void 0 ? void 0 : _c.clientHeight)) || 0;\n    const shouldRankRows = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => getCanRankRows(table) &&\n        !Object.values(sorting).some(Boolean) &&\n        globalFilter, [\n        enableGlobalFilterRankedResults,\n        expanded,\n        globalFilter,\n        manualExpanding,\n        manualFiltering,\n        manualGrouping,\n        manualSorting,\n        sorting,\n    ]);\n    const pinnedRowIds = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => getRowModel()\n        .rows.filter((row) => row.getIsPinned())\n        .map((r) => r.id), [rowPinning, table.getRowModel().rows]);\n    const rows = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n        let rows = [];\n        if (!shouldRankRows) {\n            rows =\n                !enableRowPinning || (rowPinningDisplayMode === null || rowPinningDisplayMode === void 0 ? void 0 : rowPinningDisplayMode.includes('sticky'))\n                    ? getRowModel().rows\n                    : getCenterRows();\n        }\n        else {\n            rows = getPrePaginationRowModel().rows.sort((a, b) => rankGlobalFuzzy(a, b));\n            if (enablePagination && !manualPagination) {\n                const start = pagination.pageIndex * pagination.pageSize;\n                rows = rows.slice(start, start + pagination.pageSize);\n            }\n        }\n        if (enableRowPinning && (rowPinningDisplayMode === null || rowPinningDisplayMode === void 0 ? void 0 : rowPinningDisplayMode.includes('sticky'))) {\n            rows = [\n                ...getTopRows().filter((row) => !pinnedRowIds.includes(row.id)),\n                ...rows,\n                ...getBottomRows().filter((row) => !pinnedRowIds.includes(row.id)),\n            ];\n        }\n        return rows;\n    }, [\n        shouldRankRows,\n        shouldRankRows ? getPrePaginationRowModel().rows : getRowModel().rows,\n        pagination.pageIndex,\n        pagination.pageSize,\n        rowPinning,\n    ]);\n    const rowVirtualizer = enableRowVirtualization\n        ? (0,_tanstack_react_virtual__WEBPACK_IMPORTED_MODULE_18__.useVirtualizer)(Object.assign({ count: rows.length, estimateSize: () => density === 'compact' ? 37 : density === 'comfortable' ? 58 : 73, getScrollElement: () => tableContainerRef.current, measureElement: typeof window !== 'undefined' &&\n                navigator.userAgent.indexOf('Firefox') === -1\n                ? (element) => element === null || element === void 0 ? void 0 : element.getBoundingClientRect().height\n                : undefined, overscan: 4, rangeExtractor: (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((range) => {\n                var _a;\n                return extraIndexRangeExtractor(range, (_a = draggingRow === null || draggingRow === void 0 ? void 0 : draggingRow.index) !== null && _a !== void 0 ? _a : 0);\n            }, [draggingRow]) }, rowVirtualizerProps))\n        : undefined;\n    if (rowVirtualizerInstanceRef && rowVirtualizer) {\n        rowVirtualizerInstanceRef.current = rowVirtualizer;\n    }\n    const virtualRows = rowVirtualizer\n        ? rowVirtualizer.getVirtualItems()\n        : undefined;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [!(rowPinningDisplayMode === null || rowPinningDisplayMode === void 0 ? void 0 : rowPinningDisplayMode.includes('sticky')) &&\n                getIsSomeRowsPinned('top') && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_TableBody__WEBPACK_IMPORTED_MODULE_19___default()), Object.assign({}, tableBodyProps, { sx: (theme) => (Object.assign({ display: (layoutMode === null || layoutMode === void 0 ? void 0 : layoutMode.startsWith('grid')) ? 'grid' : undefined, position: 'sticky', top: tableHeadHeight - 1, zIndex: 1 }, parseFromValuesOrFunc(tableBodyProps === null || tableBodyProps === void 0 ? void 0 : tableBodyProps.sx, theme))), children: getTopRows().map((row, rowIndex) => {\n                    const props = {\n                        columnVirtualizer,\n                        measureElement: rowVirtualizer === null || rowVirtualizer === void 0 ? void 0 : rowVirtualizer.measureElement,\n                        numRows: rows.length,\n                        row,\n                        rowIndex,\n                        table,\n                        virtualColumns,\n                        virtualPaddingLeft,\n                        virtualPaddingRight,\n                    };\n                    return memoMode === 'rows' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Memo_MRT_TableBodyRow, Object.assign({}, props), row.id)) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableBodyRow, Object.assign({}, props), row.id));\n                }) }))), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)((_mui_material_TableBody__WEBPACK_IMPORTED_MODULE_19___default()), Object.assign({}, tableBodyProps, { sx: (theme) => (Object.assign({ display: (layoutMode === null || layoutMode === void 0 ? void 0 : layoutMode.startsWith('grid')) ? 'grid' : undefined, height: rowVirtualizer\n                        ? `${rowVirtualizer.getTotalSize()}px`\n                        : 'inherit', minHeight: !rows.length ? '100px' : undefined, position: 'relative' }, parseFromValuesOrFunc(tableBodyProps === null || tableBodyProps === void 0 ? void 0 : tableBodyProps.sx, theme))), children: [creatingRow && createDisplayMode === 'row' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableBodyRow, { row: creatingRow, rowIndex: -1, table: table })), (_d = tableBodyProps === null || tableBodyProps === void 0 ? void 0 : tableBodyProps.children) !== null && _d !== void 0 ? _d : (!rows.length ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"tr\", { style: {\n                            display: (layoutMode === null || layoutMode === void 0 ? void 0 : layoutMode.startsWith('grid')) ? 'grid' : undefined,\n                        }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"td\", { colSpan: table.getVisibleLeafColumns().length, style: {\n                                display: (layoutMode === null || layoutMode === void 0 ? void 0 : layoutMode.startsWith('grid')) ? 'grid' : undefined,\n                            }, children: (_e = renderEmptyRowsFallback === null || renderEmptyRowsFallback === void 0 ? void 0 : renderEmptyRowsFallback({ table })) !== null && _e !== void 0 ? _e : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Typography__WEBPACK_IMPORTED_MODULE_20___default()), { sx: {\n                                    color: 'text.secondary',\n                                    fontStyle: 'italic',\n                                    maxWidth: `min(100vw, ${(_g = (_f = tablePaperRef.current) === null || _f === void 0 ? void 0 : _f.clientWidth) !== null && _g !== void 0 ? _g : 360}px)`,\n                                    py: '2rem',\n                                    textAlign: 'center',\n                                    width: '100%',\n                                }, children: globalFilter || columnFilters.length\n                                    ? localization.noResultsFound\n                                    : localization.noRecordsToDisplay })) }) })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: (virtualRows !== null && virtualRows !== void 0 ? virtualRows : rows).map((rowOrVirtualRow, rowIndex) => {\n                            const row = rowVirtualizer\n                                ? rows[rowOrVirtualRow.index]\n                                : rowOrVirtualRow;\n                            const props = {\n                                columnVirtualizer,\n                                measureElement: rowVirtualizer === null || rowVirtualizer === void 0 ? void 0 : rowVirtualizer.measureElement,\n                                numRows: rows.length,\n                                pinnedRowIds,\n                                row,\n                                rowIndex: rowVirtualizer ? rowOrVirtualRow.index : rowIndex,\n                                table,\n                                virtualColumns,\n                                virtualPaddingLeft,\n                                virtualPaddingRight,\n                                virtualRow: rowVirtualizer\n                                    ? rowOrVirtualRow\n                                    : undefined,\n                            };\n                            return memoMode === 'rows' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Memo_MRT_TableBodyRow, Object.assign({}, props), row.id)) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableBodyRow, Object.assign({}, props), row.id));\n                        }) })))] })), !(rowPinningDisplayMode === null || rowPinningDisplayMode === void 0 ? void 0 : rowPinningDisplayMode.includes('sticky')) &&\n                getIsSomeRowsPinned('bottom') && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_TableBody__WEBPACK_IMPORTED_MODULE_19___default()), Object.assign({}, tableBodyProps, { sx: (theme) => (Object.assign({ bottom: tableFooterHeight - 1, display: (layoutMode === null || layoutMode === void 0 ? void 0 : layoutMode.startsWith('grid')) ? 'grid' : undefined, position: 'sticky', zIndex: 1 }, parseFromValuesOrFunc(tableBodyProps === null || tableBodyProps === void 0 ? void 0 : tableBodyProps.sx, theme))), children: getBottomRows().map((row, rowIndex) => {\n                    const props = {\n                        columnVirtualizer,\n                        measureElement: rowVirtualizer === null || rowVirtualizer === void 0 ? void 0 : rowVirtualizer.measureElement,\n                        numRows: rows.length,\n                        row,\n                        rowIndex,\n                        table,\n                        virtualColumns,\n                        virtualPaddingLeft,\n                        virtualPaddingRight,\n                    };\n                    return memoMode === 'rows' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Memo_MRT_TableBodyRow, Object.assign({}, props), row.id)) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableBodyRow, Object.assign({}, props), row.id));\n                }) })))] }));\n};\nconst Memo_MRT_TableBody = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(MRT_TableBody, (prev, next) => prev.table.options.data === next.table.options.data);\n\nconst MRT_TableFooterCell = (_a) => {\n    var _b, _c, _d;\n    var { footer, table } = _a, rest = __rest(_a, [\"footer\", \"table\"]);\n    const { getState, options: { layoutMode, muiTableFooterCellProps }, } = table;\n    const { density } = getState();\n    const { column } = footer;\n    const { columnDef } = column;\n    const { columnDefType } = columnDef;\n    const args = { column, table };\n    const tableCellProps = Object.assign(Object.assign(Object.assign({}, parseFromValuesOrFunc(muiTableFooterCellProps, args)), parseFromValuesOrFunc(columnDef.muiTableFooterCellProps, args)), rest);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_TableCell__WEBPACK_IMPORTED_MODULE_13___default()), Object.assign({ align: columnDefType === 'group' ? 'center' : 'left', colSpan: footer.colSpan, variant: \"head\" }, tableCellProps, { sx: (theme) => (Object.assign(Object.assign({ display: (layoutMode === null || layoutMode === void 0 ? void 0 : layoutMode.startsWith('grid')) ? 'grid' : undefined, fontWeight: 'bold', justifyContent: columnDefType === 'group' ? 'center' : undefined, p: density === 'compact'\n                ? '0.5rem'\n                : density === 'comfortable'\n                    ? '1rem'\n                    : '1.5rem', verticalAlign: 'top', zIndex: column.getIsPinned() && columnDefType !== 'group' ? 2 : 1 }, getCommonMRTCellStyles({\n            column,\n            table,\n            tableCellProps,\n            theme,\n        })), parseFromValuesOrFunc(tableCellProps === null || tableCellProps === void 0 ? void 0 : tableCellProps.sx, theme))), children: (_b = tableCellProps.children) !== null && _b !== void 0 ? _b : (footer.isPlaceholder\n            ? null\n            : (_d = (_c = parseFromValuesOrFunc(columnDef.Footer, {\n                column,\n                footer,\n                table,\n            })) !== null && _c !== void 0 ? _c : columnDef.footer) !== null && _d !== void 0 ? _d : null) })));\n};\n\nconst MRT_TableFooterRow = (_a) => {\n    var _b;\n    var { footerGroup, table, virtualColumns, virtualPaddingLeft, virtualPaddingRight } = _a, rest = __rest(_a, [\"footerGroup\", \"table\", \"virtualColumns\", \"virtualPaddingLeft\", \"virtualPaddingRight\"]);\n    const { options: { layoutMode, muiTableFooterRowProps }, } = table;\n    // if no content in row, skip row\n    if (!((_b = footerGroup.headers) === null || _b === void 0 ? void 0 : _b.some((header) => (typeof header.column.columnDef.footer === 'string' &&\n        !!header.column.columnDef.footer) ||\n        header.column.columnDef.Footer)))\n        return null;\n    const tableRowProps = Object.assign(Object.assign({}, parseFromValuesOrFunc(muiTableFooterRowProps, {\n        footerGroup,\n        table,\n    })), rest);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)((_mui_material_TableRow__WEBPACK_IMPORTED_MODULE_15___default()), Object.assign({}, tableRowProps, { sx: (theme) => (Object.assign({ backgroundColor: getMRTTheme(table, theme).baseBackgroundColor, display: (layoutMode === null || layoutMode === void 0 ? void 0 : layoutMode.startsWith('grid')) ? 'flex' : undefined, width: '100%' }, parseFromValuesOrFunc(tableRowProps === null || tableRowProps === void 0 ? void 0 : tableRowProps.sx, theme))), children: [virtualPaddingLeft ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"th\", { style: { display: 'flex', width: virtualPaddingLeft } })) : null, (virtualColumns !== null && virtualColumns !== void 0 ? virtualColumns : footerGroup.headers).map((footerOrVirtualFooter) => {\n                const footer = virtualColumns\n                    ? footerGroup.headers[footerOrVirtualFooter.index]\n                    : footerOrVirtualFooter;\n                return footer ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableFooterCell, { footer: footer, table: table }, footer.id)) : null;\n            }), virtualPaddingRight ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"th\", { style: { display: 'flex', width: virtualPaddingRight } })) : null] })));\n};\n\nconst MRT_TableFooter = (_a) => {\n    var { table, virtualColumns, virtualPaddingLeft, virtualPaddingRight } = _a, rest = __rest(_a, [\"table\", \"virtualColumns\", \"virtualPaddingLeft\", \"virtualPaddingRight\"]);\n    const { getFooterGroups, getState, options: { enableStickyFooter, layoutMode, muiTableFooterProps }, refs: { tableFooterRef }, } = table;\n    const { isFullScreen } = getState();\n    const tableFooterProps = Object.assign(Object.assign({}, parseFromValuesOrFunc(muiTableFooterProps, {\n        table,\n    })), rest);\n    const stickFooter = (isFullScreen || enableStickyFooter) && enableStickyFooter !== false;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_TableFooter__WEBPACK_IMPORTED_MODULE_21___default()), Object.assign({}, tableFooterProps, { ref: (ref) => {\n            tableFooterRef.current = ref;\n            if (tableFooterProps === null || tableFooterProps === void 0 ? void 0 : tableFooterProps.ref) {\n                // @ts-ignore\n                tableFooterProps.ref.current = ref;\n            }\n        }, sx: (theme) => (Object.assign({ bottom: stickFooter ? 0 : undefined, display: (layoutMode === null || layoutMode === void 0 ? void 0 : layoutMode.startsWith('grid')) ? 'grid' : undefined, opacity: stickFooter ? 0.97 : undefined, outline: stickFooter\n                ? theme.palette.mode === 'light'\n                    ? `1px solid ${theme.palette.grey[300]}`\n                    : `1px solid ${theme.palette.grey[700]}`\n                : undefined, position: stickFooter ? 'sticky' : undefined, zIndex: stickFooter ? 1 : undefined }, parseFromValuesOrFunc(tableFooterProps === null || tableFooterProps === void 0 ? void 0 : tableFooterProps.sx, theme))), children: getFooterGroups().map((footerGroup) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableFooterRow, { footerGroup: footerGroup, table: table, virtualColumns: virtualColumns, virtualPaddingLeft: virtualPaddingLeft, virtualPaddingRight: virtualPaddingRight }, footerGroup.id))) })));\n};\n\nconst mrtFilterOptions = (localization) => [\n    {\n        divider: false,\n        label: localization.filterFuzzy,\n        option: 'fuzzy',\n        symbol: '≈',\n    },\n    {\n        divider: false,\n        label: localization.filterContains,\n        option: 'contains',\n        symbol: '*',\n    },\n    {\n        divider: false,\n        label: localization.filterStartsWith,\n        option: 'startsWith',\n        symbol: 'a',\n    },\n    {\n        divider: true,\n        label: localization.filterEndsWith,\n        option: 'endsWith',\n        symbol: 'z',\n    },\n    {\n        divider: false,\n        label: localization.filterEquals,\n        option: 'equals',\n        symbol: '=',\n    },\n    {\n        divider: true,\n        label: localization.filterNotEquals,\n        option: 'notEquals',\n        symbol: '≠',\n    },\n    {\n        divider: false,\n        label: localization.filterBetween,\n        option: 'between',\n        symbol: '⇿',\n    },\n    {\n        divider: true,\n        label: localization.filterBetweenInclusive,\n        option: 'betweenInclusive',\n        symbol: '⬌',\n    },\n    {\n        divider: false,\n        label: localization.filterGreaterThan,\n        option: 'greaterThan',\n        symbol: '>',\n    },\n    {\n        divider: false,\n        label: localization.filterGreaterThanOrEqualTo,\n        option: 'greaterThanOrEqualTo',\n        symbol: '≥',\n    },\n    {\n        divider: false,\n        label: localization.filterLessThan,\n        option: 'lessThan',\n        symbol: '<',\n    },\n    {\n        divider: true,\n        label: localization.filterLessThanOrEqualTo,\n        option: 'lessThanOrEqualTo',\n        symbol: '≤',\n    },\n    {\n        divider: false,\n        label: localization.filterEmpty,\n        option: 'empty',\n        symbol: '∅',\n    },\n    {\n        divider: false,\n        label: localization.filterNotEmpty,\n        option: 'notEmpty',\n        symbol: '!∅',\n    },\n];\nconst rangeModes = ['between', 'betweenInclusive', 'inNumberRange'];\nconst emptyModes = ['empty', 'notEmpty'];\nconst arrModes = ['arrIncludesSome', 'arrIncludesAll', 'arrIncludes'];\nconst rangeVariants = ['range-slider', 'date-range', 'range'];\nconst MRT_FilterOptionMenu = (_a) => {\n    var _b, _c, _d, _e;\n    var { anchorEl, header, onSelect, setAnchorEl, setFilterValue, table } = _a, rest = __rest(_a, [\"anchorEl\", \"header\", \"onSelect\", \"setAnchorEl\", \"setFilterValue\", \"table\"]);\n    const { getState, options: { columnFilterModeOptions, globalFilterModeOptions, localization, renderColumnFilterModeMenuItems, renderGlobalFilterModeMenuItems, }, setColumnFilterFns, setGlobalFilterFn, } = table;\n    const { density, globalFilterFn } = getState();\n    const { column } = header !== null && header !== void 0 ? header : {};\n    const { columnDef } = column !== null && column !== void 0 ? column : {};\n    const currentFilterValue = column === null || column === void 0 ? void 0 : column.getFilterValue();\n    let allowedColumnFilterOptions = (_b = columnDef === null || columnDef === void 0 ? void 0 : columnDef.columnFilterModeOptions) !== null && _b !== void 0 ? _b : columnFilterModeOptions;\n    if (rangeVariants.includes(columnDef === null || columnDef === void 0 ? void 0 : columnDef.filterVariant)) {\n        allowedColumnFilterOptions = [\n            ...rangeModes,\n            ...(allowedColumnFilterOptions !== null && allowedColumnFilterOptions !== void 0 ? allowedColumnFilterOptions : []),\n        ].filter((option) => rangeModes.includes(option));\n    }\n    const internalFilterOptions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => mrtFilterOptions(localization).filter((filterOption) => columnDef\n        ? allowedColumnFilterOptions === undefined ||\n            (allowedColumnFilterOptions === null || allowedColumnFilterOptions === void 0 ? void 0 : allowedColumnFilterOptions.includes(filterOption.option))\n        : (!globalFilterModeOptions ||\n            globalFilterModeOptions.includes(filterOption.option)) &&\n            ['contains', 'fuzzy', 'startsWith'].includes(filterOption.option)), []);\n    const handleSelectFilterMode = (option) => {\n        var _a, _b;\n        const prevFilterMode = (_a = columnDef === null || columnDef === void 0 ? void 0 : columnDef._filterFn) !== null && _a !== void 0 ? _a : '';\n        if (!header || !column) {\n            // global filter mode\n            setGlobalFilterFn(option);\n        }\n        else if (option !== prevFilterMode) {\n            // column filter mode\n            setColumnFilterFns((prev) => (Object.assign(Object.assign({}, prev), { [header.id]: option })));\n            // reset filter value and/or perform new filter render\n            if (emptyModes.includes(option)) {\n                // will now be empty/notEmpty filter mode\n                if (currentFilterValue !== ' ' &&\n                    !emptyModes.includes(prevFilterMode)) {\n                    column.setFilterValue(' ');\n                }\n                else if (currentFilterValue) {\n                    column.setFilterValue(currentFilterValue); // perform new filter render\n                }\n            }\n            else if ((columnDef === null || columnDef === void 0 ? void 0 : columnDef.filterVariant) === 'multi-select' ||\n                arrModes.includes(option)) {\n                // will now be array filter mode\n                if (currentFilterValue instanceof String ||\n                    (currentFilterValue === null || currentFilterValue === void 0 ? void 0 : currentFilterValue.length)) {\n                    column.setFilterValue([]);\n                    setFilterValue === null || setFilterValue === void 0 ? void 0 : setFilterValue([]);\n                }\n                else if (currentFilterValue) {\n                    column.setFilterValue(currentFilterValue); // perform new filter render\n                }\n            }\n            else if (((_b = columnDef === null || columnDef === void 0 ? void 0 : columnDef.filterVariant) === null || _b === void 0 ? void 0 : _b.includes('range')) ||\n                rangeModes.includes(option)) {\n                // will now be range filter mode\n                if (!Array.isArray(currentFilterValue) ||\n                    (!(currentFilterValue === null || currentFilterValue === void 0 ? void 0 : currentFilterValue.every((v) => v === '')) &&\n                        !rangeModes.includes(prevFilterMode))) {\n                    column.setFilterValue(['', '']);\n                    setFilterValue === null || setFilterValue === void 0 ? void 0 : setFilterValue('');\n                }\n                else {\n                    column.setFilterValue(currentFilterValue); // perform new filter render\n                }\n            }\n            else {\n                // will now be single value filter mode\n                if (Array.isArray(currentFilterValue)) {\n                    column.setFilterValue('');\n                    setFilterValue === null || setFilterValue === void 0 ? void 0 : setFilterValue('');\n                }\n                else {\n                    column.setFilterValue(currentFilterValue); // perform new filter render\n                }\n            }\n        }\n        setAnchorEl(null);\n        onSelect === null || onSelect === void 0 ? void 0 : onSelect();\n    };\n    const filterOption = !!header && columnDef ? columnDef._filterFn : globalFilterFn;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Menu__WEBPACK_IMPORTED_MODULE_22___default()), Object.assign({ MenuListProps: {\n            dense: density === 'compact',\n        }, anchorEl: anchorEl, anchorOrigin: { horizontal: 'right', vertical: 'center' }, onClose: () => setAnchorEl(null), open: !!anchorEl }, rest, { children: (_e = (header && column && columnDef\n            ? (_d = (_c = columnDef.renderColumnFilterModeMenuItems) === null || _c === void 0 ? void 0 : _c.call(columnDef, {\n                column: column,\n                internalFilterOptions,\n                onSelectFilterMode: handleSelectFilterMode,\n                table,\n            })) !== null && _d !== void 0 ? _d : renderColumnFilterModeMenuItems === null || renderColumnFilterModeMenuItems === void 0 ? void 0 : renderColumnFilterModeMenuItems({\n                column: column,\n                internalFilterOptions,\n                onSelectFilterMode: handleSelectFilterMode,\n                table,\n            })\n            : renderGlobalFilterModeMenuItems === null || renderGlobalFilterModeMenuItems === void 0 ? void 0 : renderGlobalFilterModeMenuItems({\n                internalFilterOptions,\n                onSelectFilterMode: handleSelectFilterMode,\n                table,\n            }))) !== null && _e !== void 0 ? _e : internalFilterOptions.map(({ divider, label, option, symbol }, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)((_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_12___default()), { divider: divider, onClick: () => handleSelectFilterMode(option), selected: option === filterOption, sx: {\n                alignItems: 'center',\n                display: 'flex',\n                gap: '2ch',\n                my: 0,\n                py: '6px',\n            }, value: option, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: { fontSize: '1.25rem', width: '2ch' }, children: symbol }), label] }, index))) })));\n};\n\nconst commonMenuItemStyles = {\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    my: 0,\n    py: '6px',\n};\nconst commonListItemStyles = {\n    alignItems: 'center',\n    display: 'flex',\n};\nconst MRT_ColumnActionMenu = (_a) => {\n    var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n    var { anchorEl, header, setAnchorEl, table } = _a, rest = __rest(_a, [\"anchorEl\", \"header\", \"setAnchorEl\", \"table\"]);\n    const { getState, options: { columnFilterDisplayMode, columnFilterModeOptions, enableColumnFilterModes, enableColumnFilters, enableColumnPinning, enableColumnResizing, enableGrouping, enableHiding, enableSorting, enableSortingRemoval, icons: { ArrowRightIcon, ClearAllIcon, DynamicFeedIcon, FilterListIcon, FilterListOffIcon, PushPinIcon, RestartAltIcon, SortIcon, ViewColumnIcon, VisibilityOffIcon, }, localization, renderColumnActionsMenuItems, }, refs: { filterInputRefs }, setColumnOrder, setColumnSizingInfo, setShowColumnFilters, toggleAllColumnsVisible, } = table;\n    const { column } = header;\n    const { columnDef } = column;\n    const { columnSizing, columnVisibility, density, showColumnFilters } = getState();\n    const columnFilterValue = column.getFilterValue();\n    const [filterMenuAnchorEl, setFilterMenuAnchorEl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const handleClearSort = () => {\n        column.clearSorting();\n        setAnchorEl(null);\n    };\n    const handleSortAsc = () => {\n        column.toggleSorting(false);\n        setAnchorEl(null);\n    };\n    const handleSortDesc = () => {\n        column.toggleSorting(true);\n        setAnchorEl(null);\n    };\n    const handleResetColumnSize = () => {\n        setColumnSizingInfo((old) => (Object.assign(Object.assign({}, old), { isResizingColumn: false })));\n        column.resetSize();\n        setAnchorEl(null);\n    };\n    const handleHideColumn = () => {\n        column.toggleVisibility(false);\n        setAnchorEl(null);\n    };\n    const handlePinColumn = (pinDirection) => {\n        column.pin(pinDirection);\n        setAnchorEl(null);\n    };\n    const handleGroupByColumn = () => {\n        column.toggleGrouping();\n        setColumnOrder((old) => ['mrt-row-expand', ...old]);\n        setAnchorEl(null);\n    };\n    const handleClearFilter = () => {\n        column.setFilterValue('');\n        setAnchorEl(null);\n    };\n    const handleFilterByColumn = () => {\n        setShowColumnFilters(true);\n        queueMicrotask(() => { var _a; return (_a = filterInputRefs.current[`${column.id}-0`]) === null || _a === void 0 ? void 0 : _a.focus(); });\n        setAnchorEl(null);\n    };\n    const handleShowAllColumns = () => {\n        toggleAllColumnsVisible(true);\n        setAnchorEl(null);\n    };\n    const handleOpenFilterModeMenu = (event) => {\n        event.stopPropagation();\n        setFilterMenuAnchorEl(event.currentTarget);\n    };\n    const isSelectFilter = !!columnDef.filterSelectOptions;\n    const allowedColumnFilterOptions = (_b = columnDef === null || columnDef === void 0 ? void 0 : columnDef.columnFilterModeOptions) !== null && _b !== void 0 ? _b : columnFilterModeOptions;\n    const showFilterModeSubMenu = enableColumnFilterModes &&\n        columnDef.enableColumnFilterModes !== false &&\n        !isSelectFilter &&\n        (allowedColumnFilterOptions === undefined ||\n            !!(allowedColumnFilterOptions === null || allowedColumnFilterOptions === void 0 ? void 0 : allowedColumnFilterOptions.length));\n    const internalColumnMenuItems = [\n        ...(enableSorting && column.getCanSort()\n            ? [\n                enableSortingRemoval !== false && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_12___default()), { disabled: !column.getIsSorted(), onClick: handleClearSort, sx: commonMenuItemStyles, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: commonListItemStyles, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_ListItemIcon__WEBPACK_IMPORTED_MODULE_23___default()), { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ClearAllIcon, {}) }), localization.clearSort] }) }, 0)),\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_12___default()), { disabled: column.getIsSorted() === 'asc', onClick: handleSortAsc, sx: commonMenuItemStyles, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: commonListItemStyles, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_ListItemIcon__WEBPACK_IMPORTED_MODULE_23___default()), { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SortIcon, { style: { transform: 'rotate(180deg) scaleX(-1)' } }) }), (_c = localization.sortByColumnAsc) === null || _c === void 0 ? void 0 : _c.replace('{column}', String(columnDef.header))] }) }, 1),\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_12___default()), { disabled: column.getIsSorted() === 'desc', divider: enableColumnFilters || enableGrouping || enableHiding, onClick: handleSortDesc, sx: commonMenuItemStyles, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: commonListItemStyles, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_ListItemIcon__WEBPACK_IMPORTED_MODULE_23___default()), { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SortIcon, {}) }), (_d = localization.sortByColumnDesc) === null || _d === void 0 ? void 0 : _d.replace('{column}', String(columnDef.header))] }) }, 2),\n            ]\n            : []),\n        ...(enableColumnFilters && column.getCanFilter()\n            ? [\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_12___default()), { disabled: !columnFilterValue ||\n                        (Array.isArray(columnFilterValue) &&\n                            !columnFilterValue.filter((value) => value).length), onClick: handleClearFilter, sx: commonMenuItemStyles, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: commonListItemStyles, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_ListItemIcon__WEBPACK_IMPORTED_MODULE_23___default()), { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FilterListOffIcon, {}) }), localization.clearFilter] }) }, 3),\n                columnFilterDisplayMode === 'subheader' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)((_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_12___default()), { disabled: showColumnFilters && !enableColumnFilterModes, divider: enableGrouping || enableHiding, onClick: showColumnFilters\n                        ? handleOpenFilterModeMenu\n                        : handleFilterByColumn, sx: commonMenuItemStyles, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: commonListItemStyles, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_ListItemIcon__WEBPACK_IMPORTED_MODULE_23___default()), { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FilterListIcon, {}) }), (_e = localization.filterByColumn) === null || _e === void 0 ? void 0 : _e.replace('{column}', String(columnDef.header))] }), showFilterModeSubMenu && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), { onClick: handleOpenFilterModeMenu, onMouseEnter: handleOpenFilterModeMenu, size: \"small\", sx: { p: 0 }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ArrowRightIcon, {}) }))] }, 4)),\n                showFilterModeSubMenu && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_FilterOptionMenu, { anchorEl: filterMenuAnchorEl, header: header, onSelect: handleFilterByColumn, setAnchorEl: setFilterMenuAnchorEl, table: table }, 5)),\n            ].filter(Boolean)\n            : []),\n        ...(enableGrouping && column.getCanGroup()\n            ? [\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_12___default()), { divider: enableColumnPinning, onClick: handleGroupByColumn, sx: commonMenuItemStyles, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: commonListItemStyles, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_ListItemIcon__WEBPACK_IMPORTED_MODULE_23___default()), { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DynamicFeedIcon, {}) }), (_f = localization[column.getIsGrouped() ? 'ungroupByColumn' : 'groupByColumn']) === null || _f === void 0 ? void 0 : _f.replace('{column}', String(columnDef.header))] }) }, 6),\n            ]\n            : []),\n        ...(enableColumnPinning && column.getCanPin()\n            ? [\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_12___default()), { disabled: column.getIsPinned() === 'left' || !column.getCanPin(), onClick: () => handlePinColumn('left'), sx: commonMenuItemStyles, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: commonListItemStyles, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_ListItemIcon__WEBPACK_IMPORTED_MODULE_23___default()), { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PushPinIcon, { style: { transform: 'rotate(90deg)' } }) }), localization.pinToLeft] }) }, 7),\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_12___default()), { disabled: column.getIsPinned() === 'right' || !column.getCanPin(), onClick: () => handlePinColumn('right'), sx: commonMenuItemStyles, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: commonListItemStyles, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_ListItemIcon__WEBPACK_IMPORTED_MODULE_23___default()), { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PushPinIcon, { style: { transform: 'rotate(-90deg)' } }) }), localization.pinToRight] }) }, 8),\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_12___default()), { disabled: !column.getIsPinned(), divider: enableHiding, onClick: () => handlePinColumn(false), sx: commonMenuItemStyles, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: commonListItemStyles, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_ListItemIcon__WEBPACK_IMPORTED_MODULE_23___default()), { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PushPinIcon, {}) }), localization.unpin] }) }, 9),\n            ]\n            : []),\n        ...(enableColumnResizing && column.getCanResize()\n            ? [\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_12___default()), { disabled: !columnSizing[column.id], onClick: handleResetColumnSize, sx: commonMenuItemStyles, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: commonListItemStyles, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_ListItemIcon__WEBPACK_IMPORTED_MODULE_23___default()), { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(RestartAltIcon, {}) }), localization.resetColumnSize] }) }, 10),\n            ]\n            : []),\n        ...(enableHiding\n            ? [\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_12___default()), { disabled: !column.getCanHide(), onClick: handleHideColumn, sx: commonMenuItemStyles, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: commonListItemStyles, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_ListItemIcon__WEBPACK_IMPORTED_MODULE_23___default()), { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VisibilityOffIcon, {}) }), (_g = localization.hideColumn) === null || _g === void 0 ? void 0 : _g.replace('{column}', String(columnDef.header))] }) }, 11),\n                (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_12___default()), { disabled: !Object.values(columnVisibility).filter((visible) => !visible)\n                        .length, onClick: handleShowAllColumns, sx: commonMenuItemStyles, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: commonListItemStyles, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_ListItemIcon__WEBPACK_IMPORTED_MODULE_23___default()), { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ViewColumnIcon, {}) }), (_h = localization.showAllColumns) === null || _h === void 0 ? void 0 : _h.replace('{column}', String(columnDef.header))] }) }, 12),\n            ]\n            : []),\n    ].filter(Boolean);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Menu__WEBPACK_IMPORTED_MODULE_22___default()), Object.assign({ MenuListProps: {\n            dense: density === 'compact',\n        }, anchorEl: anchorEl, onClose: () => setAnchorEl(null), open: !!anchorEl }, rest, { children: (_l = (_k = (_j = columnDef.renderColumnActionsMenuItems) === null || _j === void 0 ? void 0 : _j.call(columnDef, {\n            closeMenu: () => setAnchorEl(null),\n            column,\n            internalColumnMenuItems,\n            table,\n        })) !== null && _k !== void 0 ? _k : renderColumnActionsMenuItems === null || renderColumnActionsMenuItems === void 0 ? void 0 : renderColumnActionsMenuItems({\n            closeMenu: () => setAnchorEl(null),\n            column,\n            internalColumnMenuItems,\n            table,\n        })) !== null && _l !== void 0 ? _l : internalColumnMenuItems })));\n};\n\nconst MRT_TableHeadCellColumnActionsButton = (_a) => {\n    var _b;\n    var { header, table } = _a, rest = __rest(_a, [\"header\", \"table\"]);\n    const { options: { icons: { MoreVertIcon }, localization, muiColumnActionsButtonProps, }, } = table;\n    const { column } = header;\n    const { columnDef } = column;\n    const [anchorEl, setAnchorEl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const handleClick = (event) => {\n        event.stopPropagation();\n        event.preventDefault();\n        setAnchorEl(event.currentTarget);\n    };\n    const iconButtonProps = Object.assign(Object.assign(Object.assign({}, parseFromValuesOrFunc(muiColumnActionsButtonProps, {\n        column,\n        table,\n    })), parseFromValuesOrFunc(columnDef.muiColumnActionsButtonProps, {\n        column,\n        table,\n    })), rest);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { enterDelay: 1000, enterNextDelay: 1000, placement: \"top\", title: (_b = iconButtonProps === null || iconButtonProps === void 0 ? void 0 : iconButtonProps.title) !== null && _b !== void 0 ? _b : localization.columnActions, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), Object.assign({ \"aria-label\": localization.columnActions, onClick: handleClick, size: \"small\" }, iconButtonProps, { sx: (theme) => (Object.assign({ '&:hover': {\n                            opacity: 1,\n                        }, height: '2rem', m: '-8px -4px', opacity: 0.3, transition: 'all 150ms', width: '2rem' }, parseFromValuesOrFunc(iconButtonProps === null || iconButtonProps === void 0 ? void 0 : iconButtonProps.sx, theme))), title: undefined, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MoreVertIcon, { style: { transform: 'scale(0.9)' } }) })) }), anchorEl && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_ColumnActionMenu, { anchorEl: anchorEl, header: header, setAnchorEl: setAnchorEl, table: table }))] }));\n};\n\nconst MRT_FilterCheckbox = (_a) => {\n    var _b, _c, _d;\n    var { column, table } = _a, rest = __rest(_a, [\"column\", \"table\"]);\n    const { getState, options: { localization, muiFilterCheckboxProps }, } = table;\n    const { density } = getState();\n    const { columnDef } = column;\n    const checkboxProps = Object.assign(Object.assign(Object.assign({}, parseFromValuesOrFunc(muiFilterCheckboxProps, {\n        column,\n        table,\n    })), parseFromValuesOrFunc(columnDef.muiFilterCheckboxProps, {\n        column,\n        table,\n    })), rest);\n    const filterLabel = (_b = localization.filterByColumn) === null || _b === void 0 ? void 0 : _b.replace('{column}', columnDef.header);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { enterDelay: 1000, enterNextDelay: 1000, title: (_c = checkboxProps === null || checkboxProps === void 0 ? void 0 : checkboxProps.title) !== null && _c !== void 0 ? _c : filterLabel, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_FormControlLabel__WEBPACK_IMPORTED_MODULE_24___default()), { control: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Checkbox__WEBPACK_IMPORTED_MODULE_25___default()), Object.assign({ checked: column.getFilterValue() === 'true', color: column.getFilterValue() === undefined ? 'default' : 'primary', indeterminate: column.getFilterValue() === undefined, size: density === 'compact' ? 'small' : 'medium' }, checkboxProps, { onChange: (e, checked) => {\n                    var _a;\n                    column.setFilterValue(column.getFilterValue() === undefined\n                        ? 'true'\n                        : column.getFilterValue() === 'true'\n                            ? 'false'\n                            : undefined);\n                    (_a = checkboxProps === null || checkboxProps === void 0 ? void 0 : checkboxProps.onChange) === null || _a === void 0 ? void 0 : _a.call(checkboxProps, e, checked);\n                }, onClick: (e) => {\n                    var _a;\n                    e.stopPropagation();\n                    (_a = checkboxProps === null || checkboxProps === void 0 ? void 0 : checkboxProps.onClick) === null || _a === void 0 ? void 0 : _a.call(checkboxProps, e);\n                }, sx: (theme) => (Object.assign({ height: '2.5rem', width: '2.5rem' }, parseFromValuesOrFunc(checkboxProps === null || checkboxProps === void 0 ? void 0 : checkboxProps.sx, theme))) })), disableTypography: true, label: (_d = checkboxProps.title) !== null && _d !== void 0 ? _d : filterLabel, sx: { color: 'text.secondary', fontWeight: 'normal', mt: '-4px' }, title: undefined }) }));\n};\n\nconst MRT_FilterTextField = (_a) => {\n    var _b, _c, _d, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q;\n    var { header, rangeFilterIndex, table } = _a, rest = __rest(_a, [\"header\", \"rangeFilterIndex\", \"table\"]);\n    const { options: { columnFilterModeOptions, enableColumnFilterModes, icons: { CloseIcon, FilterListIcon }, localization, manualFiltering, muiFilterAutocompleteProps, muiFilterDatePickerProps, muiFilterTextFieldProps, }, refs: { filterInputRefs }, setColumnFilterFns, } = table;\n    const { column } = header;\n    const { columnDef } = column;\n    const { filterVariant } = columnDef;\n    const textFieldProps = Object.assign(Object.assign(Object.assign({}, parseFromValuesOrFunc(muiFilterTextFieldProps, { column, table })), parseFromValuesOrFunc(columnDef.muiFilterTextFieldProps, {\n        column,\n        table,\n    })), rest);\n    const autocompleteProps = Object.assign(Object.assign({}, parseFromValuesOrFunc(muiFilterAutocompleteProps, { column, table })), parseFromValuesOrFunc(columnDef.muiFilterAutocompleteProps, {\n        column,\n        table,\n    }));\n    const datePickerProps = Object.assign(Object.assign({}, parseFromValuesOrFunc(muiFilterDatePickerProps, { column, table })), parseFromValuesOrFunc(columnDef.muiFilterDatePickerProps, {\n        column,\n        table,\n    }));\n    const isDateFilter = filterVariant === null || filterVariant === void 0 ? void 0 : filterVariant.startsWith('date');\n    const isAutocompleteFilter = filterVariant === 'autocomplete';\n    const isRangeFilter = (filterVariant === null || filterVariant === void 0 ? void 0 : filterVariant.includes('range')) || rangeFilterIndex !== undefined;\n    const isSelectFilter = filterVariant === 'select';\n    const isMultiSelectFilter = filterVariant === 'multi-select';\n    const isTextboxFilter = ['autocomplete', 'text'].includes(filterVariant) ||\n        (!isSelectFilter && !isMultiSelectFilter);\n    const currentFilterOption = columnDef._filterFn;\n    const filterChipLabel = ['empty', 'notEmpty'].includes(currentFilterOption)\n        ? //@ts-ignore\n            localization[`filter${((_c = (_b = currentFilterOption === null || currentFilterOption === void 0 ? void 0 : currentFilterOption.charAt) === null || _b === void 0 ? void 0 : _b.call(currentFilterOption, 0)) === null || _c === void 0 ? void 0 : _c.toUpperCase()) +\n                (currentFilterOption === null || currentFilterOption === void 0 ? void 0 : currentFilterOption.slice(1))}`]\n        : '';\n    const filterPlaceholder = !isRangeFilter\n        ? (_d = textFieldProps === null || textFieldProps === void 0 ? void 0 : textFieldProps.placeholder) !== null && _d !== void 0 ? _d : (_f = localization.filterByColumn) === null || _f === void 0 ? void 0 : _f.replace('{column}', String(columnDef.header))\n        : rangeFilterIndex === 0\n            ? localization.min\n            : rangeFilterIndex === 1\n                ? localization.max\n                : '';\n    const allowedColumnFilterOptions = (_g = columnDef === null || columnDef === void 0 ? void 0 : columnDef.columnFilterModeOptions) !== null && _g !== void 0 ? _g : columnFilterModeOptions;\n    const showChangeModeButton = enableColumnFilterModes &&\n        columnDef.enableColumnFilterModes !== false &&\n        !rangeFilterIndex &&\n        (allowedColumnFilterOptions === undefined ||\n            !!(allowedColumnFilterOptions === null || allowedColumnFilterOptions === void 0 ? void 0 : allowedColumnFilterOptions.length));\n    const facetedUniqueValues = column.getFacetedUniqueValues();\n    const [anchorEl, setAnchorEl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [filterValue, setFilterValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => {\n        var _a, _b;\n        return isMultiSelectFilter\n            ? column.getFilterValue() || []\n            : isRangeFilter\n                ? ((_a = column.getFilterValue()) === null || _a === void 0 ? void 0 : _a[rangeFilterIndex]) || ''\n                : (_b = column.getFilterValue()) !== null && _b !== void 0 ? _b : '';\n    });\n    const handleChangeDebounced = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((0,_mui_material_utils__WEBPACK_IMPORTED_MODULE_26__.debounce)((newValue) => {\n        if (isRangeFilter) {\n            column.setFilterValue((old) => {\n                const newFilterValues = old !== null && old !== void 0 ? old : ['', ''];\n                newFilterValues[rangeFilterIndex] = newValue !== null && newValue !== void 0 ? newValue : undefined;\n                return newFilterValues;\n            });\n        }\n        else {\n            column.setFilterValue(newValue !== null && newValue !== void 0 ? newValue : undefined);\n        }\n    }, isTextboxFilter ? (manualFiltering ? 400 : 200) : 1), []);\n    const handleChange = (newValue) => {\n        setFilterValue(newValue !== null && newValue !== void 0 ? newValue : '');\n        handleChangeDebounced(newValue);\n    };\n    const handleTextFieldChange = (event) => {\n        var _a;\n        const newValue = textFieldProps.type === 'date'\n            ? event.target.valueAsDate\n            : textFieldProps.type === 'number'\n                ? event.target.valueAsNumber\n                : event.target.value;\n        handleChange(newValue);\n        (_a = textFieldProps === null || textFieldProps === void 0 ? void 0 : textFieldProps.onChange) === null || _a === void 0 ? void 0 : _a.call(textFieldProps, event);\n    };\n    const handleClear = () => {\n        if (isMultiSelectFilter) {\n            setFilterValue([]);\n            column.setFilterValue([]);\n        }\n        else if (isRangeFilter) {\n            setFilterValue('');\n            column.setFilterValue((old) => {\n                const newFilterValues = (Array.isArray(old) && old) || ['', ''];\n                newFilterValues[rangeFilterIndex] = undefined;\n                return newFilterValues;\n            });\n        }\n        else {\n            setFilterValue('');\n            column.setFilterValue(undefined);\n        }\n    };\n    const handleClearEmptyFilterChip = () => {\n        setFilterValue('');\n        column.setFilterValue(undefined);\n        setColumnFilterFns((prev) => {\n            var _a;\n            return (Object.assign(Object.assign({}, prev), { [header.id]: (_a = allowedColumnFilterOptions === null || allowedColumnFilterOptions === void 0 ? void 0 : allowedColumnFilterOptions[0]) !== null && _a !== void 0 ? _a : 'fuzzy' }));\n        });\n    };\n    const handleFilterMenuOpen = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n    const isMounted = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        if (isMounted.current) {\n            const filterValue = column.getFilterValue();\n            if (filterValue === undefined) {\n                handleClear();\n            }\n            else if (isRangeFilter && rangeFilterIndex !== undefined) {\n                setFilterValue(filterValue[rangeFilterIndex]);\n            }\n            else {\n                setFilterValue(filterValue);\n            }\n        }\n        isMounted.current = true;\n    }, [column.getFilterValue()]);\n    if (columnDef.Filter) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: (_h = columnDef.Filter) === null || _h === void 0 ? void 0 : _h.call(columnDef, { column, header, rangeFilterIndex, table }) }));\n    }\n    const dropdownOptions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n        var _a;\n        return (_a = columnDef.filterSelectOptions) !== null && _a !== void 0 ? _a : ((isSelectFilter || isMultiSelectFilter || isAutocompleteFilter) &&\n            facetedUniqueValues\n            ? Array.from(facetedUniqueValues.keys())\n                .filter((value) => value !== null && value !== undefined)\n                .sort((a, b) => a.localeCompare(b))\n            : undefined);\n    }, [\n        columnDef.filterSelectOptions,\n        facetedUniqueValues,\n        isMultiSelectFilter,\n        isSelectFilter,\n    ]);\n    const endAdornment = !isAutocompleteFilter && !isDateFilter && !filterChipLabel ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_InputAdornment__WEBPACK_IMPORTED_MODULE_27___default()), { position: \"end\", sx: { mr: isSelectFilter || isMultiSelectFilter ? '20px' : undefined }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { placement: \"right\", title: (_j = localization.clearFilter) !== null && _j !== void 0 ? _j : '', children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), { \"aria-label\": localization.clearFilter, disabled: !((_k = filterValue === null || filterValue === void 0 ? void 0 : filterValue.toString()) === null || _k === void 0 ? void 0 : _k.length), onClick: handleClear, size: \"small\", sx: {\n                        height: '2rem',\n                        transform: 'scale(0.9)',\n                        width: '2rem',\n                    }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CloseIcon, {}) }) }) }) })) : null;\n    const startAdornment = showChangeModeButton ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)((_mui_material_InputAdornment__WEBPACK_IMPORTED_MODULE_27___default()), { position: \"start\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { title: localization.changeFilterMode, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), { \"aria-label\": localization.changeFilterMode, onClick: handleFilterMenuOpen, size: \"small\", sx: { height: '1.75rem', width: '1.75rem' }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FilterListIcon, {}) }) }) }), filterChipLabel && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Chip__WEBPACK_IMPORTED_MODULE_28___default()), { label: filterChipLabel, onDelete: handleClearEmptyFilterChip }))] })) : null;\n    const commonTextFieldProps = Object.assign(Object.assign({ FormHelperTextProps: {\n            sx: {\n                fontSize: '0.75rem',\n                lineHeight: '0.8rem',\n                whiteSpace: 'nowrap',\n            },\n        }, InputProps: endAdornment //hack because mui looks for presense of endAdornment key instead of undefined\n            ? { endAdornment, startAdornment }\n            : { startAdornment }, fullWidth: true, helperText: showChangeModeButton ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"label\", { children: localization.filterMode.replace('{filterType}', \n            // @ts-ignore\n            localization[`filter${((_l = currentFilterOption === null || currentFilterOption === void 0 ? void 0 : currentFilterOption.charAt(0)) === null || _l === void 0 ? void 0 : _l.toUpperCase()) +\n                (currentFilterOption === null || currentFilterOption === void 0 ? void 0 : currentFilterOption.slice(1))}`]) })) : null, inputProps: {\n            'aria-label': filterPlaceholder,\n            autoComplete: 'new-password',\n            disabled: !!filterChipLabel,\n            sx: {\n                textOverflow: 'ellipsis',\n                width: filterChipLabel ? 0 : undefined,\n            },\n            title: filterPlaceholder,\n        }, inputRef: (inputRef) => {\n            filterInputRefs.current[`${column.id}-${rangeFilterIndex !== null && rangeFilterIndex !== void 0 ? rangeFilterIndex : 0}`] =\n                inputRef;\n            if (textFieldProps.inputRef) {\n                textFieldProps.inputRef = inputRef;\n            }\n        }, margin: 'none', onClick: (e) => e.stopPropagation(), placeholder: filterChipLabel || isSelectFilter || isMultiSelectFilter\n            ? undefined\n            : filterPlaceholder, variant: 'standard' }, textFieldProps), { sx: (theme) => (Object.assign({ minWidth: isDateFilter\n                ? '160px'\n                : enableColumnFilterModes && rangeFilterIndex === 0\n                    ? '110px'\n                    : isRangeFilter\n                        ? '100px'\n                        : !filterChipLabel\n                            ? '120px'\n                            : 'auto', mx: '-2px', p: 0, width: 'calc(100% + 4px)' }, parseFromValuesOrFunc(textFieldProps === null || textFieldProps === void 0 ? void 0 : textFieldProps.sx, theme))) });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [isDateFilter ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_x_date_pickers_DatePicker__WEBPACK_IMPORTED_MODULE_29__.DatePicker, Object.assign({ onChange: (newDate) => {\n                    handleChange(newDate);\n                }, value: filterValue || null }, datePickerProps, { slotProps: {\n                    field: Object.assign({ clearable: true, onClear: () => handleClear() }, (_m = datePickerProps === null || datePickerProps === void 0 ? void 0 : datePickerProps.slotProps) === null || _m === void 0 ? void 0 : _m.field),\n                    textField: Object.assign(Object.assign({}, commonTextFieldProps), (_o = datePickerProps === null || datePickerProps === void 0 ? void 0 : datePickerProps.slotProps) === null || _o === void 0 ? void 0 : _o.textField),\n                } }))) : isAutocompleteFilter ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Autocomplete__WEBPACK_IMPORTED_MODULE_30___default()), Object.assign({ freeSolo: true, getOptionLabel: (option) => getValueAndLabel(option).label, onChange: (_e, newValue) => handleChange(getValueAndLabel(newValue).value), options: (_p = dropdownOptions === null || dropdownOptions === void 0 ? void 0 : dropdownOptions.map((option) => getValueAndLabel(option))) !== null && _p !== void 0 ? _p : [] }, autocompleteProps, { renderInput: (builtinTextFieldProps) => {\n                    var _a;\n                    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_TextField__WEBPACK_IMPORTED_MODULE_11___default()), Object.assign({}, builtinTextFieldProps, commonTextFieldProps, { InputProps: Object.assign(Object.assign({}, builtinTextFieldProps.InputProps), { startAdornment: (_a = commonTextFieldProps === null || commonTextFieldProps === void 0 ? void 0 : commonTextFieldProps.InputProps) === null || _a === void 0 ? void 0 : _a.startAdornment }), inputProps: Object.assign(Object.assign({}, builtinTextFieldProps.inputProps), commonTextFieldProps === null || commonTextFieldProps === void 0 ? void 0 : commonTextFieldProps.inputProps), onChange: handleTextFieldChange })));\n                }, value: filterValue }))) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_TextField__WEBPACK_IMPORTED_MODULE_11___default()), Object.assign({ SelectProps: {\n                    displayEmpty: true,\n                    multiple: isMultiSelectFilter,\n                    renderValue: isMultiSelectFilter\n                        ? (selected) => !(selected === null || selected === void 0 ? void 0 : selected.length) ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: { opacity: 0.5 }, children: filterPlaceholder })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: { display: 'flex', flexWrap: 'wrap', gap: '2px' }, children: selected === null || selected === void 0 ? void 0 : selected.map((value) => {\n                                const selectedValue = dropdownOptions === null || dropdownOptions === void 0 ? void 0 : dropdownOptions.find((option) => getValueAndLabel(option).value === value);\n                                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Chip__WEBPACK_IMPORTED_MODULE_28___default()), { label: getValueAndLabel(selectedValue).label }, value));\n                            }) }))\n                        : undefined,\n                }, onChange: handleTextFieldChange, select: isSelectFilter || isMultiSelectFilter }, commonTextFieldProps, { value: filterValue !== null && filterValue !== void 0 ? filterValue : '', children: (isSelectFilter || isMultiSelectFilter) && [\n                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_12___default()), { disabled: true, divider: true, hidden: true, value: \"\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: { opacity: 0.5 }, children: filterPlaceholder }) }, \"p\"),\n                    ...[\n                        (_q = textFieldProps.children) !== null && _q !== void 0 ? _q : dropdownOptions === null || dropdownOptions === void 0 ? void 0 : dropdownOptions.map((option, index) => {\n                            var _a;\n                            const { label, value } = getValueAndLabel(option);\n                            return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)((_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_12___default()), { sx: {\n                                    alignItems: 'center',\n                                    display: 'flex',\n                                    gap: '0.5rem',\n                                    m: 0,\n                                }, value: value, children: [isMultiSelectFilter && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Checkbox__WEBPACK_IMPORTED_MODULE_25___default()), { checked: ((_a = column.getFilterValue()) !== null && _a !== void 0 ? _a : []).includes(value), sx: { mr: '0.5rem' } })), label, ' ', !columnDef.filterSelectOptions &&\n                                        `(${facetedUniqueValues.get(value)})`] }, `${index}-${value}`));\n                        }),\n                    ],\n                ] }))), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_FilterOptionMenu, { anchorEl: anchorEl, header: header, setAnchorEl: setAnchorEl, setFilterValue: setFilterValue, table: table })] }));\n};\n\nconst MRT_FilterRangeFields = (_a) => {\n    var { header, table } = _a, rest = __rest(_a, [\"header\", \"table\"]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], Object.assign({}, rest, { sx: (theme) => (Object.assign({ display: 'grid', gap: '1rem', gridTemplateColumns: '1fr 1fr' }, parseFromValuesOrFunc(rest === null || rest === void 0 ? void 0 : rest.sx, theme))), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_FilterTextField, { header: header, rangeFilterIndex: 0, table: table }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_FilterTextField, { header: header, rangeFilterIndex: 1, table: table })] })));\n};\n\nconst MRT_FilterRangeSlider = (_a) => {\n    var _b, _c;\n    var { header, table } = _a, rest = __rest(_a, [\"header\", \"table\"]);\n    const { options: { enableColumnFilterModes, localization, muiFilterSliderProps }, refs: { filterInputRefs }, } = table;\n    const { column } = header;\n    const { columnDef } = column;\n    const currentFilterOption = columnDef._filterFn;\n    const showChangeModeButton = enableColumnFilterModes && columnDef.enableColumnFilterModes !== false;\n    const sliderProps = Object.assign(Object.assign(Object.assign({}, parseFromValuesOrFunc(muiFilterSliderProps, { column, table })), parseFromValuesOrFunc(columnDef.muiFilterSliderProps, { column, table })), rest);\n    let [min, max] = sliderProps.min !== undefined && sliderProps.max !== undefined\n        ? [sliderProps.min, sliderProps.max]\n        : (_b = column.getFacetedMinMaxValues()) !== null && _b !== void 0 ? _b : [0, 1];\n    //fix potential TanStack Table bugs where min or max is an array\n    if (Array.isArray(min))\n        min = min[0];\n    if (Array.isArray(max))\n        max = max[0];\n    if (min === null)\n        min = 0;\n    if (max === null)\n        max = 1;\n    const [filterValues, setFilterValues] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([min, max]);\n    const columnFilterValue = column.getFilterValue();\n    const isMounted = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        if (isMounted.current) {\n            if (columnFilterValue === undefined) {\n                setFilterValues([min, max]);\n            }\n            else if (Array.isArray(columnFilterValue)) {\n                setFilterValues(columnFilterValue);\n            }\n        }\n        isMounted.current = true;\n    }, [columnFilterValue, min, max]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Stack__WEBPACK_IMPORTED_MODULE_31__[\"default\"], { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Slider__WEBPACK_IMPORTED_MODULE_32___default()), Object.assign({ disableSwap: true, max: max, min: min, onChange: (_event, values) => {\n                    setFilterValues(values);\n                }, onChangeCommitted: (_event, value) => {\n                    if (Array.isArray(value)) {\n                        if (value[0] <= min && value[1] >= max) {\n                            //if the user has selected the entire range, remove the filter\n                            column.setFilterValue(undefined);\n                        }\n                        else {\n                            column.setFilterValue(value);\n                        }\n                    }\n                }, value: filterValues, valueLabelDisplay: \"auto\" }, sliderProps, { slotProps: {\n                    input: {\n                        ref: (node) => {\n                            var _a, _b;\n                            if (node) {\n                                filterInputRefs.current[`${column.id}-0`] = node;\n                                // @ts-ignore\n                                if ((_b = (_a = sliderProps === null || sliderProps === void 0 ? void 0 : sliderProps.slotProps) === null || _a === void 0 ? void 0 : _a.input) === null || _b === void 0 ? void 0 : _b.ref) {\n                                    //@ts-ignore\n                                    sliderProps.slotProps.input.ref = node;\n                                }\n                            }\n                        },\n                    },\n                }, sx: (theme) => (Object.assign({ m: 'auto', mt: !showChangeModeButton ? '10px' : '6px', px: '4px', width: 'calc(100% - 8px)' }, parseFromValuesOrFunc(sliderProps === null || sliderProps === void 0 ? void 0 : sliderProps.sx, theme))) })), showChangeModeButton ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_FormHelperText__WEBPACK_IMPORTED_MODULE_33___default()), { sx: {\n                    fontSize: '0.75rem',\n                    lineHeight: '0.8rem',\n                    m: '-3px -6px',\n                    whiteSpace: 'nowrap',\n                }, children: localization.filterMode.replace('{filterType}', \n                // @ts-ignore\n                localization[`filter${((_c = currentFilterOption === null || currentFilterOption === void 0 ? void 0 : currentFilterOption.charAt(0)) === null || _c === void 0 ? void 0 : _c.toUpperCase()) +\n                    (currentFilterOption === null || currentFilterOption === void 0 ? void 0 : currentFilterOption.slice(1))}`]) })) : null] }));\n};\n\nconst MRT_TableHeadCellFilterContainer = (_a) => {\n    var _b;\n    var { header, table } = _a, rest = __rest(_a, [\"header\", \"table\"]);\n    const { getState, options: { columnFilterDisplayMode }, } = table;\n    const { showColumnFilters } = getState();\n    const { column } = header;\n    const { columnDef } = column;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Collapse__WEBPACK_IMPORTED_MODULE_16___default()), Object.assign({ in: showColumnFilters || columnFilterDisplayMode === 'popover', mountOnEnter: true, unmountOnExit: true }, rest, { children: columnDef.filterVariant === 'checkbox' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_FilterCheckbox, { column: column, table: table })) : columnDef.filterVariant === 'range-slider' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_FilterRangeSlider, { header: header, table: table })) : ((_b = columnDef.filterVariant) === null || _b === void 0 ? void 0 : _b.includes('range')) ||\n            ['between', 'betweenInclusive', 'inNumberRange'].includes(columnDef._filterFn) ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_FilterRangeFields, { header: header, table: table })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_FilterTextField, { header: header, table: table })) })));\n};\n\nconst MRT_TableHeadCellFilterLabel = (_a) => {\n    var _b, _c, _d;\n    var { header, table } = _a, rest = __rest(_a, [\"header\", \"table\"]);\n    const { options: { columnFilterDisplayMode, icons: { FilterAltIcon }, localization, }, refs: { filterInputRefs }, setShowColumnFilters, } = table;\n    const { column } = header;\n    const { columnDef } = column;\n    const filterValue = column.getFilterValue();\n    const [anchorEl, setAnchorEl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const isFilterActive = (Array.isArray(filterValue) && filterValue.some(Boolean)) ||\n        (!!filterValue && !Array.isArray(filterValue));\n    const isRangeFilter = ((_b = columnDef.filterVariant) === null || _b === void 0 ? void 0 : _b.includes('range')) ||\n        ['between', 'betweenInclusive', 'inNumberRange'].includes(columnDef._filterFn);\n    const currentFilterOption = columnDef._filterFn;\n    const filterTooltip = columnFilterDisplayMode === 'popover' && !isFilterActive\n        ? (_c = localization.filterByColumn) === null || _c === void 0 ? void 0 : _c.replace('{column}', String(columnDef.header))\n        : localization.filteringByColumn\n            .replace('{column}', String(columnDef.header))\n            .replace('{filterType}', currentFilterOption\n            ? // @ts-ignore\n                localization[`filter${((_d = currentFilterOption === null || currentFilterOption === void 0 ? void 0 : currentFilterOption.charAt(0)) === null || _d === void 0 ? void 0 : _d.toUpperCase()) +\n                    (currentFilterOption === null || currentFilterOption === void 0 ? void 0 : currentFilterOption.slice(1))}`]\n            : '')\n            .replace('{filterValue}', `\"${Array.isArray(filterValue)\n            ? filterValue.join(`\" ${isRangeFilter ? localization.and : localization.or} \"`)\n            : filterValue}\"`)\n            .replace('\" \"', '');\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Grow__WEBPACK_IMPORTED_MODULE_34__[\"default\"], { in: columnFilterDisplayMode === 'popover' ||\n                    (!!filterValue && !isRangeFilter) ||\n                    (isRangeFilter && // @ts-ignore\n                        (!!(filterValue === null || filterValue === void 0 ? void 0 : filterValue[0]) || !!(filterValue === null || filterValue === void 0 ? void 0 : filterValue[1]))), unmountOnExit: true, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { component: \"span\", sx: { flex: '0 0' }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { placement: \"top\", title: filterTooltip, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), Object.assign({ disableRipple: true, onClick: (event) => {\n                                if (columnFilterDisplayMode === 'popover') {\n                                    setAnchorEl(event.currentTarget);\n                                }\n                                else {\n                                    setShowColumnFilters(true);\n                                }\n                                queueMicrotask(() => {\n                                    var _a, _b;\n                                    (_a = filterInputRefs.current[`${column.id}-0`]) === null || _a === void 0 ? void 0 : _a.focus();\n                                    (_b = filterInputRefs.current[`${column.id}-0`]) === null || _b === void 0 ? void 0 : _b.select();\n                                });\n                                event.stopPropagation();\n                            }, size: \"small\" }, rest, { sx: (theme) => (Object.assign({ height: '16px', ml: '4px', opacity: isFilterActive ? 1 : 0.3, p: '8px', transform: 'scale(0.75)', transition: 'all 150ms ease-in-out', width: '16px' }, parseFromValuesOrFunc(rest === null || rest === void 0 ? void 0 : rest.sx, theme))), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FilterAltIcon, {}) })) }) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Popover__WEBPACK_IMPORTED_MODULE_35___default()), { anchorEl: anchorEl, anchorOrigin: {\n                    horizontal: 'center',\n                    vertical: 'top',\n                }, onClick: (event) => event.stopPropagation(), onClose: (event) => {\n                    //@ts-ignore\n                    event.stopPropagation();\n                    setAnchorEl(null);\n                }, onKeyDown: (event) => event.key === 'Enter' && setAnchorEl(null), open: !!anchorEl, transformOrigin: {\n                    horizontal: 'center',\n                    vertical: 'bottom',\n                }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: { p: '1rem' }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableHeadCellFilterContainer, { header: header, table: table }) }) })] }));\n};\n\nconst MRT_TableHeadCellGrabHandle = (_a) => {\n    var { column, table, tableHeadCellRef } = _a, rest = __rest(_a, [\"column\", \"table\", \"tableHeadCellRef\"]);\n    const { getState, options: { enableColumnOrdering, muiColumnDragHandleProps }, setColumnOrder, setDraggingColumn, setHoveredColumn, } = table;\n    const { columnDef } = column;\n    const { columnOrder, draggingColumn, hoveredColumn } = getState();\n    const iconButtonProps = Object.assign(Object.assign(Object.assign({}, parseFromValuesOrFunc(muiColumnDragHandleProps, { column, table })), parseFromValuesOrFunc(columnDef.muiColumnDragHandleProps, {\n        column,\n        table,\n    })), rest);\n    const handleDragStart = (event) => {\n        var _a;\n        (_a = iconButtonProps === null || iconButtonProps === void 0 ? void 0 : iconButtonProps.onDragStart) === null || _a === void 0 ? void 0 : _a.call(iconButtonProps, event);\n        setDraggingColumn(column);\n        event.dataTransfer.setDragImage(tableHeadCellRef.current, 0, 0);\n    };\n    const handleDragEnd = (event) => {\n        var _a;\n        (_a = iconButtonProps === null || iconButtonProps === void 0 ? void 0 : iconButtonProps.onDragEnd) === null || _a === void 0 ? void 0 : _a.call(iconButtonProps, event);\n        if ((hoveredColumn === null || hoveredColumn === void 0 ? void 0 : hoveredColumn.id) === 'drop-zone') {\n            column.toggleGrouping();\n        }\n        else if (enableColumnOrdering &&\n            hoveredColumn &&\n            (hoveredColumn === null || hoveredColumn === void 0 ? void 0 : hoveredColumn.id) !== (draggingColumn === null || draggingColumn === void 0 ? void 0 : draggingColumn.id)) {\n            setColumnOrder(reorderColumn(column, hoveredColumn, columnOrder));\n        }\n        setDraggingColumn(null);\n        setHoveredColumn(null);\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_GrabHandleButton, { iconButtonProps: iconButtonProps, onDragEnd: handleDragEnd, onDragStart: handleDragStart, table: table }));\n};\n\nconst MRT_TableHeadCellResizeHandle = (_a) => {\n    var _b;\n    var { header, table } = _a, rest = __rest(_a, [\"header\", \"table\"]);\n    const { getState, options: { columnResizeMode }, setColumnSizingInfo, } = table;\n    const { density } = getState();\n    const { column } = header;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { className: \"Mui-TableHeadCell-ResizeHandle-Wrapper\", onDoubleClick: () => {\n            setColumnSizingInfo((old) => (Object.assign(Object.assign({}, old), { isResizingColumn: false })));\n            column.resetSize();\n        }, onMouseDown: header.getResizeHandler(), onTouchStart: header.getResizeHandler(), style: {\n            transform: column.getIsResizing() && columnResizeMode === 'onEnd'\n                ? `translateX(${(_b = getState().columnSizingInfo.deltaOffset) !== null && _b !== void 0 ? _b : 0}px)`\n                : undefined,\n        }, sx: (theme) => ({\n            '&:active > hr': {\n                backgroundColor: theme.palette.info.main,\n                opacity: header.subHeaders.length || columnResizeMode === 'onEnd' ? 1 : 0,\n            },\n            cursor: 'col-resize',\n            mr: density === 'compact'\n                ? '-12px'\n                : density === 'comfortable'\n                    ? '-20px'\n                    : '-28px',\n            position: 'absolute',\n            px: '4px',\n            right: column.columnDef.columnDefType === 'display' ? '4px' : '0',\n        }), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Divider__WEBPACK_IMPORTED_MODULE_36___default()), { className: \"Mui-TableHeadCell-ResizeHandle-Divider\", flexItem: true, orientation: \"vertical\", sx: (theme) => (Object.assign({ borderRadius: '2px', borderWidth: '2px', height: '24px', touchAction: 'none', transition: column.getIsResizing()\n                    ? undefined\n                    : 'all 150ms ease-in-out', userSelect: 'none', zIndex: 4 }, parseFromValuesOrFunc(rest === null || rest === void 0 ? void 0 : rest.sx, theme))) }) }));\n};\n\nconst MRT_TableHeadCellSortLabel = (_a) => {\n    var { header, table } = _a, rest = __rest(_a, [\"header\", \"table\"]);\n    const { getState, options: { icons: { ArrowDownwardIcon, SyncAltIcon }, localization, }, } = table;\n    const { column } = header;\n    const { columnDef } = column;\n    const { isLoading, showSkeletons, sorting } = getState();\n    const isSorted = !!column.getIsSorted();\n    const sortTooltip = isLoading || showSkeletons\n        ? ''\n        : column.getIsSorted()\n            ? column.getIsSorted() === 'desc'\n                ? localization.sortedByColumnDesc.replace('{column}', columnDef.header)\n                : localization.sortedByColumnAsc.replace('{column}', columnDef.header)\n            : column.getNextSortingOrder() === 'desc'\n                ? localization.sortByColumnDesc.replace('{column}', columnDef.header)\n                : localization.sortByColumnAsc.replace('{column}', columnDef.header);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { placement: \"top\", title: sortTooltip, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Badge__WEBPACK_IMPORTED_MODULE_37___default()), { badgeContent: sorting.length > 1 ? column.getSortIndex() + 1 : 0, overlap: \"circular\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_TableSortLabel__WEBPACK_IMPORTED_MODULE_38___default()), Object.assign({ IconComponent: !isSorted\n                    ? (props) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SyncAltIcon, Object.assign({}, props, { style: {\n                            transform: 'rotate(-90deg) scaleX(0.9) translateX(-1px)',\n                        } })))\n                    : ArrowDownwardIcon, active: true, \"aria-label\": sortTooltip, direction: isSorted ? column.getIsSorted() : undefined, onClick: (e) => {\n                    var _a;\n                    e.stopPropagation();\n                    (_a = header.column.getToggleSortingHandler()) === null || _a === void 0 ? void 0 : _a(e);\n                } }, rest, { sx: (theme) => (Object.assign({ '.MuiTableSortLabel-icon': {\n                        color: `${theme.palette.mode === 'dark'\n                            ? theme.palette.text.primary\n                            : theme.palette.text.secondary} !important`,\n                    }, flex: '0 0', opacity: isSorted ? 1 : 0.3, transition: 'all 150ms ease-in-out', width: '3ch' }, parseFromValuesOrFunc(rest === null || rest === void 0 ? void 0 : rest.sx, theme))) })) }) }));\n};\n\nconst MRT_TableHeadCell = (_a) => {\n    var _b, _c, _d, _f, _g, _h;\n    var { header, table } = _a, rest = __rest(_a, [\"header\", \"table\"]);\n    const theme = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_6__.useTheme)();\n    const { getState, options: { columnFilterDisplayMode, columnResizeMode, enableColumnActions, enableColumnDragging, enableColumnOrdering, enableGrouping, enableMultiSort, layoutMode, muiTableHeadCellProps, }, refs: { tableHeadCellRefs }, setHoveredColumn, } = table;\n    const { columnSizingInfo, density, draggingColumn, grouping, hoveredColumn, showColumnFilters, } = getState();\n    const { column } = header;\n    const { columnDef } = column;\n    const { columnDefType } = columnDef;\n    const tableCellProps = Object.assign(Object.assign(Object.assign({}, parseFromValuesOrFunc(muiTableHeadCellProps, { column, table })), parseFromValuesOrFunc(columnDef.muiTableHeadCellProps, {\n        column,\n        table,\n    })), rest);\n    const { draggingBorderColor } = getMRTTheme(table, theme);\n    const showColumnActions = (enableColumnActions || columnDef.enableColumnActions) &&\n        columnDef.enableColumnActions !== false;\n    const showDragHandle = enableColumnDragging !== false &&\n        columnDef.enableColumnDragging !== false &&\n        (enableColumnDragging ||\n            (enableColumnOrdering && columnDef.enableColumnOrdering !== false) ||\n            (enableGrouping &&\n                columnDef.enableGrouping !== false &&\n                !grouping.includes(column.id)));\n    const headerPL = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n        let pl = 0;\n        if (column.getCanSort())\n            pl += 1;\n        if (showColumnActions)\n            pl += 1.75;\n        if (showDragHandle)\n            pl += 1.5;\n        return pl;\n    }, [showColumnActions, showDragHandle]);\n    const draggingBorders = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n        const showResizeBorder = columnSizingInfo.isResizingColumn === column.id &&\n            columnResizeMode === 'onChange' &&\n            !header.subHeaders.length;\n        const borderStyle = showResizeBorder\n            ? `2px solid ${draggingBorderColor} !important`\n            : (draggingColumn === null || draggingColumn === void 0 ? void 0 : draggingColumn.id) === column.id\n                ? `1px dashed ${theme.palette.grey[500]}`\n                : (hoveredColumn === null || hoveredColumn === void 0 ? void 0 : hoveredColumn.id) === column.id\n                    ? `2px dashed ${draggingBorderColor}`\n                    : undefined;\n        if (showResizeBorder) {\n            return { borderRight: borderStyle };\n        }\n        const draggingBorders = borderStyle\n            ? {\n                borderLeft: borderStyle,\n                borderRight: borderStyle,\n                borderTop: borderStyle,\n            }\n            : undefined;\n        return draggingBorders;\n    }, [draggingColumn, hoveredColumn, columnSizingInfo.isResizingColumn]);\n    const handleDragEnter = (_e) => {\n        if (enableGrouping && (hoveredColumn === null || hoveredColumn === void 0 ? void 0 : hoveredColumn.id) === 'drop-zone') {\n            setHoveredColumn(null);\n        }\n        if (enableColumnOrdering && draggingColumn && columnDefType !== 'group') {\n            setHoveredColumn(columnDef.enableColumnOrdering !== false ? column : null);\n        }\n    };\n    const headerElement = (_b = parseFromValuesOrFunc(columnDef.Header, {\n        column,\n        header,\n        table,\n    })) !== null && _b !== void 0 ? _b : columnDef.header;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)((_mui_material_TableCell__WEBPACK_IMPORTED_MODULE_13___default()), Object.assign({ align: columnDefType === 'group' ? 'center' : 'left', colSpan: header.colSpan, onDragEnter: handleDragEnter, ref: (node) => {\n            if (node) {\n                tableHeadCellRefs.current[column.id] = node;\n            }\n        } }, tableCellProps, { sx: (theme) => (Object.assign(Object.assign({ '& :hover': {\n                '.MuiButtonBase-root': {\n                    opacity: 1,\n                },\n            }, flexDirection: (layoutMode === null || layoutMode === void 0 ? void 0 : layoutMode.startsWith('grid')) ? 'column' : undefined, fontWeight: 'bold', overflow: 'visible', p: density === 'compact'\n                ? '0.5rem'\n                : density === 'comfortable'\n                    ? columnDefType === 'display'\n                        ? '0.75rem'\n                        : '1rem'\n                    : columnDefType === 'display'\n                        ? '1rem 1.25rem'\n                        : '1.5rem', pb: columnDefType === 'display'\n                ? 0\n                : showColumnFilters || density === 'compact'\n                    ? '0.4rem'\n                    : '0.6rem', pt: columnDefType === 'group' || density === 'compact'\n                ? '0.25rem'\n                : density === 'comfortable'\n                    ? '.75rem'\n                    : '1.25rem', userSelect: enableMultiSort && column.getCanSort() ? 'none' : undefined, verticalAlign: 'top', zIndex: column.getIsResizing() || (draggingColumn === null || draggingColumn === void 0 ? void 0 : draggingColumn.id) === column.id\n                ? 3\n                : column.getIsPinned() && columnDefType !== 'group'\n                    ? 2\n                    : 1 }, getCommonMRTCellStyles({\n            column,\n            header,\n            table,\n            tableCellProps,\n            theme,\n        })), draggingBorders)), children: [header.isPlaceholder\n                ? null\n                : (_c = tableCellProps.children) !== null && _c !== void 0 ? _c : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { className: \"Mui-TableHeadCell-Content\", sx: {\n                        alignItems: 'center',\n                        display: 'flex',\n                        flexDirection: (tableCellProps === null || tableCellProps === void 0 ? void 0 : tableCellProps.align) === 'right' ? 'row-reverse' : 'row',\n                        justifyContent: columnDefType === 'group' ||\n                            (tableCellProps === null || tableCellProps === void 0 ? void 0 : tableCellProps.align) === 'center'\n                            ? 'center'\n                            : column.getCanResize()\n                                ? 'space-between'\n                                : 'flex-start',\n                        position: 'relative',\n                        width: '100%',\n                    }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { className: \"Mui-TableHeadCell-Content-Labels\", onClick: column.getToggleSortingHandler(), sx: {\n                                alignItems: 'center',\n                                cursor: column.getCanSort() && columnDefType !== 'group'\n                                    ? 'pointer'\n                                    : undefined,\n                                display: 'flex',\n                                flexDirection: (tableCellProps === null || tableCellProps === void 0 ? void 0 : tableCellProps.align) === 'right' ? 'row-reverse' : 'row',\n                                overflow: columnDefType === 'data' ? 'hidden' : undefined,\n                                pl: (tableCellProps === null || tableCellProps === void 0 ? void 0 : tableCellProps.align) === 'center'\n                                    ? `${headerPL}rem`\n                                    : undefined,\n                            }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { className: \"Mui-TableHeadCell-Content-Wrapper\", sx: {\n                                        '&:hover': {\n                                            textOverflow: 'clip',\n                                        },\n                                        minWidth: `${Math.min((_f = (_d = columnDef.header) === null || _d === void 0 ? void 0 : _d.length) !== null && _f !== void 0 ? _f : 0, 4)}ch`,\n                                        overflow: columnDefType === 'data' ? 'hidden' : undefined,\n                                        textOverflow: 'ellipsis',\n                                        whiteSpace: ((_h = (_g = columnDef.header) === null || _g === void 0 ? void 0 : _g.length) !== null && _h !== void 0 ? _h : 0) < 20\n                                            ? 'nowrap'\n                                            : 'normal',\n                                    }, title: columnDefType === 'data' ? columnDef.header : undefined, children: headerElement }), column.getCanFilter() && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableHeadCellFilterLabel, { header: header, table: table })), column.getCanSort() && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableHeadCellSortLabel, { header: header, table: table }))] }), columnDefType !== 'group' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { className: \"Mui-TableHeadCell-Content-Actions\", sx: { whiteSpace: 'nowrap' }, children: [showDragHandle && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableHeadCellGrabHandle, { column: column, table: table, tableHeadCellRef: {\n                                        current: tableHeadCellRefs.current[column.id],\n                                    } })), showColumnActions && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableHeadCellColumnActionsButton, { header: header, table: table }))] })), column.getCanResize() && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableHeadCellResizeHandle, { header: header, table: table }))] })), columnFilterDisplayMode === 'subheader' && column.getCanFilter() && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableHeadCellFilterContainer, { header: header, table: table }))] })));\n};\n\nconst MRT_TableHeadRow = (_a) => {\n    var { headerGroup, table, virtualColumns, virtualPaddingLeft, virtualPaddingRight } = _a, rest = __rest(_a, [\"headerGroup\", \"table\", \"virtualColumns\", \"virtualPaddingLeft\", \"virtualPaddingRight\"]);\n    const { options: { layoutMode, muiTableHeadRowProps }, } = table;\n    const tableRowProps = Object.assign(Object.assign({}, parseFromValuesOrFunc(muiTableHeadRowProps, {\n        headerGroup,\n        table,\n    })), { rest });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)((_mui_material_TableRow__WEBPACK_IMPORTED_MODULE_15___default()), Object.assign({}, tableRowProps, { sx: (theme) => (Object.assign({ backgroundColor: getMRTTheme(table, theme).baseBackgroundColor, boxShadow: `4px 0 8px ${(0,_mui_material__WEBPACK_IMPORTED_MODULE_39__.alpha)(theme.palette.common.black, 0.1)}`, display: (layoutMode === null || layoutMode === void 0 ? void 0 : layoutMode.startsWith('grid')) ? 'flex' : undefined, top: 0 }, parseFromValuesOrFunc(tableRowProps === null || tableRowProps === void 0 ? void 0 : tableRowProps.sx, theme))), children: [virtualPaddingLeft ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"th\", { style: { display: 'flex', width: virtualPaddingLeft } })) : null, (virtualColumns !== null && virtualColumns !== void 0 ? virtualColumns : headerGroup.headers).map((headerOrVirtualHeader) => {\n                const header = virtualColumns\n                    ? headerGroup.headers[headerOrVirtualHeader.index]\n                    : headerOrVirtualHeader;\n                return header ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableHeadCell, { header: header, table: table }, header.id)) : null;\n            }), virtualPaddingRight ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"th\", { style: { display: 'flex', width: virtualPaddingRight } })) : null] })));\n};\n\nconst MRT_LinearProgressBar = (_a) => {\n    var { isTopToolbar, table } = _a, rest = __rest(_a, [\"isTopToolbar\", \"table\"]);\n    const { getState, options: { muiLinearProgressProps }, } = table;\n    const { isSaving, showProgressBars } = getState();\n    const linearProgressProps = Object.assign(Object.assign({}, parseFromValuesOrFunc(muiLinearProgressProps, {\n        isTopToolbar,\n        table,\n    })), rest);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Collapse__WEBPACK_IMPORTED_MODULE_16___default()), { in: showProgressBars !== false && (showProgressBars || isSaving), mountOnEnter: true, sx: {\n            bottom: isTopToolbar ? 0 : undefined,\n            position: 'absolute',\n            top: !isTopToolbar ? 0 : undefined,\n            width: '100%',\n        }, unmountOnExit: true, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_LinearProgress__WEBPACK_IMPORTED_MODULE_40___default()), Object.assign({ \"aria-busy\": \"true\", \"aria-label\": \"Loading\", sx: { position: 'relative' } }, linearProgressProps)) }));\n};\n\nconst defaultRowsPerPage = [5, 10, 15, 20, 25, 30, 50, 100];\nconst MRT_TablePagination = (_a) => {\n    var { position = 'bottom', table } = _a, rest = __rest(_a, [\"position\", \"table\"]);\n    const { getPrePaginationRowModel, getState, options: { enableToolbarInternalActions, icons: { ChevronLeftIcon, ChevronRightIcon, FirstPageIcon, LastPageIcon }, localization, muiPaginationProps, paginationDisplayMode, rowCount, }, setPageIndex, setPageSize, } = table;\n    const { pagination: { pageIndex = 0, pageSize = 10 }, showGlobalFilter, } = getState();\n    const paginationProps = Object.assign(Object.assign({}, parseFromValuesOrFunc(muiPaginationProps, {\n        table,\n    })), rest);\n    const totalRowCount = rowCount !== null && rowCount !== void 0 ? rowCount : getPrePaginationRowModel().rows.length;\n    const numberOfPages = Math.ceil(totalRowCount / pageSize);\n    const showFirstLastPageButtons = numberOfPages > 2;\n    const firstRowIndex = pageIndex * pageSize;\n    const lastRowIndex = Math.min(pageIndex * pageSize + pageSize, totalRowCount);\n    const _b = paginationProps !== null && paginationProps !== void 0 ? paginationProps : {}, { rowsPerPageOptions = defaultRowsPerPage, showFirstButton = showFirstLastPageButtons, showLastButton = showFirstLastPageButtons, showRowsPerPage = true } = _b, _rest = __rest(_b, [\"rowsPerPageOptions\", \"showFirstButton\", \"showLastButton\", \"showRowsPerPage\"]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: {\n            alignItems: 'center',\n            display: 'flex',\n            flexWrap: 'wrap',\n            gap: '8px',\n            justifyContent: { md: 'space-between', sm: 'center' },\n            justifySelf: 'flex-end',\n            mt: position === 'top' &&\n                enableToolbarInternalActions &&\n                !showGlobalFilter\n                ? '3rem'\n                : undefined,\n            position: 'relative',\n            px: '8px',\n            py: '12px',\n            zIndex: 2,\n        }, children: [showRowsPerPage && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: { alignItems: 'center', display: 'flex', gap: '8px' }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_InputLabel__WEBPACK_IMPORTED_MODULE_41___default()), { htmlFor: \"mrt-rows-per-page\", sx: { mb: 0 }, children: localization.rowsPerPage }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Select__WEBPACK_IMPORTED_MODULE_42___default()), { disableUnderline: true, id: \"mrt-rows-per-page\", inputProps: { 'aria-label': localization.rowsPerPage }, label: localization.rowsPerPage, onChange: (event) => setPageSize(+event.target.value), sx: { mb: 0 }, value: pageSize, variant: \"standard\", children: rowsPerPageOptions.map((value) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_12___default()), { sx: { m: 0 }, value: value, children: value }, value))) })] })), paginationDisplayMode === 'pages' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Pagination__WEBPACK_IMPORTED_MODULE_43___default()), Object.assign({ count: numberOfPages, onChange: (_e, newPageIndex) => setPageIndex(newPageIndex - 1), page: pageIndex + 1, renderItem: (item) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_PaginationItem__WEBPACK_IMPORTED_MODULE_44___default()), Object.assign({ slots: {\n                        first: FirstPageIcon,\n                        last: LastPageIcon,\n                        next: ChevronRightIcon,\n                        previous: ChevronLeftIcon,\n                    } }, item))), showFirstButton: showFirstButton, showLastButton: showLastButton }, _rest))) : paginationDisplayMode === 'default' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Typography__WEBPACK_IMPORTED_MODULE_20___default()), { align: \"center\", sx: { mb: 0, minWidth: '8ch', mx: '4px' }, variant: \"body2\", children: `${lastRowIndex === 0 ? 0 : (firstRowIndex + 1).toLocaleString()}-${lastRowIndex.toLocaleString()} ${localization.of} ${totalRowCount.toLocaleString()}` }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { gap: \"xs\", children: [showFirstButton && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), { \"aria-label\": localization.goToFirstPage, disabled: pageIndex <= 0, onClick: () => setPageIndex(0), size: \"small\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FirstPageIcon, {}) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), { \"aria-label\": localization.goToPreviousPage, disabled: pageIndex <= 0, onClick: () => setPageIndex(pageIndex - 1), size: \"small\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ChevronLeftIcon, {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), { \"aria-label\": localization.goToNextPage, disabled: lastRowIndex >= totalRowCount, onClick: () => setPageIndex(pageIndex + 1), size: \"small\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ChevronRightIcon, {}) }), showLastButton && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), { \"aria-label\": localization.goToLastPage, disabled: lastRowIndex >= totalRowCount, onClick: () => setPageIndex(numberOfPages - 1), size: \"small\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LastPageIcon, {}) }))] })] })) : null] }));\n};\n\nconst MRT_GlobalFilterTextField = (_a) => {\n    var _b;\n    var { table } = _a, rest = __rest(_a, [\"table\"]);\n    const { getState, options: { enableGlobalFilterModes, icons: { CloseIcon, SearchIcon }, localization, manualFiltering, muiSearchTextFieldProps, }, refs: { searchInputRef }, setGlobalFilter, } = table;\n    const { globalFilter, showGlobalFilter } = getState();\n    const textFieldProps = Object.assign(Object.assign({}, parseFromValuesOrFunc(muiSearchTextFieldProps, {\n        table,\n    })), rest);\n    const isMounted = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const [anchorEl, setAnchorEl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [searchValue, setSearchValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(globalFilter !== null && globalFilter !== void 0 ? globalFilter : '');\n    const handleChangeDebounced = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((0,_mui_material_utils__WEBPACK_IMPORTED_MODULE_26__.debounce)((event) => {\n        var _a;\n        setGlobalFilter((_a = event.target.value) !== null && _a !== void 0 ? _a : undefined);\n    }, manualFiltering ? 500 : 250), []);\n    const handleChange = (event) => {\n        setSearchValue(event.target.value);\n        handleChangeDebounced(event);\n    };\n    const handleGlobalFilterMenuOpen = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n    const handleClear = () => {\n        setSearchValue('');\n        setGlobalFilter(undefined);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        if (isMounted.current) {\n            if (globalFilter === undefined) {\n                handleClear();\n            }\n            else {\n                setSearchValue(globalFilter);\n            }\n        }\n        isMounted.current = true;\n    }, [globalFilter]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)((_mui_material_Collapse__WEBPACK_IMPORTED_MODULE_16___default()), { in: showGlobalFilter, mountOnEnter: true, orientation: \"horizontal\", unmountOnExit: true, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_TextField__WEBPACK_IMPORTED_MODULE_11___default()), Object.assign({ InputProps: Object.assign(Object.assign({ endAdornment: ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_InputAdornment__WEBPACK_IMPORTED_MODULE_27___default()), { position: \"end\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { title: (_b = localization.clearSearch) !== null && _b !== void 0 ? _b : '', children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), { \"aria-label\": localization.clearSearch, disabled: !(searchValue === null || searchValue === void 0 ? void 0 : searchValue.length), onClick: handleClear, size: \"small\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CloseIcon, {}) }) }) }) })), startAdornment: enableGlobalFilterModes ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_InputAdornment__WEBPACK_IMPORTED_MODULE_27___default()), { position: \"start\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { title: localization.changeSearchMode, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), { \"aria-label\": localization.changeSearchMode, onClick: handleGlobalFilterMenuOpen, size: \"small\", sx: { height: '1.75rem', width: '1.75rem' }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SearchIcon, {}) }) }) })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SearchIcon, { style: { marginRight: '4px' } })) }, textFieldProps.InputProps), { sx: (theme) => {\n                        var _a;\n                        return (Object.assign({ mb: 0 }, parseFromValuesOrFunc((_a = textFieldProps === null || textFieldProps === void 0 ? void 0 : textFieldProps.InputProps) === null || _a === void 0 ? void 0 : _a.sx, theme)));\n                    } }), inputProps: Object.assign({ autoComplete: 'new-password' }, textFieldProps.inputProps), onChange: handleChange, placeholder: localization.search, size: \"small\", value: searchValue !== null && searchValue !== void 0 ? searchValue : '', variant: \"outlined\" }, textFieldProps, { inputRef: (inputRef) => {\n                    searchInputRef.current = inputRef;\n                    if (textFieldProps === null || textFieldProps === void 0 ? void 0 : textFieldProps.inputRef) {\n                        textFieldProps.inputRef = inputRef;\n                    }\n                } })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_FilterOptionMenu, { anchorEl: anchorEl, onSelect: handleClear, setAnchorEl: setAnchorEl, table: table })] }));\n};\n\nconst MRT_SelectCheckbox = (_a) => {\n    var _b;\n    var { row, selectAll, table } = _a, rest = __rest(_a, [\"row\", \"selectAll\", \"table\"]);\n    const { getState, options: { enableMultiRowSelection, enableRowPinning, localization, muiSelectAllCheckboxProps, muiSelectCheckboxProps, rowPinningDisplayMode, selectAllMode, }, } = table;\n    const { density, isLoading } = getState();\n    const checkboxProps = Object.assign(Object.assign({}, (!row\n        ? parseFromValuesOrFunc(muiSelectAllCheckboxProps, { table })\n        : parseFromValuesOrFunc(muiSelectCheckboxProps, { row, table }))), rest);\n    const allRowsSelected = selectAll\n        ? selectAllMode === 'page'\n            ? table.getIsAllPageRowsSelected()\n            : table.getIsAllRowsSelected()\n        : undefined;\n    const commonProps = Object.assign(Object.assign({ checked: selectAll ? allRowsSelected : row === null || row === void 0 ? void 0 : row.getIsSelected(), disabled: isLoading || (row && !row.getCanSelect()), inputProps: {\n            'aria-label': selectAll\n                ? localization.toggleSelectAll\n                : localization.toggleSelectRow,\n        }, onChange: (event) => {\n            event.stopPropagation();\n            row\n                ? row.getToggleSelectedHandler()(event)\n                : selectAllMode === 'all'\n                    ? table.getToggleAllRowsSelectedHandler()(event)\n                    : table.getToggleAllPageRowsSelectedHandler()(event);\n            if (enableRowPinning && (rowPinningDisplayMode === null || rowPinningDisplayMode === void 0 ? void 0 : rowPinningDisplayMode.includes('select'))) {\n                if (row) {\n                    row.pin(!row.getIsPinned() && event.target.checked\n                        ? (rowPinningDisplayMode === null || rowPinningDisplayMode === void 0 ? void 0 : rowPinningDisplayMode.includes('bottom'))\n                            ? 'bottom'\n                            : 'top'\n                        : false);\n                }\n                else {\n                    table.setRowPinning({ bottom: [], top: [] });\n                }\n            }\n        }, size: (density === 'compact' ? 'small' : 'medium') }, checkboxProps), { onClick: (e) => {\n            var _a;\n            e.stopPropagation();\n            (_a = checkboxProps === null || checkboxProps === void 0 ? void 0 : checkboxProps.onClick) === null || _a === void 0 ? void 0 : _a.call(checkboxProps, e);\n        }, sx: (theme) => (Object.assign({ height: density === 'compact' ? '1.75rem' : '2.5rem', m: density !== 'compact' ? '-0.4rem' : undefined, width: density === 'compact' ? '1.75rem' : '2.5rem', zIndex: 0 }, parseFromValuesOrFunc(checkboxProps === null || checkboxProps === void 0 ? void 0 : checkboxProps.sx, theme))), title: undefined });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { enterDelay: 1000, enterNextDelay: 1000, title: (_b = checkboxProps === null || checkboxProps === void 0 ? void 0 : checkboxProps.title) !== null && _b !== void 0 ? _b : (selectAll\n            ? localization.toggleSelectAll\n            : localization.toggleSelectRow), children: enableMultiRowSelection === false ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Radio__WEBPACK_IMPORTED_MODULE_45___default()), Object.assign({}, commonProps))) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Checkbox__WEBPACK_IMPORTED_MODULE_25___default()), Object.assign({ indeterminate: selectAll\n                ? table.getIsSomeRowsSelected() && !allRowsSelected\n                : row === null || row === void 0 ? void 0 : row.getIsSomeSelected() }, commonProps))) }));\n};\n\nconst MRT_ToolbarAlertBanner = (_a) => {\n    var _b, _c, _d;\n    var { stackAlertBanner, table } = _a, rest = __rest(_a, [\"stackAlertBanner\", \"table\"]);\n    const { getPrePaginationRowModel, getSelectedRowModel, getState, options: { enableRowSelection, enableSelectAll, localization, muiToolbarAlertBannerChipProps, muiToolbarAlertBannerProps, positionToolbarAlertBanner, renderToolbarAlertBannerContent, rowCount, }, refs: { tablePaperRef }, } = table;\n    const { density, grouping, showAlertBanner } = getState();\n    const alertProps = Object.assign(Object.assign({}, parseFromValuesOrFunc(muiToolbarAlertBannerProps, {\n        table,\n    })), rest);\n    const chipProps = parseFromValuesOrFunc(muiToolbarAlertBannerChipProps, {\n        table,\n    });\n    const selectedAlert = getSelectedRowModel().rows.length > 0\n        ? (_c = (_b = localization.selectedCountOfRowCountRowsSelected) === null || _b === void 0 ? void 0 : _b.replace('{selectedCount}', getSelectedRowModel().rows.length.toString())) === null || _c === void 0 ? void 0 : _c.replace('{rowCount}', (rowCount !== null && rowCount !== void 0 ? rowCount : getPrePaginationRowModel().rows.length).toString())\n        : null;\n    const groupedAlert = grouping.length > 0 ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"span\", { children: [localization.groupedBy, ' ', grouping.map((columnId, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: [index > 0 ? localization.thenBy : '', (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Chip__WEBPACK_IMPORTED_MODULE_28___default()), Object.assign({ label: table.getColumn(columnId).columnDef.header, onDelete: () => table.getColumn(columnId).toggleGrouping() }, chipProps))] }, `${index}-${columnId}`)))] })) : null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Collapse__WEBPACK_IMPORTED_MODULE_16___default()), { in: showAlertBanner || !!selectedAlert || !!groupedAlert, timeout: stackAlertBanner ? 200 : 0, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Alert__WEBPACK_IMPORTED_MODULE_46___default()), Object.assign({ color: \"info\", icon: false }, alertProps, { sx: (theme) => {\n                var _a, _b;\n                return (Object.assign({ '& .MuiAlert-message': {\n                        maxWidth: `calc(${(_b = (_a = tablePaperRef.current) === null || _a === void 0 ? void 0 : _a.clientWidth) !== null && _b !== void 0 ? _b : 360}px - 1rem)`,\n                        width: '100%',\n                    }, borderRadius: 0, fontSize: '1rem', left: 0, mb: stackAlertBanner\n                        ? 0\n                        : positionToolbarAlertBanner === 'bottom'\n                            ? '-1rem'\n                            : undefined, p: 0, position: 'relative', right: 0, top: 0, width: '100%', zIndex: 2 }, parseFromValuesOrFunc(alertProps === null || alertProps === void 0 ? void 0 : alertProps.sx, theme)));\n            }, children: (_d = renderToolbarAlertBannerContent === null || renderToolbarAlertBannerContent === void 0 ? void 0 : renderToolbarAlertBannerContent({\n                groupedAlert,\n                selectedAlert,\n                table,\n            })) !== null && _d !== void 0 ? _d : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(alertProps === null || alertProps === void 0 ? void 0 : alertProps.title) && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_AlertTitle__WEBPACK_IMPORTED_MODULE_47___default()), { children: alertProps.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Stack__WEBPACK_IMPORTED_MODULE_31__[\"default\"], { sx: {\n                            p: positionToolbarAlertBanner !== 'head-overlay'\n                                ? '0.5rem 1rem'\n                                : density === 'spacious'\n                                    ? '0.75rem 1.25rem'\n                                    : density === 'comfortable'\n                                        ? '0.5rem 0.75rem'\n                                        : '0.25rem 0.5rem',\n                        }, children: [alertProps === null || alertProps === void 0 ? void 0 : alertProps.children, (alertProps === null || alertProps === void 0 ? void 0 : alertProps.children) && (selectedAlert || groupedAlert) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"br\", {})), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: { display: 'flex' }, children: [enableRowSelection &&\n                                        enableSelectAll &&\n                                        positionToolbarAlertBanner === 'head-overlay' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_SelectCheckbox, { selectAll: true, table: table })), ' ', selectedAlert] }), selectedAlert && groupedAlert && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"br\", {}), groupedAlert] })] })) })) }));\n};\n\nconst MRT_ToolbarDropZone = (_a) => {\n    var _b, _c;\n    var { table } = _a, rest = __rest(_a, [\"table\"]);\n    const { getState, options: { enableGrouping, localization }, setHoveredColumn, setShowToolbarDropZone, } = table;\n    const { draggingColumn, grouping, hoveredColumn, showToolbarDropZone } = getState();\n    const handleDragEnter = (_event) => {\n        setHoveredColumn({ id: 'drop-zone' });\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        var _a;\n        if (((_a = table.options.state) === null || _a === void 0 ? void 0 : _a.showToolbarDropZone) !== undefined) {\n            setShowToolbarDropZone(!!enableGrouping &&\n                !!draggingColumn &&\n                draggingColumn.columnDef.enableGrouping !== false &&\n                !grouping.includes(draggingColumn.id));\n        }\n    }, [enableGrouping, draggingColumn, grouping]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Fade__WEBPACK_IMPORTED_MODULE_48__[\"default\"], { in: showToolbarDropZone, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], Object.assign({ className: \"Mui-ToolbarDropZone\", onDragEnter: handleDragEnter }, rest, { sx: (theme) => (Object.assign({ alignItems: 'center', backdropFilter: 'blur(4px)', backgroundColor: (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_6__.alpha)(theme.palette.info.main, (hoveredColumn === null || hoveredColumn === void 0 ? void 0 : hoveredColumn.id) === 'drop-zone' ? 0.2 : 0.1), border: `dashed ${theme.palette.info.main} 2px`, boxSizing: 'border-box', display: 'flex', height: '100%', justifyContent: 'center', position: 'absolute', width: '100%', zIndex: 4 }, parseFromValuesOrFunc(rest === null || rest === void 0 ? void 0 : rest.sx, theme))), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Typography__WEBPACK_IMPORTED_MODULE_20___default()), { fontStyle: \"italic\", children: localization.dropToGroupBy.replace('{column}', (_c = (_b = draggingColumn === null || draggingColumn === void 0 ? void 0 : draggingColumn.columnDef) === null || _b === void 0 ? void 0 : _b.header) !== null && _c !== void 0 ? _c : '') }) })) }));\n};\n\nconst MRT_BottomToolbar = (_a) => {\n    var { table } = _a, rest = __rest(_a, [\"table\"]);\n    const { getState, options: { enablePagination, muiBottomToolbarProps, positionPagination, positionToolbarAlertBanner, positionToolbarDropZone, renderBottomToolbarCustomActions, }, refs: { bottomToolbarRef }, } = table;\n    const { isFullScreen } = getState();\n    const isMobile = (0,_mui_material_useMediaQuery__WEBPACK_IMPORTED_MODULE_49__[\"default\"])('(max-width:720px)');\n    const toolbarProps = Object.assign(Object.assign({}, parseFromValuesOrFunc(muiBottomToolbarProps, { table })), rest);\n    const stackAlertBanner = isMobile || !!renderBottomToolbarCustomActions;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], Object.assign({}, toolbarProps, { ref: (node) => {\n            if (node) {\n                bottomToolbarRef.current = node;\n                if (toolbarProps === null || toolbarProps === void 0 ? void 0 : toolbarProps.ref) {\n                    // @ts-ignore\n                    toolbarProps.ref.current = node;\n                }\n            }\n        }, sx: (theme) => (Object.assign(Object.assign(Object.assign({}, getCommonToolbarStyles({ table, theme })), { bottom: isFullScreen ? '0' : undefined, boxShadow: `0 1px 2px -1px ${(0,_mui_material__WEBPACK_IMPORTED_MODULE_39__.alpha)(theme.palette.grey[700], 0.5)} inset`, left: 0, position: isFullScreen ? 'fixed' : 'relative', right: 0 }), parseFromValuesOrFunc(toolbarProps === null || toolbarProps === void 0 ? void 0 : toolbarProps.sx, theme))), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_LinearProgressBar, { isTopToolbar: false, table: table }), positionToolbarAlertBanner === 'bottom' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_ToolbarAlertBanner, { stackAlertBanner: stackAlertBanner, table: table })), ['both', 'bottom'].includes(positionToolbarDropZone !== null && positionToolbarDropZone !== void 0 ? positionToolbarDropZone : '') && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_ToolbarDropZone, { table: table })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: {\n                    alignItems: 'center',\n                    boxSizing: 'border-box',\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    p: '0.5rem',\n                    width: '100%',\n                }, children: [renderBottomToolbarCustomActions ? (renderBottomToolbarCustomActions({ table })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {})), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: {\n                            display: 'flex',\n                            justifyContent: 'flex-end',\n                            position: stackAlertBanner ? 'relative' : 'absolute',\n                            right: 0,\n                            top: 0,\n                        }, children: enablePagination &&\n                            ['both', 'bottom'].includes(positionPagination !== null && positionPagination !== void 0 ? positionPagination : '') && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TablePagination, { position: \"bottom\", table: table })) })] })] })));\n};\n\nconst MRT_ColumnPinningButtons = (_a) => {\n    var { column, table } = _a, rest = __rest(_a, [\"column\", \"table\"]);\n    const { options: { icons: { PushPinIcon }, localization, }, } = table;\n    const handlePinColumn = (pinDirection) => {\n        column.pin(pinDirection);\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], Object.assign({}, rest, { sx: (theme) => (Object.assign({ minWidth: '70px', textAlign: 'center' }, parseFromValuesOrFunc(rest === null || rest === void 0 ? void 0 : rest.sx, theme))), children: column.getIsPinned() ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { title: localization.unpin, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), { onClick: () => handlePinColumn(false), size: \"small\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PushPinIcon, {}) }) })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { title: localization.pinToLeft, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), { onClick: () => handlePinColumn('left'), size: \"small\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PushPinIcon, { style: {\n                                transform: 'rotate(90deg)',\n                            } }) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { title: localization.pinToRight, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), { onClick: () => handlePinColumn('right'), size: \"small\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PushPinIcon, { style: {\n                                transform: 'rotate(-90deg)',\n                            } }) }) })] })) })));\n};\n\nconst MRT_ShowHideColumnsMenuItems = (_a) => {\n    var _b;\n    var { allColumns, column, hoveredColumn, setHoveredColumn, table } = _a, rest = __rest(_a, [\"allColumns\", \"column\", \"hoveredColumn\", \"setHoveredColumn\", \"table\"]);\n    const { getState, options: { enableColumnOrdering, enableColumnPinning, enableHiding, localization, }, setColumnOrder, } = table;\n    const { columnOrder } = getState();\n    const { columnDef } = column;\n    const { columnDefType } = columnDef;\n    const switchChecked = (columnDefType !== 'group' && column.getIsVisible()) ||\n        (columnDefType === 'group' &&\n            column.getLeafColumns().some((col) => col.getIsVisible()));\n    const handleToggleColumnHidden = (column) => {\n        var _a, _b;\n        if (columnDefType === 'group') {\n            (_b = (_a = column === null || column === void 0 ? void 0 : column.columns) === null || _a === void 0 ? void 0 : _a.forEach) === null || _b === void 0 ? void 0 : _b.call(_a, (childColumn) => {\n                childColumn.toggleVisibility(!switchChecked);\n            });\n        }\n        else {\n            column.toggleVisibility();\n        }\n    };\n    const menuItemRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [isDragging, setIsDragging] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const handleDragStart = (e) => {\n        setIsDragging(true);\n        e.dataTransfer.setDragImage(menuItemRef.current, 0, 0);\n    };\n    const handleDragEnd = (_e) => {\n        setIsDragging(false);\n        setHoveredColumn(null);\n        if (hoveredColumn) {\n            setColumnOrder(reorderColumn(column, hoveredColumn, columnOrder));\n        }\n    };\n    const handleDragEnter = (_e) => {\n        if (!isDragging && columnDef.enableColumnOrdering !== false) {\n            setHoveredColumn(column);\n        }\n    };\n    if (!columnDef.header)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_12___default()), Object.assign({ disableRipple: true, onDragEnter: handleDragEnter, ref: menuItemRef }, rest, { sx: (theme) => (Object.assign({ alignItems: 'center', justifyContent: 'flex-start', my: 0, opacity: isDragging ? 0.5 : 1, outline: isDragging\n                        ? `2px dashed ${theme.palette.grey[500]}`\n                        : (hoveredColumn === null || hoveredColumn === void 0 ? void 0 : hoveredColumn.id) === column.id\n                            ? `2px dashed ${getMRTTheme(table, theme).draggingBorderColor}`\n                            : 'none', outlineOffset: '-2px', pl: `${(column.depth + 0.5) * 2}rem`, py: '6px' }, parseFromValuesOrFunc(rest === null || rest === void 0 ? void 0 : rest.sx, theme))), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: {\n                        display: 'flex',\n                        flexWrap: 'nowrap',\n                        gap: '8px',\n                    }, children: [columnDefType !== 'group' &&\n                            enableColumnOrdering &&\n                            !allColumns.some((col) => col.columnDef.columnDefType === 'group') &&\n                            (columnDef.enableColumnOrdering !== false ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_GrabHandleButton, { onDragEnd: handleDragEnd, onDragStart: handleDragStart, table: table })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: { width: '28px' } }))), enableColumnPinning &&\n                            (column.getCanPin() ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_ColumnPinningButtons, { column: column, table: table })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: { width: '70px' } }))), enableHiding ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_FormControlLabel__WEBPACK_IMPORTED_MODULE_24___default()), { checked: switchChecked, componentsProps: {\n                                typography: {\n                                    sx: {\n                                        mb: 0,\n                                        opacity: columnDefType !== 'display' ? 1 : 0.5,\n                                    },\n                                },\n                            }, control: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { enterDelay: 1000, enterNextDelay: 1000, title: localization.toggleVisibility, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Switch__WEBPACK_IMPORTED_MODULE_50___default()), {}) }), disabled: !column.getCanHide(), label: columnDef.header, onChange: () => handleToggleColumnHidden(column) })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Typography__WEBPACK_IMPORTED_MODULE_20___default()), { sx: { alignSelf: 'center' }, children: columnDef.header }))] }) })), (_b = column.columns) === null || _b === void 0 ? void 0 : _b.map((c, i) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_ShowHideColumnsMenuItems, { allColumns: allColumns, column: c, hoveredColumn: hoveredColumn, setHoveredColumn: setHoveredColumn, table: table }, `${i}-${c.id}`)))] }));\n};\n\nconst MRT_ShowHideColumnsMenu = (_a) => {\n    var { anchorEl, setAnchorEl, table } = _a, rest = __rest(_a, [\"anchorEl\", \"setAnchorEl\", \"table\"]);\n    const { getAllColumns, getAllLeafColumns, getCenterLeafColumns, getIsAllColumnsVisible, getIsSomeColumnsPinned, getIsSomeColumnsVisible, getLeftLeafColumns, getRightLeafColumns, getState, options: { enableColumnOrdering, enableColumnPinning, enableHiding, localization, }, toggleAllColumnsVisible, } = table;\n    const { columnOrder, columnPinning, density } = getState();\n    const hideAllColumns = () => {\n        getAllLeafColumns()\n            .filter((col) => col.columnDef.enableHiding !== false)\n            .forEach((col) => col.toggleVisibility(false));\n    };\n    const allColumns = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n        const columns = getAllColumns();\n        if (columnOrder.length > 0 &&\n            !columns.some((col) => col.columnDef.columnDefType === 'group')) {\n            return [\n                ...getLeftLeafColumns(),\n                ...Array.from(new Set(columnOrder)).map((colId) => getCenterLeafColumns().find((col) => (col === null || col === void 0 ? void 0 : col.id) === colId)),\n                ...getRightLeafColumns(),\n            ].filter(Boolean);\n        }\n        return columns;\n    }, [\n        columnOrder,\n        columnPinning,\n        getAllColumns(),\n        getCenterLeafColumns(),\n        getLeftLeafColumns(),\n        getRightLeafColumns(),\n    ]);\n    const [hoveredColumn, setHoveredColumn] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)((_mui_material_Menu__WEBPACK_IMPORTED_MODULE_22___default()), Object.assign({ MenuListProps: {\n            dense: density === 'compact',\n        }, anchorEl: anchorEl, onClose: () => setAnchorEl(null), open: !!anchorEl }, rest, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: {\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    p: '0.5rem',\n                    pt: 0,\n                }, children: [enableHiding && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Button__WEBPACK_IMPORTED_MODULE_10___default()), { disabled: !getIsSomeColumnsVisible(), onClick: hideAllColumns, children: localization.hideAll })), enableColumnOrdering && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Button__WEBPACK_IMPORTED_MODULE_10___default()), { onClick: () => table.setColumnOrder(getDefaultColumnOrderIds(table.options)), children: localization.resetOrder })), enableColumnPinning && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Button__WEBPACK_IMPORTED_MODULE_10___default()), { disabled: !getIsSomeColumnsPinned(), onClick: () => table.resetColumnPinning(true), children: localization.unpinAll })), enableHiding && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Button__WEBPACK_IMPORTED_MODULE_10___default()), { disabled: getIsAllColumnsVisible(), onClick: () => toggleAllColumnsVisible(true), children: localization.showAll }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Divider__WEBPACK_IMPORTED_MODULE_36___default()), {}), allColumns.map((column, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_ShowHideColumnsMenuItems, { allColumns: allColumns, column: column, hoveredColumn: hoveredColumn, setHoveredColumn: setHoveredColumn, table: table }, `${index}-${column.id}`)))] })));\n};\n\nconst MRT_ShowHideColumnsButton = (_a) => {\n    var _b;\n    var { table } = _a, rest = __rest(_a, [\"table\"]);\n    const { options: { icons: { ViewColumnIcon }, localization, }, } = table;\n    const [anchorEl, setAnchorEl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { title: (_b = rest === null || rest === void 0 ? void 0 : rest.title) !== null && _b !== void 0 ? _b : localization.showHideColumns, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), Object.assign({ \"aria-label\": localization.showHideColumns, onClick: handleClick }, rest, { title: undefined, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ViewColumnIcon, {}) })) }), anchorEl && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_ShowHideColumnsMenu, { anchorEl: anchorEl, setAnchorEl: setAnchorEl, table: table }))] }));\n};\n\nconst MRT_ToggleDensePaddingButton = (_a) => {\n    var _b;\n    var { table } = _a, rest = __rest(_a, [\"table\"]);\n    const { getState, options: { icons: { DensityLargeIcon, DensityMediumIcon, DensitySmallIcon }, localization, }, setDensity, } = table;\n    const { density } = getState();\n    const handleToggleDensePadding = () => {\n        const nextDensity = density === 'comfortable'\n            ? 'compact'\n            : density === 'compact'\n                ? 'spacious'\n                : 'comfortable';\n        setDensity(nextDensity);\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { title: (_b = rest === null || rest === void 0 ? void 0 : rest.title) !== null && _b !== void 0 ? _b : localization.toggleDensity, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), Object.assign({ \"aria-label\": localization.toggleDensity, onClick: handleToggleDensePadding }, rest, { title: undefined, children: density === 'compact' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DensitySmallIcon, {})) : density === 'comfortable' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DensityMediumIcon, {})) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DensityLargeIcon, {})) })) }));\n};\n\nconst MRT_ToggleFiltersButton = (_a) => {\n    var _b;\n    var { table } = _a, rest = __rest(_a, [\"table\"]);\n    const { getState, options: { icons: { FilterListIcon, FilterListOffIcon }, localization, }, setShowColumnFilters, } = table;\n    const { showColumnFilters } = getState();\n    const handleToggleShowFilters = () => {\n        setShowColumnFilters(!showColumnFilters);\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { title: (_b = rest === null || rest === void 0 ? void 0 : rest.title) !== null && _b !== void 0 ? _b : localization.showHideFilters, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), Object.assign({ \"aria-label\": localization.showHideFilters, onClick: handleToggleShowFilters }, rest, { title: undefined, children: showColumnFilters ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FilterListOffIcon, {}) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FilterListIcon, {}) })) }));\n};\n\nconst MRT_ToggleFullScreenButton = (_a) => {\n    var _b;\n    var { table } = _a, rest = __rest(_a, [\"table\"]);\n    const { getState, options: { icons: { FullscreenExitIcon, FullscreenIcon }, localization, }, setIsFullScreen, } = table;\n    const { isFullScreen } = getState();\n    const [tooltipOpened, setTooltipOpened] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const handleToggleFullScreen = () => {\n        setTooltipOpened(false);\n        setIsFullScreen(!isFullScreen);\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { open: tooltipOpened, title: (_b = rest === null || rest === void 0 ? void 0 : rest.title) !== null && _b !== void 0 ? _b : localization.toggleFullScreen, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), Object.assign({ \"aria-label\": localization.toggleFullScreen, onClick: handleToggleFullScreen, onMouseEnter: () => setTooltipOpened(true), onMouseLeave: () => setTooltipOpened(false) }, rest, { title: undefined, children: isFullScreen ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FullscreenExitIcon, {}) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FullscreenIcon, {}) })) }));\n};\n\nconst MRT_ToggleGlobalFilterButton = (_a) => {\n    var _b, _c;\n    var { table } = _a, rest = __rest(_a, [\"table\"]);\n    const { getState, options: { icons: { SearchIcon, SearchOffIcon }, localization, }, refs: { searchInputRef }, setShowGlobalFilter, } = table;\n    const { globalFilter, showGlobalFilter } = getState();\n    const handleToggleSearch = () => {\n        setShowGlobalFilter(!showGlobalFilter);\n        queueMicrotask(() => { var _a; return (_a = searchInputRef.current) === null || _a === void 0 ? void 0 : _a.focus(); });\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { title: (_b = rest === null || rest === void 0 ? void 0 : rest.title) !== null && _b !== void 0 ? _b : localization.showHideSearch, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), Object.assign({ \"aria-label\": (_c = rest === null || rest === void 0 ? void 0 : rest.title) !== null && _c !== void 0 ? _c : localization.showHideSearch, disabled: !!globalFilter, onClick: handleToggleSearch }, rest, { title: undefined, children: showGlobalFilter ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SearchOffIcon, {}) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SearchIcon, {}) })) }));\n};\n\nconst MRT_ToolbarInternalButtons = (_a) => {\n    var _b;\n    var { table } = _a, rest = __rest(_a, [\"table\"]);\n    const { options: { columnFilterDisplayMode, enableColumnFilters, enableColumnOrdering, enableColumnPinning, enableDensityToggle, enableFilters, enableFullScreenToggle, enableGlobalFilter, enableHiding, initialState, renderToolbarInternalActions, }, } = table;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], Object.assign({}, rest, { sx: (theme) => (Object.assign({ alignItems: 'center', display: 'flex', zIndex: 3 }, parseFromValuesOrFunc(rest === null || rest === void 0 ? void 0 : rest.sx, theme))), children: (_b = renderToolbarInternalActions === null || renderToolbarInternalActions === void 0 ? void 0 : renderToolbarInternalActions({\n            table,\n        })) !== null && _b !== void 0 ? _b : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [enableFilters &&\n                    enableGlobalFilter &&\n                    !(initialState === null || initialState === void 0 ? void 0 : initialState.showGlobalFilter) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_ToggleGlobalFilterButton, { table: table })), enableFilters &&\n                    enableColumnFilters &&\n                    columnFilterDisplayMode !== 'popover' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_ToggleFiltersButton, { table: table })), (enableHiding || enableColumnOrdering || enableColumnPinning) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_ShowHideColumnsButton, { table: table })), enableDensityToggle && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_ToggleDensePaddingButton, { table: table })), enableFullScreenToggle && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_ToggleFullScreenButton, { table: table }))] })) })));\n};\n\nconst MRT_TopToolbar = ({ table, }) => {\n    var _a;\n    const { getState, options: { enableGlobalFilter, enablePagination, enableToolbarInternalActions, muiTopToolbarProps, positionGlobalFilter, positionPagination, positionToolbarAlertBanner, positionToolbarDropZone, renderTopToolbarCustomActions, }, refs: { topToolbarRef }, } = table;\n    const { isFullScreen, showGlobalFilter } = getState();\n    const isMobile = (0,_mui_material_useMediaQuery__WEBPACK_IMPORTED_MODULE_49__[\"default\"])('(max-width:720px)');\n    const toolbarProps = parseFromValuesOrFunc(muiTopToolbarProps, { table });\n    const stackAlertBanner = isMobile || !!renderTopToolbarCustomActions || showGlobalFilter;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], Object.assign({}, toolbarProps, { ref: (ref) => {\n            topToolbarRef.current = ref;\n            if (toolbarProps === null || toolbarProps === void 0 ? void 0 : toolbarProps.ref) {\n                // @ts-ignore\n                toolbarProps.ref.current = ref;\n            }\n        }, sx: (theme) => (Object.assign(Object.assign(Object.assign({}, getCommonToolbarStyles({ table, theme })), { position: isFullScreen ? 'sticky' : 'relative', top: isFullScreen ? '0' : undefined }), parseFromValuesOrFunc(toolbarProps === null || toolbarProps === void 0 ? void 0 : toolbarProps.sx, theme))), children: [positionToolbarAlertBanner === 'top' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_ToolbarAlertBanner, { stackAlertBanner: stackAlertBanner, table: table })), ['both', 'top'].includes(positionToolbarDropZone !== null && positionToolbarDropZone !== void 0 ? positionToolbarDropZone : '') && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_ToolbarDropZone, { table: table })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: {\n                    alignItems: 'flex-start',\n                    boxSizing: 'border-box',\n                    display: 'flex',\n                    gap: '0.5rem',\n                    justifyContent: 'space-between',\n                    p: '0.5rem',\n                    position: stackAlertBanner ? 'relative' : 'absolute',\n                    right: 0,\n                    top: 0,\n                    width: '100%',\n                }, children: [enableGlobalFilter && positionGlobalFilter === 'left' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_GlobalFilterTextField, { table: table })), (_a = renderTopToolbarCustomActions === null || renderTopToolbarCustomActions === void 0 ? void 0 : renderTopToolbarCustomActions({ table })) !== null && _a !== void 0 ? _a : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", {}), enableToolbarInternalActions ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: {\n                            alignItems: 'center',\n                            display: 'flex',\n                            flexWrap: 'wrap-reverse',\n                            gap: '0.5rem',\n                            justifyContent: 'flex-end',\n                        }, children: [enableGlobalFilter && positionGlobalFilter === 'right' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_GlobalFilterTextField, { table: table })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_ToolbarInternalButtons, { table: table })] })) : (enableGlobalFilter &&\n                        positionGlobalFilter === 'right' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_GlobalFilterTextField, { table: table })))] }), enablePagination &&\n                ['both', 'top'].includes(positionPagination !== null && positionPagination !== void 0 ? positionPagination : '') && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TablePagination, { position: \"top\", table: table })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_LinearProgressBar, { isTopToolbar: true, table: table })] })));\n};\n\nconst MRT_TableHead = (_a) => {\n    var { table, virtualColumns, virtualPaddingLeft, virtualPaddingRight } = _a, rest = __rest(_a, [\"table\", \"virtualColumns\", \"virtualPaddingLeft\", \"virtualPaddingRight\"]);\n    const { getHeaderGroups, getSelectedRowModel, getState, options: { enableStickyHeader, layoutMode, muiTableHeadProps, positionToolbarAlertBanner, }, refs: { tableHeadRef }, } = table;\n    const { isFullScreen, showAlertBanner } = getState();\n    const tableHeadProps = Object.assign(Object.assign({}, parseFromValuesOrFunc(muiTableHeadProps, { table })), rest);\n    const stickyHeader = enableStickyHeader || isFullScreen;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_TableHead__WEBPACK_IMPORTED_MODULE_51___default()), Object.assign({}, tableHeadProps, { ref: (ref) => {\n            tableHeadRef.current = ref;\n            if (tableHeadProps === null || tableHeadProps === void 0 ? void 0 : tableHeadProps.ref) {\n                // @ts-ignore\n                tableHeadProps.ref.current = ref;\n            }\n        }, sx: (theme) => (Object.assign({ display: (layoutMode === null || layoutMode === void 0 ? void 0 : layoutMode.startsWith('grid')) ? 'grid' : undefined, opacity: 0.97, position: stickyHeader ? 'sticky' : 'relative', top: stickyHeader && (layoutMode === null || layoutMode === void 0 ? void 0 : layoutMode.startsWith('grid')) ? 0 : undefined, zIndex: stickyHeader ? 2 : undefined }, parseFromValuesOrFunc(tableHeadProps === null || tableHeadProps === void 0 ? void 0 : tableHeadProps.sx, theme))), children: positionToolbarAlertBanner === 'head-overlay' &&\n            (showAlertBanner || getSelectedRowModel().rows.length > 0) ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"tr\", { style: {\n                display: (layoutMode === null || layoutMode === void 0 ? void 0 : layoutMode.startsWith('grid')) ? 'grid' : undefined,\n            }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"th\", { colSpan: table.getVisibleLeafColumns().length, style: {\n                    display: (layoutMode === null || layoutMode === void 0 ? void 0 : layoutMode.startsWith('grid')) ? 'grid' : undefined,\n                    padding: 0,\n                }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_ToolbarAlertBanner, { table: table }) }) })) : (getHeaderGroups().map((headerGroup) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableHeadRow, { headerGroup: headerGroup, table: table, virtualColumns: virtualColumns, virtualPaddingLeft: virtualPaddingLeft, virtualPaddingRight: virtualPaddingRight }, headerGroup.id)))) })));\n};\n\nconst MRT_Table = (_a) => {\n    var _b, _c, _d, _e;\n    var { table } = _a, rest = __rest(_a, [\"table\"]);\n    const { getFlatHeaders, getState, options: { columnVirtualizerInstanceRef, columnVirtualizerOptions, columns, enableColumnPinning, enableColumnVirtualization, enableStickyHeader, enableTableFooter, enableTableHead, layoutMode, memoMode, muiTableProps, }, refs: { tableContainerRef }, } = table;\n    const { columnPinning, columnSizing, columnSizingInfo, columnVisibility, draggingColumn, isFullScreen, } = getState();\n    const tableProps = Object.assign(Object.assign({}, parseFromValuesOrFunc(muiTableProps, { table })), rest);\n    const columnVirtualizerProps = parseFromValuesOrFunc(columnVirtualizerOptions, { table });\n    const columnSizeVars = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n        var _a;\n        const headers = getFlatHeaders();\n        const colSizes = {};\n        for (let i = 0; i < headers.length; i++) {\n            const header = headers[i];\n            let colSize = header.getSize();\n            if ((_a = header.subHeaders) === null || _a === void 0 ? void 0 : _a.length)\n                colSize = colSize * 1.05 + header.subHeaders.length * 2;\n            colSizes[`--header-${parseCSSVarId(header.id)}-size`] = colSize;\n            colSizes[`--col-${parseCSSVarId(header.column.id)}-size`] = colSize;\n        }\n        return colSizes;\n    }, [columns, columnSizing, columnSizingInfo, columnVisibility]);\n    //get first 16 column widths and average them\n    const averageColumnWidth = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n        var _a, _b, _c, _d;\n        if (!enableColumnVirtualization)\n            return 0;\n        const columnsWidths = (_d = (_c = (_b = (_a = table\n            .getRowModel()\n            .rows[0]) === null || _a === void 0 ? void 0 : _a.getCenterVisibleCells()) === null || _b === void 0 ? void 0 : _b.slice(0, 16)) === null || _c === void 0 ? void 0 : _c.map((cell) => cell.column.getSize() * 1.2)) !== null && _d !== void 0 ? _d : [];\n        return columnsWidths.reduce((a, b) => a + b, 0) / columnsWidths.length;\n    }, [table.getRowModel().rows, columnPinning, columnVisibility]);\n    const [leftPinnedIndexes, rightPinnedIndexes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => enableColumnVirtualization && enableColumnPinning\n        ? [\n            table.getLeftLeafColumns().map((c) => c.getPinnedIndex()),\n            table\n                .getRightLeafColumns()\n                .map((c) => table.getVisibleLeafColumns().length - c.getPinnedIndex() - 1),\n        ]\n        : [[], []], [columnPinning, enableColumnVirtualization, enableColumnPinning]);\n    const draggingColumnIndex = table\n        .getVisibleLeafColumns()\n        .findIndex((c) => c.id === (draggingColumn === null || draggingColumn === void 0 ? void 0 : draggingColumn.id));\n    const columnVirtualizer = enableColumnVirtualization\n        ? (0,_tanstack_react_virtual__WEBPACK_IMPORTED_MODULE_18__.useVirtualizer)(Object.assign({ count: table.getVisibleLeafColumns().length, estimateSize: () => averageColumnWidth, getScrollElement: () => tableContainerRef.current, horizontal: true, overscan: 3, rangeExtractor: (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((range) => {\n                const newIndexs = extraIndexRangeExtractor(range, draggingColumnIndex);\n                return [\n                    ...new Set([\n                        ...leftPinnedIndexes,\n                        ...newIndexs,\n                        ...rightPinnedIndexes,\n                    ]),\n                ];\n            }, [leftPinnedIndexes, rightPinnedIndexes, draggingColumnIndex]) }, columnVirtualizerProps))\n        : undefined;\n    if (columnVirtualizerInstanceRef && columnVirtualizer) {\n        columnVirtualizerInstanceRef.current = columnVirtualizer;\n    }\n    const virtualColumns = columnVirtualizer\n        ? columnVirtualizer.getVirtualItems()\n        : undefined;\n    let virtualPaddingLeft;\n    let virtualPaddingRight;\n    if (columnVirtualizer && (virtualColumns === null || virtualColumns === void 0 ? void 0 : virtualColumns.length)) {\n        virtualPaddingLeft = (_c = (_b = virtualColumns[leftPinnedIndexes.length]) === null || _b === void 0 ? void 0 : _b.start) !== null && _c !== void 0 ? _c : 0;\n        virtualPaddingRight =\n            columnVirtualizer.getTotalSize() -\n                ((_e = (_d = virtualColumns[virtualColumns.length - 1 - rightPinnedIndexes.length]) === null || _d === void 0 ? void 0 : _d.end) !== null && _e !== void 0 ? _e : 0);\n    }\n    const props = {\n        table,\n        virtualColumns,\n        virtualPaddingLeft,\n        virtualPaddingRight,\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)((_mui_material_Table__WEBPACK_IMPORTED_MODULE_52___default()), Object.assign({ stickyHeader: enableStickyHeader || isFullScreen }, tableProps, { style: Object.assign(Object.assign({}, columnSizeVars), tableProps === null || tableProps === void 0 ? void 0 : tableProps.style), sx: (theme) => (Object.assign({ borderCollapse: 'separate', display: (layoutMode === null || layoutMode === void 0 ? void 0 : layoutMode.startsWith('grid')) ? 'grid' : undefined }, parseFromValuesOrFunc(tableProps === null || tableProps === void 0 ? void 0 : tableProps.sx, theme))), children: [enableTableHead && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableHead, Object.assign({}, props)), memoMode === 'table-body' || columnSizingInfo.isResizingColumn ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Memo_MRT_TableBody, Object.assign({ columnVirtualizer: columnVirtualizer }, props))) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableBody, Object.assign({ columnVirtualizer: columnVirtualizer }, props))), enableTableFooter && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableFooter, Object.assign({}, props))] })));\n};\n\nconst MRT_TableLoadingOverlay = (_a) => {\n    var { table } = _a, rest = __rest(_a, [\"table\"]);\n    const { options: { localization, muiCircularProgressProps }, } = table;\n    const circularProgressProps = Object.assign(Object.assign({}, parseFromValuesOrFunc(muiCircularProgressProps, { table })), rest);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: (theme) => ({\n            alignItems: 'center',\n            backgroundColor: (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_6__.alpha)(getMRTTheme(table, theme).baseBackgroundColor, 0.5),\n            bottom: 0,\n            display: 'flex',\n            justifyContent: 'center',\n            left: 0,\n            maxHeight: '100vh',\n            position: 'absolute',\n            right: 0,\n            top: 0,\n            width: '100%',\n            zIndex: 2,\n        }), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_CircularProgress__WEBPACK_IMPORTED_MODULE_53___default()), Object.assign({ \"aria-label\": localization.noRecordsToDisplay, id: \"mrt-progress\" }, circularProgressProps)) }));\n};\n\nconst MRT_EditActionButtons = (_a) => {\n    var { row, table, variant = 'icon' } = _a, rest = __rest(_a, [\"row\", \"table\", \"variant\"]);\n    const { getState, options: { icons: { CancelIcon, SaveIcon }, localization, onCreatingRowCancel, onCreatingRowSave, onEditingRowCancel, onEditingRowSave, }, refs: { editInputRefs }, setCreatingRow, setEditingRow, } = table;\n    const { creatingRow, editingRow, isSaving } = getState();\n    const isCreating = (creatingRow === null || creatingRow === void 0 ? void 0 : creatingRow.id) === row.id;\n    const isEditing = (editingRow === null || editingRow === void 0 ? void 0 : editingRow.id) === row.id;\n    const handleCancel = () => {\n        if (isCreating) {\n            onCreatingRowCancel === null || onCreatingRowCancel === void 0 ? void 0 : onCreatingRowCancel({ row, table });\n            setCreatingRow(null);\n        }\n        else if (isEditing) {\n            onEditingRowCancel === null || onEditingRowCancel === void 0 ? void 0 : onEditingRowCancel({ row, table });\n            setEditingRow(null);\n        }\n        row._valuesCache = {}; //reset values cache\n    };\n    const handleSubmitRow = () => {\n        var _a;\n        //look for auto-filled input values\n        (_a = Object.values(editInputRefs === null || editInputRefs === void 0 ? void 0 : editInputRefs.current)\n            .filter((inputRef) => { var _a, _b; return row.id === ((_b = (_a = inputRef === null || inputRef === void 0 ? void 0 : inputRef.name) === null || _a === void 0 ? void 0 : _a.split('_')) === null || _b === void 0 ? void 0 : _b[0]); })) === null || _a === void 0 ? void 0 : _a.forEach((input) => {\n            if (input.value !== undefined &&\n                Object.hasOwn(row === null || row === void 0 ? void 0 : row._valuesCache, input.name)) {\n                // @ts-ignore\n                row._valuesCache[input.name] = input.value;\n            }\n        });\n        if (isCreating)\n            onCreatingRowSave === null || onCreatingRowSave === void 0 ? void 0 : onCreatingRowSave({\n                exitCreatingMode: () => setCreatingRow(null),\n                row,\n                table,\n                values: row._valuesCache,\n            });\n        else if (isEditing) {\n            onEditingRowSave === null || onEditingRowSave === void 0 ? void 0 : onEditingRowSave({\n                exitEditingMode: () => setEditingRow(null),\n                row,\n                table,\n                values: row === null || row === void 0 ? void 0 : row._valuesCache,\n            });\n        }\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { onClick: (e) => e.stopPropagation(), sx: (theme) => (Object.assign({ display: 'flex', gap: '0.75rem' }, parseFromValuesOrFunc(rest === null || rest === void 0 ? void 0 : rest.sx, theme))), children: variant === 'icon' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { title: localization.cancel, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), { \"aria-label\": localization.cancel, onClick: handleCancel, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CancelIcon, {}) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { title: localization.save, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), { \"aria-label\": localization.save, color: \"info\", onClick: handleSubmitRow, children: isSaving ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_CircularProgress__WEBPACK_IMPORTED_MODULE_53___default()), { size: 18 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SaveIcon, {}) }) })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Button__WEBPACK_IMPORTED_MODULE_10___default()), { onClick: handleCancel, sx: { minWidth: '100px' }, children: localization.cancel }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)((_mui_material_Button__WEBPACK_IMPORTED_MODULE_10___default()), { onClick: handleSubmitRow, sx: { minWidth: '100px' }, variant: \"contained\", children: [isSaving && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_CircularProgress__WEBPACK_IMPORTED_MODULE_53___default()), { color: \"inherit\", size: 18 }), localization.save] })] })) }));\n};\n\nconst MRT_EditRowModal = (_a) => {\n    var _b;\n    var { open, table } = _a, rest = __rest(_a, [\"open\", \"table\"]);\n    const { getState, options: { localization, muiCreateRowModalProps, muiEditRowDialogProps, onCreatingRowCancel, onEditingRowCancel, renderCreateRowDialogContent, renderEditRowDialogContent, }, setCreatingRow, setEditingRow, } = table;\n    const { creatingRow, editingRow } = getState();\n    const row = (creatingRow !== null && creatingRow !== void 0 ? creatingRow : editingRow);\n    const dialogProps = Object.assign(Object.assign(Object.assign({}, parseFromValuesOrFunc(muiEditRowDialogProps, { row, table })), (creatingRow &&\n        parseFromValuesOrFunc(muiCreateRowModalProps, { row, table }))), rest);\n    const internalEditComponents = row\n        .getAllCells()\n        .filter((cell) => cell.column.columnDef.columnDefType === 'data')\n        .map((cell) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_EditCellTextField, { cell: cell, table: table }, cell.id)));\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Dialog__WEBPACK_IMPORTED_MODULE_54___default()), Object.assign({ fullWidth: true, maxWidth: \"xs\", onClose: (event, reason) => {\n            var _a;\n            if (creatingRow) {\n                onCreatingRowCancel === null || onCreatingRowCancel === void 0 ? void 0 : onCreatingRowCancel({ row, table });\n                setCreatingRow(null);\n            }\n            else {\n                onEditingRowCancel === null || onEditingRowCancel === void 0 ? void 0 : onEditingRowCancel({ row, table });\n                setEditingRow(null);\n            }\n            row._valuesCache = {}; //reset values cache\n            (_a = dialogProps.onClose) === null || _a === void 0 ? void 0 : _a.call(dialogProps, event, reason);\n        }, open: open }, dialogProps, { children: (_b = ((creatingRow &&\n            (renderCreateRowDialogContent === null || renderCreateRowDialogContent === void 0 ? void 0 : renderCreateRowDialogContent({\n                internalEditComponents,\n                row,\n                table,\n            }))) ||\n            (renderEditRowDialogContent === null || renderEditRowDialogContent === void 0 ? void 0 : renderEditRowDialogContent({\n                internalEditComponents,\n                row,\n                table,\n            })))) !== null && _b !== void 0 ? _b : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_DialogTitle__WEBPACK_IMPORTED_MODULE_55___default()), { sx: { textAlign: 'center' }, children: localization.edit }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_DialogContent__WEBPACK_IMPORTED_MODULE_56___default()), { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"form\", { onSubmit: (e) => e.preventDefault(), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_mui_material_Stack__WEBPACK_IMPORTED_MODULE_31__[\"default\"], { sx: {\n                                gap: '32px',\n                                paddingTop: '16px',\n                                width: '100%',\n                            }, children: internalEditComponents }) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_DialogActions__WEBPACK_IMPORTED_MODULE_57___default()), { sx: { p: '1.25rem' }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_EditActionButtons, { row: row, table: table, variant: \"text\" }) })] })) })));\n};\n\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' ? react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_1__.useEffect;\nconst MRT_TableContainer = (_a) => {\n    var { table } = _a, rest = __rest(_a, [\"table\"]);\n    const { getState, options: { createDisplayMode, editDisplayMode, enableStickyHeader, muiTableContainerProps, }, refs: { bottomToolbarRef, tableContainerRef, topToolbarRef }, } = table;\n    const { creatingRow, editingRow, isFullScreen, isLoading, showLoadingOverlay, } = getState();\n    const loading = showLoadingOverlay !== false && (isLoading || showLoadingOverlay);\n    const [totalToolbarHeight, setTotalToolbarHeight] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const tableContainerProps = Object.assign(Object.assign({}, parseFromValuesOrFunc(muiTableContainerProps, {\n        table,\n    })), rest);\n    useIsomorphicLayoutEffect(() => {\n        var _a, _b, _c, _d;\n        const topToolbarHeight = typeof document !== 'undefined'\n            ? (_b = (_a = topToolbarRef.current) === null || _a === void 0 ? void 0 : _a.offsetHeight) !== null && _b !== void 0 ? _b : 0\n            : 0;\n        const bottomToolbarHeight = typeof document !== 'undefined'\n            ? (_d = (_c = bottomToolbarRef === null || bottomToolbarRef === void 0 ? void 0 : bottomToolbarRef.current) === null || _c === void 0 ? void 0 : _c.offsetHeight) !== null && _d !== void 0 ? _d : 0\n            : 0;\n        setTotalToolbarHeight(topToolbarHeight + bottomToolbarHeight);\n    });\n    const createModalOpen = createDisplayMode === 'modal' && creatingRow;\n    const editModalOpen = editDisplayMode === 'modal' && editingRow;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)((_mui_material_TableContainer__WEBPACK_IMPORTED_MODULE_58___default()), Object.assign({ \"aria-busy\": loading, \"aria-describedby\": loading ? 'mrt-progress' : undefined }, tableContainerProps, { ref: (node) => {\n            if (node) {\n                tableContainerRef.current = node;\n                if (tableContainerProps === null || tableContainerProps === void 0 ? void 0 : tableContainerProps.ref) {\n                    //@ts-ignore\n                    tableContainerProps.ref.current = node;\n                }\n            }\n        }, style: Object.assign({ maxHeight: isFullScreen\n                ? `calc(100vh - ${totalToolbarHeight}px)`\n                : undefined }, tableContainerProps === null || tableContainerProps === void 0 ? void 0 : tableContainerProps.style), sx: (theme) => (Object.assign({ maxHeight: enableStickyHeader\n                ? `clamp(350px, calc(100vh - ${totalToolbarHeight}px), 9999px)`\n                : undefined, maxWidth: '100%', overflow: 'auto', position: 'relative' }, parseFromValuesOrFunc(tableContainerProps === null || tableContainerProps === void 0 ? void 0 : tableContainerProps.sx, theme))), children: [loading ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableLoadingOverlay, { table: table }) : null, (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_Table, { table: table }), (createModalOpen || editModalOpen) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_EditRowModal, { open: true, table: table }))] })));\n};\n\nconst MRT_TablePaper = (_a) => {\n    var _b, _c;\n    var { table } = _a, rest = __rest(_a, [\"table\"]);\n    const { getState, options: { enableBottomToolbar, enableTopToolbar, muiTablePaperProps, renderBottomToolbar, renderTopToolbar, }, refs: { tablePaperRef }, } = table;\n    const { isFullScreen } = getState();\n    const paperProps = Object.assign(Object.assign({}, parseFromValuesOrFunc(muiTablePaperProps, { table })), rest);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)((_mui_material_Paper__WEBPACK_IMPORTED_MODULE_59___default()), Object.assign({ elevation: 2 }, paperProps, { ref: (ref) => {\n            tablePaperRef.current = ref;\n            if (paperProps === null || paperProps === void 0 ? void 0 : paperProps.ref) {\n                //@ts-ignore\n                paperProps.ref.current = ref;\n            }\n        }, style: Object.assign(Object.assign({}, (isFullScreen\n            ? {\n                bottom: 0,\n                height: '100vh',\n                left: 0,\n                margin: 0,\n                maxHeight: '100vh',\n                maxWidth: '100vw',\n                padding: 0,\n                position: 'fixed',\n                right: 0,\n                top: 0,\n                width: '100vw',\n                zIndex: 999,\n            }\n            : {})), paperProps === null || paperProps === void 0 ? void 0 : paperProps.style), sx: (theme) => (Object.assign({ backgroundColor: getMRTTheme(table, theme).baseBackgroundColor, backgroundImage: 'unset', overflow: 'hidden', transition: 'all 100ms ease-in-out' }, parseFromValuesOrFunc(paperProps === null || paperProps === void 0 ? void 0 : paperProps.sx, theme))), children: [enableTopToolbar &&\n                ((_b = parseFromValuesOrFunc(renderTopToolbar, { table })) !== null && _b !== void 0 ? _b : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TopToolbar, { table: table }))), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableContainer, { table: table }), enableBottomToolbar &&\n                ((_c = parseFromValuesOrFunc(renderBottomToolbar, { table })) !== null && _c !== void 0 ? _c : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_BottomToolbar, { table: table })))] })));\n};\n\nconst MRT_RowPinButton = (_a) => {\n    var { pinningPosition, row, table } = _a, rest = __rest(_a, [\"pinningPosition\", \"row\", \"table\"]);\n    const { options: { icons: { CloseIcon, PushPinIcon }, localization, rowPinningDisplayMode, }, } = table;\n    const isPinned = row.getIsPinned();\n    const [tooltipOpened, setTooltipOpened] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const handleTogglePin = (event) => {\n        setTooltipOpened(false);\n        event.stopPropagation();\n        row.pin(isPinned ? false : pinningPosition);\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { enterDelay: 1000, enterNextDelay: 1000, open: tooltipOpened, title: isPinned ? localization.unpin : localization.pin, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), Object.assign({ \"aria-label\": localization.pin, onClick: handleTogglePin, onMouseEnter: () => setTooltipOpened(true), onMouseLeave: () => setTooltipOpened(false), size: \"small\" }, rest, { sx: (theme) => (Object.assign({ height: '24px', width: '24px' }, parseFromValuesOrFunc(rest === null || rest === void 0 ? void 0 : rest.sx, theme))), children: isPinned ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CloseIcon, {})) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PushPinIcon, { fontSize: \"small\", style: {\n                    transform: `rotate(${rowPinningDisplayMode === 'sticky'\n                        ? 135\n                        : pinningPosition === 'top'\n                            ? 180\n                            : 0}deg)`,\n                } })) })) }));\n};\n\nconst MRT_TableBodyRowPinButton = (_a) => {\n    var { row, table } = _a, rest = __rest(_a, [\"row\", \"table\"]);\n    const { getState, options: { enableRowPinning, rowPinningDisplayMode }, } = table;\n    const { density } = getState();\n    const canPin = parseFromValuesOrFunc(enableRowPinning, row);\n    if (!canPin)\n        return null;\n    const rowPinButtonProps = Object.assign({ row,\n        table }, rest);\n    if (rowPinningDisplayMode === 'top-and-bottom' && !row.getIsPinned()) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: {\n                display: 'flex',\n                flexDirection: density === 'compact' ? 'row' : 'column',\n            }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_RowPinButton, Object.assign({ pinningPosition: \"top\" }, rowPinButtonProps)), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_RowPinButton, Object.assign({ pinningPosition: \"bottom\" }, rowPinButtonProps))] }));\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_RowPinButton, Object.assign({ pinningPosition: rowPinningDisplayMode === 'bottom' ? 'bottom' : 'top' }, rowPinButtonProps)));\n};\n\nconst MRT_ExpandAllButton = (_a) => {\n    var _b, _c;\n    var { table } = _a, rest = __rest(_a, [\"table\"]);\n    const { getCanSomeRowsExpand, getIsAllRowsExpanded, getIsSomeRowsExpanded, getState, options: { icons: { KeyboardDoubleArrowDownIcon }, localization, muiExpandAllButtonProps, renderDetailPanel, }, toggleAllRowsExpanded, } = table;\n    const { density, isLoading } = getState();\n    const iconButtonProps = Object.assign(Object.assign({}, parseFromValuesOrFunc(muiExpandAllButtonProps, {\n        table,\n    })), rest);\n    const isAllRowsExpanded = getIsAllRowsExpanded();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { enterDelay: 1000, enterNextDelay: 1000, title: (_b = iconButtonProps === null || iconButtonProps === void 0 ? void 0 : iconButtonProps.title) !== null && _b !== void 0 ? _b : (isAllRowsExpanded ? localization.collapseAll : localization.expandAll), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), Object.assign({ \"aria-label\": localization.expandAll, disabled: isLoading || (!renderDetailPanel && !getCanSomeRowsExpand()), onClick: () => toggleAllRowsExpanded(!isAllRowsExpanded) }, iconButtonProps, { sx: (theme) => (Object.assign({ height: density === 'compact' ? '1.75rem' : '2.25rem', mt: density !== 'compact' ? '-0.25rem' : undefined, width: density === 'compact' ? '1.75rem' : '2.25rem' }, parseFromValuesOrFunc(iconButtonProps === null || iconButtonProps === void 0 ? void 0 : iconButtonProps.sx, theme))), title: undefined, children: (_c = iconButtonProps === null || iconButtonProps === void 0 ? void 0 : iconButtonProps.children) !== null && _c !== void 0 ? _c : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(KeyboardDoubleArrowDownIcon, { style: {\n                        transform: `rotate(${isAllRowsExpanded ? -180 : getIsSomeRowsExpanded() ? -90 : 0}deg)`,\n                        transition: 'transform 150ms',\n                    } })) })) }) }));\n};\n\nconst MRT_ExpandButton = ({ row, table, }) => {\n    var _a, _b;\n    const { getState, options: { icons: { ExpandMoreIcon }, localization, muiExpandButtonProps, renderDetailPanel, }, } = table;\n    const { density } = getState();\n    const iconButtonProps = parseFromValuesOrFunc(muiExpandButtonProps, {\n        row,\n        table,\n    });\n    const canExpand = row.getCanExpand();\n    const isExpanded = row.getIsExpanded();\n    const handleToggleExpand = (event) => {\n        var _a;\n        event.stopPropagation();\n        row.toggleExpanded();\n        (_a = iconButtonProps === null || iconButtonProps === void 0 ? void 0 : iconButtonProps.onClick) === null || _a === void 0 ? void 0 : _a.call(iconButtonProps, event);\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { disableHoverListener: !canExpand && !renderDetailPanel, enterDelay: 1000, enterNextDelay: 1000, title: (_a = iconButtonProps === null || iconButtonProps === void 0 ? void 0 : iconButtonProps.title) !== null && _a !== void 0 ? _a : (isExpanded ? localization.collapse : localization.expand), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), Object.assign({ \"aria-label\": localization.expand, disabled: !canExpand && !renderDetailPanel }, iconButtonProps, { onClick: handleToggleExpand, sx: (theme) => (Object.assign({ height: density === 'compact' ? '1.75rem' : '2.25rem', opacity: !canExpand && !renderDetailPanel ? 0.3 : 1, width: density === 'compact' ? '1.75rem' : '2.25rem' }, parseFromValuesOrFunc(iconButtonProps === null || iconButtonProps === void 0 ? void 0 : iconButtonProps.sx, theme))), title: undefined, children: (_b = iconButtonProps === null || iconButtonProps === void 0 ? void 0 : iconButtonProps.children) !== null && _b !== void 0 ? _b : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ExpandMoreIcon, { style: {\n                        transform: `rotate(${!canExpand && !renderDetailPanel ? -90 : isExpanded ? -180 : 0}deg)`,\n                        transition: 'transform 150ms',\n                    } })) })) }) }));\n};\n\nconst MRT_RowActionMenu = (_a) => {\n    var { anchorEl, handleEdit, row, setAnchorEl, table } = _a, rest = __rest(_a, [\"anchorEl\", \"handleEdit\", \"row\", \"setAnchorEl\", \"table\"]);\n    const { getState, options: { enableEditing, icons: { EditIcon }, localization, renderRowActionMenuItems, }, } = table;\n    const { density } = getState();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)((_mui_material_Menu__WEBPACK_IMPORTED_MODULE_22___default()), Object.assign({ MenuListProps: {\n            dense: density === 'compact',\n        }, anchorEl: anchorEl, onClick: (event) => event.stopPropagation(), onClose: () => setAnchorEl(null), open: !!anchorEl }, rest, { children: [parseFromValuesOrFunc(enableEditing, row) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_12___default()), { onClick: handleEdit, sx: commonMenuItemStyles, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { sx: commonListItemStyles, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_ListItemIcon__WEBPACK_IMPORTED_MODULE_23___default()), { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EditIcon, {}) }), localization.edit] }) })), renderRowActionMenuItems === null || renderRowActionMenuItems === void 0 ? void 0 : renderRowActionMenuItems({\n                closeMenu: () => setAnchorEl(null),\n                row,\n                table,\n            })] })));\n};\n\nconst commonIconButtonStyles = {\n    '&:hover': {\n        opacity: 1,\n    },\n    height: '2rem',\n    ml: '10px',\n    opacity: 0.5,\n    transition: 'opacity 150ms',\n    width: '2rem',\n};\nconst MRT_ToggleRowActionMenuButton = (_a) => {\n    var { cell, row, table } = _a, rest = __rest(_a, [\"cell\", \"row\", \"table\"]);\n    const { getState, options: { createDisplayMode, editDisplayMode, enableEditing, icons: { EditIcon, MoreHorizIcon }, localization, renderRowActionMenuItems, renderRowActions, }, setEditingRow, } = table;\n    const { creatingRow, editingRow } = getState();\n    const isCreating = (creatingRow === null || creatingRow === void 0 ? void 0 : creatingRow.id) === row.id;\n    const isEditing = (editingRow === null || editingRow === void 0 ? void 0 : editingRow.id) === row.id;\n    const showEditActionButtons = (isCreating && createDisplayMode === 'row') ||\n        (isEditing && editDisplayMode === 'row');\n    const [anchorEl, setAnchorEl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const handleOpenRowActionMenu = (event) => {\n        event.stopPropagation();\n        event.preventDefault();\n        setAnchorEl(event.currentTarget);\n    };\n    const handleStartEditMode = (event) => {\n        event.stopPropagation();\n        setEditingRow(Object.assign({}, row));\n        setAnchorEl(null);\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: renderRowActions && !showEditActionButtons ? (renderRowActions({ cell, row, table })) : showEditActionButtons ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_EditActionButtons, { row: row, table: table })) : !renderRowActionMenuItems &&\n            parseFromValuesOrFunc(enableEditing, row) &&\n            ['modal', 'row'].includes(editDisplayMode) ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { placement: \"right\", title: localization.edit, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), Object.assign({ \"aria-label\": localization.edit, onClick: handleStartEditMode, sx: commonIconButtonStyles }, rest, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EditIcon, {}) })) })) : renderRowActionMenuItems ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_8___default()), { enterDelay: 1000, enterNextDelay: 1000, title: localization.rowActions, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)((_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_9___default()), Object.assign({ \"aria-label\": localization.rowActions, onClick: handleOpenRowActionMenu, size: \"small\", sx: commonIconButtonStyles }, rest, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MoreHorizIcon, {}) })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_RowActionMenu, { anchorEl: anchorEl, handleEdit: handleStartEditMode, row: row, setAnchorEl: setAnchorEl, table: table })] })) : null }));\n};\n\nconst MRT_AggregationFns = Object.assign({}, _tanstack_react_table__WEBPACK_IMPORTED_MODULE_4__.aggregationFns);\n\nconst fuzzy = (row, columnId, filterValue, addMeta) => {\n    const itemRank = (0,_tanstack_match_sorter_utils__WEBPACK_IMPORTED_MODULE_17__.rankItem)(row.getValue(columnId), filterValue, {\n        threshold: _tanstack_match_sorter_utils__WEBPACK_IMPORTED_MODULE_17__.rankings.MATCHES,\n    });\n    addMeta(itemRank);\n    return itemRank.passed;\n};\nfuzzy.autoRemove = (val) => !val;\nconst contains = (row, id, filterValue) => row\n    .getValue(id)\n    .toString()\n    .toLowerCase()\n    .trim()\n    .includes(filterValue.toString().toLowerCase().trim());\ncontains.autoRemove = (val) => !val;\nconst startsWith = (row, id, filterValue) => row\n    .getValue(id)\n    .toString()\n    .toLowerCase()\n    .trim()\n    .startsWith(filterValue.toString().toLowerCase().trim());\nstartsWith.autoRemove = (val) => !val;\nconst endsWith = (row, id, filterValue) => row\n    .getValue(id)\n    .toString()\n    .toLowerCase()\n    .trim()\n    .endsWith(filterValue.toString().toLowerCase().trim());\nendsWith.autoRemove = (val) => !val;\nconst equals = (row, id, filterValue) => row.getValue(id).toString().toLowerCase().trim() ===\n    (filterValue === null || filterValue === void 0 ? void 0 : filterValue.toString().toLowerCase().trim());\nequals.autoRemove = (val) => !val;\nconst notEquals = (row, id, filterValue) => row.getValue(id).toString().toLowerCase().trim() !==\n    filterValue.toString().toLowerCase().trim();\nnotEquals.autoRemove = (val) => !val;\nconst greaterThan = (row, id, filterValue) => !isNaN(+filterValue) && !isNaN(+row.getValue(id))\n    ? +row.getValue(id) > +filterValue\n    : row.getValue(id).toString().toLowerCase().trim() >\n        (filterValue === null || filterValue === void 0 ? void 0 : filterValue.toString().toLowerCase().trim());\ngreaterThan.autoRemove = (val) => !val;\nconst greaterThanOrEqualTo = (row, id, filterValue) => equals(row, id, filterValue) || greaterThan(row, id, filterValue);\ngreaterThanOrEqualTo.autoRemove = (val) => !val;\nconst lessThan = (row, id, filterValue) => !isNaN(+filterValue) && !isNaN(+row.getValue(id))\n    ? +row.getValue(id) < +filterValue\n    : row.getValue(id).toString().toLowerCase().trim() <\n        (filterValue === null || filterValue === void 0 ? void 0 : filterValue.toString().toLowerCase().trim());\nlessThan.autoRemove = (val) => !val;\nconst lessThanOrEqualTo = (row, id, filterValue) => equals(row, id, filterValue) || lessThan(row, id, filterValue);\nlessThanOrEqualTo.autoRemove = (val) => !val;\nconst between = (row, id, filterValues) => (['', undefined].includes(filterValues[0]) ||\n    greaterThan(row, id, filterValues[0])) &&\n    ((!isNaN(+filterValues[0]) &&\n        !isNaN(+filterValues[1]) &&\n        +filterValues[0] > +filterValues[1]) ||\n        ['', undefined].includes(filterValues[1]) ||\n        lessThan(row, id, filterValues[1]));\nbetween.autoRemove = (val) => !val;\nconst betweenInclusive = (row, id, filterValues) => (['', undefined].includes(filterValues[0]) ||\n    greaterThanOrEqualTo(row, id, filterValues[0])) &&\n    ((!isNaN(+filterValues[0]) &&\n        !isNaN(+filterValues[1]) &&\n        +filterValues[0] > +filterValues[1]) ||\n        ['', undefined].includes(filterValues[1]) ||\n        lessThanOrEqualTo(row, id, filterValues[1]));\nbetweenInclusive.autoRemove = (val) => !val;\nconst empty = (row, id, _filterValue) => !row.getValue(id).toString().trim();\nempty.autoRemove = (val) => !val;\nconst notEmpty = (row, id, _filterValue) => !!row.getValue(id).toString().trim();\nnotEmpty.autoRemove = (val) => !val;\nconst MRT_FilterFns = Object.assign(Object.assign({}, _tanstack_react_table__WEBPACK_IMPORTED_MODULE_4__.filterFns), { between,\n    betweenInclusive,\n    contains,\n    empty,\n    endsWith,\n    equals,\n    fuzzy,\n    greaterThan,\n    greaterThanOrEqualTo,\n    lessThan,\n    lessThanOrEqualTo,\n    notEmpty,\n    notEquals,\n    startsWith });\n\nconst MRT_Default_Icons = {\n    ArrowDownwardIcon: _mui_icons_material_ArrowDownward__WEBPACK_IMPORTED_MODULE_60__[\"default\"],\n    ArrowRightIcon: _mui_icons_material_ArrowRight__WEBPACK_IMPORTED_MODULE_61__[\"default\"],\n    CancelIcon: _mui_icons_material_Cancel__WEBPACK_IMPORTED_MODULE_62__[\"default\"],\n    ChevronLeftIcon: _mui_icons_material_ChevronLeft__WEBPACK_IMPORTED_MODULE_63__[\"default\"],\n    ChevronRightIcon: _mui_icons_material_ChevronRight__WEBPACK_IMPORTED_MODULE_64__[\"default\"],\n    ClearAllIcon: _mui_icons_material_ClearAll__WEBPACK_IMPORTED_MODULE_65__[\"default\"],\n    CloseIcon: _mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_66__[\"default\"],\n    DensityLargeIcon: _mui_icons_material_DensityLarge__WEBPACK_IMPORTED_MODULE_67__[\"default\"],\n    DensityMediumIcon: _mui_icons_material_DensityMedium__WEBPACK_IMPORTED_MODULE_68__[\"default\"],\n    DensitySmallIcon: _mui_icons_material_DensitySmall__WEBPACK_IMPORTED_MODULE_69__[\"default\"],\n    DragHandleIcon: _mui_icons_material_DragHandle__WEBPACK_IMPORTED_MODULE_70__[\"default\"],\n    DynamicFeedIcon: _mui_icons_material_DynamicFeed__WEBPACK_IMPORTED_MODULE_71__[\"default\"],\n    EditIcon: _mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_72__[\"default\"],\n    ExpandMoreIcon: _mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_73__[\"default\"],\n    FilterAltIcon: _mui_icons_material_FilterAlt__WEBPACK_IMPORTED_MODULE_74__[\"default\"],\n    FilterListIcon: _mui_icons_material_FilterList__WEBPACK_IMPORTED_MODULE_75__[\"default\"],\n    FilterListOffIcon: _mui_icons_material_FilterListOff__WEBPACK_IMPORTED_MODULE_76__[\"default\"],\n    FirstPageIcon: _mui_icons_material_FirstPage__WEBPACK_IMPORTED_MODULE_77__[\"default\"],\n    FullscreenExitIcon: _mui_icons_material_FullscreenExit__WEBPACK_IMPORTED_MODULE_78__[\"default\"],\n    FullscreenIcon: _mui_icons_material_Fullscreen__WEBPACK_IMPORTED_MODULE_79__[\"default\"],\n    KeyboardDoubleArrowDownIcon: _mui_icons_material_KeyboardDoubleArrowDown__WEBPACK_IMPORTED_MODULE_80__[\"default\"],\n    LastPageIcon: _mui_icons_material_LastPage__WEBPACK_IMPORTED_MODULE_81__[\"default\"],\n    MoreHorizIcon: _mui_icons_material_MoreHoriz__WEBPACK_IMPORTED_MODULE_82__[\"default\"],\n    MoreVertIcon: _mui_icons_material_MoreVert__WEBPACK_IMPORTED_MODULE_83__[\"default\"],\n    PushPinIcon: _mui_icons_material_PushPin__WEBPACK_IMPORTED_MODULE_84__[\"default\"],\n    RestartAltIcon: _mui_icons_material_RestartAlt__WEBPACK_IMPORTED_MODULE_85__[\"default\"],\n    SaveIcon: _mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_86__[\"default\"],\n    SearchIcon: _mui_icons_material_Search__WEBPACK_IMPORTED_MODULE_87__[\"default\"],\n    SearchOffIcon: _mui_icons_material_SearchOff__WEBPACK_IMPORTED_MODULE_88__[\"default\"],\n    SortIcon: _mui_icons_material_Sort__WEBPACK_IMPORTED_MODULE_89__[\"default\"],\n    SyncAltIcon: _mui_icons_material_SyncAlt__WEBPACK_IMPORTED_MODULE_90__[\"default\"],\n    ViewColumnIcon: _mui_icons_material_ViewColumn__WEBPACK_IMPORTED_MODULE_91__[\"default\"],\n    VisibilityOffIcon: _mui_icons_material_VisibilityOff__WEBPACK_IMPORTED_MODULE_92__[\"default\"],\n};\n\nconst MRT_Localization_EN = {\n    actions: 'Actions',\n    and: 'and',\n    cancel: 'Cancel',\n    changeFilterMode: 'Change filter mode',\n    changeSearchMode: 'Change search mode',\n    clearFilter: 'Clear filter',\n    clearSearch: 'Clear search',\n    clearSort: 'Clear sort',\n    clickToCopy: 'Click to copy',\n    collapse: 'Collapse',\n    collapseAll: 'Collapse all',\n    columnActions: 'Column Actions',\n    copiedToClipboard: 'Copied to clipboard',\n    dropToGroupBy: 'Drop to group by {column}',\n    edit: 'Edit',\n    expand: 'Expand',\n    expandAll: 'Expand all',\n    filterArrIncludes: 'Includes',\n    filterArrIncludesAll: 'Includes all',\n    filterArrIncludesSome: 'Includes',\n    filterBetween: 'Between',\n    filterBetweenInclusive: 'Between Inclusive',\n    filterByColumn: 'Filter by {column}',\n    filterContains: 'Contains',\n    filterEmpty: 'Empty',\n    filterEndsWith: 'Ends With',\n    filterEquals: 'Equals',\n    filterEqualsString: 'Equals',\n    filterFuzzy: 'Fuzzy',\n    filterGreaterThan: 'Greater Than',\n    filterGreaterThanOrEqualTo: 'Greater Than Or Equal To',\n    filterInNumberRange: 'Between',\n    filterIncludesString: 'Contains',\n    filterIncludesStringSensitive: 'Contains',\n    filterLessThan: 'Less Than',\n    filterLessThanOrEqualTo: 'Less Than Or Equal To',\n    filterMode: 'Filter Mode: {filterType}',\n    filterNotEmpty: 'Not Empty',\n    filterNotEquals: 'Not Equals',\n    filterStartsWith: 'Starts With',\n    filterWeakEquals: 'Equals',\n    filteringByColumn: 'Filtering by {column} - {filterType} {filterValue}',\n    goToFirstPage: 'Go to first page',\n    goToLastPage: 'Go to last page',\n    goToNextPage: 'Go to next page',\n    goToPreviousPage: 'Go to previous page',\n    grab: 'Grab',\n    groupByColumn: 'Group by {column}',\n    groupedBy: 'Grouped by ',\n    hideAll: 'Hide all',\n    hideColumn: 'Hide {column} column',\n    max: 'Max',\n    min: 'Min',\n    move: 'Move',\n    noRecordsToDisplay: 'No records to display',\n    noResultsFound: 'No results found',\n    of: 'of',\n    or: 'or',\n    pin: 'Pin',\n    pinToLeft: 'Pin to left',\n    pinToRight: 'Pin to right',\n    resetColumnSize: 'Reset column size',\n    resetOrder: 'Reset order',\n    rowActions: 'Row Actions',\n    rowNumber: '#',\n    rowNumbers: 'Row Numbers',\n    rowsPerPage: 'Rows per page',\n    save: 'Save',\n    search: 'Search',\n    selectedCountOfRowCountRowsSelected: '{selectedCount} of {rowCount} row(s) selected',\n    select: 'Select',\n    showAll: 'Show all',\n    showAllColumns: 'Show all columns',\n    showHideColumns: 'Show/Hide columns',\n    showHideFilters: 'Show/Hide filters',\n    showHideSearch: 'Show/Hide search',\n    sortByColumnAsc: 'Sort by {column} ascending',\n    sortByColumnDesc: 'Sort by {column} descending',\n    sortedByColumnAsc: 'Sorted by {column} ascending',\n    sortedByColumnDesc: 'Sorted by {column} descending',\n    thenBy: ', then by ',\n    toggleDensity: 'Toggle density',\n    toggleFullScreen: 'Toggle full screen',\n    toggleSelectAll: 'Toggle select all',\n    toggleSelectRow: 'Toggle select row',\n    toggleVisibility: 'Toggle visibility',\n    ungroupByColumn: 'Ungroup by {column}',\n    unpin: 'Unpin',\n    unpinAll: 'Unpin all',\n};\n\nconst MRT_DefaultColumn = {\n    filterVariant: 'text',\n    maxSize: 1000,\n    minSize: 40,\n    size: 180,\n};\nconst MRT_DefaultDisplayColumn = {\n    columnDefType: 'display',\n    enableClickToCopy: false,\n    enableColumnActions: false,\n    enableColumnDragging: false,\n    enableColumnFilter: false,\n    enableColumnOrdering: false,\n    enableEditing: false,\n    enableGlobalFilter: false,\n    enableGrouping: false,\n    enableHiding: false,\n    enableResizing: false,\n    enableSorting: false,\n};\nconst useMRT_TableOptions = (_a) => {\n    var _b;\n    var { aggregationFns, autoResetExpanded = false, columnFilterDisplayMode = 'subheader', columnResizeMode = 'onChange', createDisplayMode = 'modal', defaultColumn, defaultDisplayColumn, editDisplayMode = 'modal', enableBottomToolbar = true, enableColumnActions = true, enableColumnFilters = true, enableColumnOrdering = false, enableColumnPinning = false, enableColumnResizing = false, enableDensityToggle = true, enableExpandAll = true, enableExpanding, enableFilterMatchHighlighting = true, enableFilters = true, enableFullScreenToggle = true, enableGlobalFilter = true, enableGlobalFilterRankedResults = true, enableGrouping = false, enableHiding = true, enableMultiRowSelection = true, enableMultiSort = true, enablePagination = true, enableRowPinning = false, enableRowSelection = false, enableSelectAll = true, enableSorting = true, enableStickyHeader = false, enableTableFooter = true, enableTableHead = true, enableToolbarInternalActions = true, enableTopToolbar = true, filterFns, icons, layoutMode, localization, manualFiltering, manualGrouping, manualPagination, manualSorting, paginationDisplayMode = 'default', positionActionsColumn = 'first', positionExpandColumn = 'first', positionGlobalFilter = 'right', positionPagination = 'bottom', positionToolbarAlertBanner = 'top', positionToolbarDropZone = 'top', rowNumberDisplayMode = 'static', rowPinningDisplayMode = 'sticky', selectAllMode = 'page', sortingFns } = _a, rest = __rest(_a, [\"aggregationFns\", \"autoResetExpanded\", \"columnFilterDisplayMode\", \"columnResizeMode\", \"createDisplayMode\", \"defaultColumn\", \"defaultDisplayColumn\", \"editDisplayMode\", \"enableBottomToolbar\", \"enableColumnActions\", \"enableColumnFilters\", \"enableColumnOrdering\", \"enableColumnPinning\", \"enableColumnResizing\", \"enableDensityToggle\", \"enableExpandAll\", \"enableExpanding\", \"enableFilterMatchHighlighting\", \"enableFilters\", \"enableFullScreenToggle\", \"enableGlobalFilter\", \"enableGlobalFilterRankedResults\", \"enableGrouping\", \"enableHiding\", \"enableMultiRowSelection\", \"enableMultiSort\", \"enablePagination\", \"enableRowPinning\", \"enableRowSelection\", \"enableSelectAll\", \"enableSorting\", \"enableStickyHeader\", \"enableTableFooter\", \"enableTableHead\", \"enableToolbarInternalActions\", \"enableTopToolbar\", \"filterFns\", \"icons\", \"layoutMode\", \"localization\", \"manualFiltering\", \"manualGrouping\", \"manualPagination\", \"manualSorting\", \"paginationDisplayMode\", \"positionActionsColumn\", \"positionExpandColumn\", \"positionGlobalFilter\", \"positionPagination\", \"positionToolbarAlertBanner\", \"positionToolbarDropZone\", \"rowNumberDisplayMode\", \"rowPinningDisplayMode\", \"selectAllMode\", \"sortingFns\"]);\n    const _icons = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => (Object.assign(Object.assign({}, MRT_Default_Icons), icons)), [icons]);\n    const _localization = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => (Object.assign(Object.assign({}, MRT_Localization_EN), localization)), [localization]);\n    const _aggregationFns = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => (Object.assign(Object.assign({}, MRT_AggregationFns), aggregationFns)), []);\n    const _filterFns = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => (Object.assign(Object.assign({}, MRT_FilterFns), filterFns)), []);\n    const _sortingFns = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => (Object.assign(Object.assign({}, MRT_SortingFns), sortingFns)), []);\n    const _defaultColumn = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => (Object.assign(Object.assign({}, MRT_DefaultColumn), defaultColumn)), [defaultColumn]);\n    const _defaultDisplayColumn = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => (Object.assign(Object.assign({}, MRT_DefaultDisplayColumn), defaultDisplayColumn)), [defaultDisplayColumn]);\n    layoutMode =\n        layoutMode || (enableColumnResizing ? 'grid-no-grow' : 'semantic');\n    if (layoutMode === 'semantic' &&\n        (rest.enableRowVirtualization || rest.enableColumnVirtualization)) {\n        layoutMode = 'grid';\n    }\n    if (rest.enableRowVirtualization) {\n        enableStickyHeader = true;\n    }\n    if (enablePagination === false && manualPagination === undefined) {\n        manualPagination = true;\n    }\n    if (!((_b = rest.data) === null || _b === void 0 ? void 0 : _b.length)) {\n        manualFiltering = true;\n        manualGrouping = true;\n        manualPagination = true;\n        manualSorting = true;\n    }\n    return Object.assign({ aggregationFns: _aggregationFns, autoResetExpanded,\n        columnFilterDisplayMode,\n        columnResizeMode,\n        createDisplayMode, defaultColumn: _defaultColumn, defaultDisplayColumn: _defaultDisplayColumn, editDisplayMode,\n        enableBottomToolbar,\n        enableColumnActions,\n        enableColumnFilters,\n        enableColumnOrdering,\n        enableColumnPinning,\n        enableColumnResizing,\n        enableDensityToggle,\n        enableExpandAll,\n        enableExpanding,\n        enableFilterMatchHighlighting,\n        enableFilters,\n        enableFullScreenToggle,\n        enableGlobalFilter,\n        enableGlobalFilterRankedResults,\n        enableGrouping,\n        enableHiding,\n        enableMultiRowSelection,\n        enableMultiSort,\n        enablePagination,\n        enableRowPinning,\n        enableRowSelection,\n        enableSelectAll,\n        enableSorting,\n        enableStickyHeader,\n        enableTableFooter,\n        enableTableHead,\n        enableToolbarInternalActions,\n        enableTopToolbar, filterFns: _filterFns, icons: _icons, layoutMode, localization: _localization, manualFiltering,\n        manualGrouping,\n        manualPagination,\n        manualSorting,\n        paginationDisplayMode,\n        positionActionsColumn,\n        positionExpandColumn,\n        positionGlobalFilter,\n        positionPagination,\n        positionToolbarAlertBanner,\n        positionToolbarDropZone,\n        rowNumberDisplayMode,\n        rowPinningDisplayMode,\n        selectAllMode, sortingFns: _sortingFns }, rest);\n};\n\nconst blankColProps = {\n    children: null,\n    sx: {\n        flex: '1 0 auto',\n        minWidth: 0,\n        p: 0,\n        width: 0,\n    },\n};\nconst useMRT_DisplayColumns = ({ columnOrder, creatingRow, grouping, tableOptions, }) => {\n    var _a, _b;\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y;\n        return [\n            ((_b = (_a = tableOptions.state) === null || _a === void 0 ? void 0 : _a.columnOrder) !== null && _b !== void 0 ? _b : columnOrder).includes('mrt-row-pin') && Object.assign(Object.assign({ Cell: ({ row, table }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableBodyRowPinButton, { row: row, table: table })), header: tableOptions.localization.pin, size: 60 }, (_c = tableOptions.displayColumnDefOptions) === null || _c === void 0 ? void 0 : _c['mrt-row-pin']), { columnDefType: 'display', id: 'mrt-row-pin' }),\n            ((_e = (_d = tableOptions.state) === null || _d === void 0 ? void 0 : _d.columnOrder) !== null && _e !== void 0 ? _e : columnOrder).includes('mrt-row-drag') && Object.assign(Object.assign({ Cell: ({ row, rowRef, table }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TableBodyRowGrabHandle, { row: row, rowRef: rowRef, table: table })), header: tableOptions.localization.move, size: 60 }, (_f = tableOptions.displayColumnDefOptions) === null || _f === void 0 ? void 0 : _f['mrt-row-drag']), { columnDefType: 'display', id: 'mrt-row-drag' }),\n            (((_h = (_g = tableOptions.state) === null || _g === void 0 ? void 0 : _g.columnOrder) !== null && _h !== void 0 ? _h : columnOrder).includes('mrt-row-actions') ||\n                (creatingRow && tableOptions.createDisplayMode === 'row')) && Object.assign(Object.assign({ Cell: ({ cell, row, table }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_ToggleRowActionMenuButton, { cell: cell, row: row, table: table })), header: tableOptions.localization.actions, size: 70 }, (_j = tableOptions.displayColumnDefOptions) === null || _j === void 0 ? void 0 : _j['mrt-row-actions']), { columnDefType: 'display', id: 'mrt-row-actions' }),\n            ((_l = (_k = tableOptions.state) === null || _k === void 0 ? void 0 : _k.columnOrder) !== null && _l !== void 0 ? _l : columnOrder).includes('mrt-row-expand') &&\n                showExpandColumn(tableOptions, (_o = (_m = tableOptions.state) === null || _m === void 0 ? void 0 : _m.grouping) !== null && _o !== void 0 ? _o : grouping) && Object.assign(Object.assign({ Cell: ({ row, table }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_ExpandButton, { row: row, table: table })), Header: tableOptions.enableExpandAll\n                    ? ({ table }) => (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_ExpandAllButton, { table: table })\n                    : null, header: tableOptions.localization.expand, size: 60 }, (_p = tableOptions.displayColumnDefOptions) === null || _p === void 0 ? void 0 : _p['mrt-row-expand']), { columnDefType: 'display', id: 'mrt-row-expand' }),\n            ((_r = (_q = tableOptions.state) === null || _q === void 0 ? void 0 : _q.columnOrder) !== null && _r !== void 0 ? _r : columnOrder).includes('mrt-row-select') && Object.assign(Object.assign({ Cell: ({ row, table }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_SelectCheckbox, { row: row, table: table })), Header: tableOptions.enableSelectAll &&\n                    tableOptions.enableMultiRowSelection\n                    ? ({ table }) => (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_SelectCheckbox, { selectAll: true, table: table })\n                    : null, header: tableOptions.localization.select, size: 60 }, (_s = tableOptions.displayColumnDefOptions) === null || _s === void 0 ? void 0 : _s['mrt-row-select']), { columnDefType: 'display', id: 'mrt-row-select' }),\n            ((_u = (_t = tableOptions.state) === null || _t === void 0 ? void 0 : _t.columnOrder) !== null && _u !== void 0 ? _u : columnOrder).includes('mrt-row-numbers') && Object.assign(Object.assign({ Cell: ({ row }) => row.index + 1, Header: () => tableOptions.localization.rowNumber, header: tableOptions.localization.rowNumbers, size: 60 }, (_v = tableOptions.displayColumnDefOptions) === null || _v === void 0 ? void 0 : _v['mrt-row-numbers']), { columnDefType: 'display', id: 'mrt-row-numbers' }),\n            ((_x = (_w = tableOptions.state) === null || _w === void 0 ? void 0 : _w.columnOrder) !== null && _x !== void 0 ? _x : columnOrder).includes('mrt-row-spacer') && Object.assign(Object.assign(Object.assign({}, (_y = tableOptions.displayColumnDefOptions) === null || _y === void 0 ? void 0 : _y['mrt-row-spacer']), MRT_DefaultDisplayColumn), { columnDefType: 'display', header: '', id: 'mrt-row-spacer', muiTableBodyCellProps: blankColProps, muiTableFooterCellProps: blankColProps, muiTableHeadCellProps: blankColProps }),\n        ].filter(Boolean);\n    }, [\n        columnOrder,\n        grouping,\n        tableOptions.displayColumnDefOptions,\n        tableOptions.editDisplayMode,\n        tableOptions.enableColumnDragging,\n        tableOptions.enableColumnFilterModes,\n        tableOptions.enableColumnOrdering,\n        tableOptions.enableEditing,\n        tableOptions.enableExpandAll,\n        tableOptions.enableExpanding,\n        tableOptions.enableGrouping,\n        tableOptions.enableRowActions,\n        tableOptions.enableRowDragging,\n        tableOptions.enableRowNumbers,\n        tableOptions.enableRowOrdering,\n        tableOptions.enableRowSelection,\n        tableOptions.enableSelectAll,\n        tableOptions.localization,\n        tableOptions.positionActionsColumn,\n        tableOptions.renderDetailPanel,\n        tableOptions.renderRowActionMenuItems,\n        tableOptions.renderRowActions,\n        (_a = tableOptions.state) === null || _a === void 0 ? void 0 : _a.columnOrder,\n        (_b = tableOptions.state) === null || _b === void 0 ? void 0 : _b.grouping,\n    ]);\n};\n\nconst useMRT_Effects = (table) => {\n    const { getIsSomeRowsPinned, getState, options: { enablePagination, enableRowPinning, rowCount }, } = table;\n    const { density, globalFilter, isFullScreen, isLoading, pagination, showSkeletons, sorting, } = getState();\n    const rerender = (0,react__WEBPACK_IMPORTED_MODULE_1__.useReducer)(() => ({}), {})[1];\n    const isMounted = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const initialBodyHeight = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const previousTop = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        if (typeof window !== 'undefined') {\n            initialBodyHeight.current = document.body.style.height;\n        }\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        if (isMounted && typeof window !== 'undefined') {\n            if (isFullScreen) {\n                previousTop.current = document.body.getBoundingClientRect().top; //save scroll position\n                document.body.style.height = '100vh'; //hide page scrollbars when table is in full screen mode\n            }\n            else {\n                document.body.style.height = initialBodyHeight.current;\n                if (!previousTop.current)\n                    return;\n                //restore scroll position\n                window.scrollTo({\n                    behavior: 'instant',\n                    top: -1 * previousTop.current,\n                });\n            }\n        }\n        isMounted.current = true;\n    }, [isFullScreen]);\n    //if page index is out of bounds, set it to the last page\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        if (!enablePagination || isLoading || showSkeletons)\n            return;\n        const { pageIndex, pageSize } = pagination;\n        const totalRowCount = rowCount !== null && rowCount !== void 0 ? rowCount : table.getPrePaginationRowModel().rows.length;\n        const firstVisibleRowIndex = pageIndex * pageSize;\n        if (firstVisibleRowIndex > totalRowCount) {\n            table.setPageIndex(Math.floor(totalRowCount / pageSize));\n        }\n    }, [rowCount, table.getPrePaginationRowModel().rows.length]);\n    //turn off sort when global filter is looking for ranked results\n    const appliedSort = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(sorting);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        if (sorting.length) {\n            appliedSort.current = sorting;\n        }\n    }, [sorting]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        if (!getCanRankRows(table))\n            return;\n        if (globalFilter) {\n            table.setSorting([]);\n        }\n        else {\n            table.setSorting(() => appliedSort.current || []);\n        }\n    }, [globalFilter]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        if (enableRowPinning && getIsSomeRowsPinned()) {\n            setTimeout(() => {\n                rerender();\n            }, 150);\n        }\n    }, [density]);\n};\n\nconst useMRT_TableInstance = (tableOptions) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10;\n    const bottomToolbarRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const editInputRefs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    const filterInputRefs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    const searchInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const tableContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const tableHeadCellRefs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    const tablePaperRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const topToolbarRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const tableHeadRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const tableFooterRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const initialState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n        var _a, _b, _c;\n        const initState = (_a = tableOptions.initialState) !== null && _a !== void 0 ? _a : {};\n        initState.columnOrder =\n            (_b = initState.columnOrder) !== null && _b !== void 0 ? _b : getDefaultColumnOrderIds(tableOptions);\n        initState.globalFilterFn = (_c = tableOptions.globalFilterFn) !== null && _c !== void 0 ? _c : 'fuzzy';\n        return initState;\n    }, []);\n    const [creatingRow, _setCreatingRow] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((_a = initialState.creatingRow) !== null && _a !== void 0 ? _a : null);\n    const [columnFilterFns, setColumnFilterFns] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => Object.assign({}, ...getAllLeafColumnDefs(tableOptions.columns).map((col) => {\n        var _a, _b, _c, _d;\n        return ({\n            [getColumnId(col)]: col.filterFn instanceof Function\n                ? (_a = col.filterFn.name) !== null && _a !== void 0 ? _a : 'custom'\n                : (_d = (_b = col.filterFn) !== null && _b !== void 0 ? _b : (_c = initialState === null || initialState === void 0 ? void 0 : initialState.columnFilterFns) === null || _c === void 0 ? void 0 : _c[getColumnId(col)]) !== null && _d !== void 0 ? _d : getDefaultColumnFilterFn(col),\n        });\n    })));\n    const [columnOrder, setColumnOrder] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((_b = initialState.columnOrder) !== null && _b !== void 0 ? _b : []);\n    const [density, setDensity] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((_c = initialState === null || initialState === void 0 ? void 0 : initialState.density) !== null && _c !== void 0 ? _c : 'comfortable');\n    const [draggingColumn, setDraggingColumn] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((_d = initialState.draggingColumn) !== null && _d !== void 0 ? _d : null);\n    const [draggingRow, setDraggingRow] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((_e = initialState.draggingRow) !== null && _e !== void 0 ? _e : null);\n    const [editingCell, setEditingCell] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((_f = initialState.editingCell) !== null && _f !== void 0 ? _f : null);\n    const [editingRow, setEditingRow] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((_g = initialState.editingRow) !== null && _g !== void 0 ? _g : null);\n    const [globalFilterFn, setGlobalFilterFn] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((_h = initialState.globalFilterFn) !== null && _h !== void 0 ? _h : 'fuzzy');\n    const [grouping, setGrouping] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((_j = initialState.grouping) !== null && _j !== void 0 ? _j : []);\n    const [hoveredColumn, setHoveredColumn] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((_k = initialState.hoveredColumn) !== null && _k !== void 0 ? _k : null);\n    const [hoveredRow, setHoveredRow] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((_l = initialState.hoveredRow) !== null && _l !== void 0 ? _l : null);\n    const [isFullScreen, setIsFullScreen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((_m = initialState === null || initialState === void 0 ? void 0 : initialState.isFullScreen) !== null && _m !== void 0 ? _m : false);\n    const [showAlertBanner, setShowAlertBanner] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((_p = (_o = tableOptions.initialState) === null || _o === void 0 ? void 0 : _o.showAlertBanner) !== null && _p !== void 0 ? _p : false);\n    const [showColumnFilters, setShowColumnFilters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((_q = initialState === null || initialState === void 0 ? void 0 : initialState.showColumnFilters) !== null && _q !== void 0 ? _q : false);\n    const [showGlobalFilter, setShowGlobalFilter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((_r = initialState === null || initialState === void 0 ? void 0 : initialState.showGlobalFilter) !== null && _r !== void 0 ? _r : false);\n    const [showToolbarDropZone, setShowToolbarDropZone] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((_s = initialState === null || initialState === void 0 ? void 0 : initialState.showToolbarDropZone) !== null && _s !== void 0 ? _s : false);\n    const displayColumns = useMRT_DisplayColumns({\n        columnOrder,\n        creatingRow,\n        grouping,\n        tableOptions,\n    });\n    const columnDefs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n        var _a, _b, _c;\n        return prepareColumns({\n            aggregationFns: tableOptions.aggregationFns,\n            columnDefs: [...displayColumns, ...tableOptions.columns],\n            columnFilterFns: (_b = (_a = tableOptions.state) === null || _a === void 0 ? void 0 : _a.columnFilterFns) !== null && _b !== void 0 ? _b : columnFilterFns,\n            defaultDisplayColumn: (_c = tableOptions.defaultDisplayColumn) !== null && _c !== void 0 ? _c : {},\n            filterFns: tableOptions.filterFns,\n            sortingFns: tableOptions.sortingFns,\n        });\n    }, [\n        columnFilterFns,\n        displayColumns,\n        tableOptions.columns,\n        (_t = tableOptions.state) === null || _t === void 0 ? void 0 : _t.columnFilterFns,\n    ]);\n    const data = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n        var _a, _b, _c, _d, _e;\n        return (((_a = tableOptions.state) === null || _a === void 0 ? void 0 : _a.isLoading) || ((_b = tableOptions.state) === null || _b === void 0 ? void 0 : _b.showSkeletons)) &&\n            !tableOptions.data.length\n            ? [\n                ...Array(((_d = (_c = tableOptions.state) === null || _c === void 0 ? void 0 : _c.pagination) === null || _d === void 0 ? void 0 : _d.pageSize) ||\n                    ((_e = initialState === null || initialState === void 0 ? void 0 : initialState.pagination) === null || _e === void 0 ? void 0 : _e.pageSize) ||\n                    10).fill(null),\n            ].map(() => Object.assign({}, ...getAllLeafColumnDefs(tableOptions.columns).map((col) => ({\n                [getColumnId(col)]: null,\n            }))))\n            : tableOptions.data;\n    }, [\n        tableOptions.data,\n        (_u = tableOptions.state) === null || _u === void 0 ? void 0 : _u.isLoading,\n        (_v = tableOptions.state) === null || _v === void 0 ? void 0 : _v.showSkeletons,\n    ]);\n    //@ts-ignore\n    const table = (0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_3__.useReactTable)(Object.assign(Object.assign({ getCoreRowModel: (0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_4__.getCoreRowModel)(), getExpandedRowModel: tableOptions.enableExpanding || tableOptions.enableGrouping\n            ? (0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_4__.getExpandedRowModel)()\n            : undefined, getFacetedMinMaxValues: tableOptions.enableFacetedValues\n            ? (0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_4__.getFacetedMinMaxValues)()\n            : undefined, getFacetedRowModel: tableOptions.enableFacetedValues\n            ? (0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_4__.getFacetedRowModel)()\n            : undefined, getFacetedUniqueValues: tableOptions.enableFacetedValues\n            ? (0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_4__.getFacetedUniqueValues)()\n            : undefined, getFilteredRowModel: tableOptions.enableColumnFilters ||\n            tableOptions.enableGlobalFilter ||\n            tableOptions.enableFilters\n            ? (0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_4__.getFilteredRowModel)()\n            : undefined, getGroupedRowModel: tableOptions.enableGrouping\n            ? (0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_4__.getGroupedRowModel)()\n            : undefined, getPaginationRowModel: tableOptions.enablePagination\n            ? (0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_4__.getPaginationRowModel)()\n            : undefined, getSortedRowModel: tableOptions.enableSorting\n            ? (0,_tanstack_react_table__WEBPACK_IMPORTED_MODULE_4__.getSortedRowModel)()\n            : undefined, getSubRows: (row) => row === null || row === void 0 ? void 0 : row.subRows, onColumnOrderChange: setColumnOrder, onGroupingChange: setGrouping }, tableOptions), { \n        //@ts-ignore\n        columns: columnDefs, data, globalFilterFn: (_w = tableOptions.filterFns) === null || _w === void 0 ? void 0 : _w[globalFilterFn !== null && globalFilterFn !== void 0 ? globalFilterFn : 'fuzzy'], initialState, state: Object.assign({ columnFilterFns,\n            columnOrder,\n            creatingRow,\n            density,\n            draggingColumn,\n            draggingRow,\n            editingCell,\n            editingRow,\n            globalFilterFn,\n            grouping,\n            hoveredColumn,\n            hoveredRow,\n            isFullScreen,\n            showAlertBanner,\n            showColumnFilters,\n            showGlobalFilter,\n            showToolbarDropZone }, tableOptions.state) }));\n    // @ts-ignore\n    table.refs = {\n        // @ts-ignore\n        bottomToolbarRef,\n        editInputRefs,\n        filterInputRefs,\n        // @ts-ignore\n        searchInputRef,\n        // @ts-ignore\n        tableContainerRef,\n        // @ts-ignore\n        tableFooterRef,\n        tableHeadCellRefs,\n        // @ts-ignore\n        tableHeadRef,\n        // @ts-ignore\n        tablePaperRef,\n        // @ts-ignore\n        topToolbarRef,\n    };\n    const setCreatingRow = (row) => {\n        var _a, _b;\n        let _row = row;\n        if (row === true) {\n            _row = createRow(table);\n        }\n        (_b = (_a = tableOptions === null || tableOptions === void 0 ? void 0 : tableOptions.onCreatingRowChange) === null || _a === void 0 ? void 0 : _a.call(tableOptions, _row)) !== null && _b !== void 0 ? _b : _setCreatingRow(_row);\n    };\n    table.setCreatingRow = setCreatingRow;\n    table.setColumnFilterFns =\n        (_x = tableOptions.onColumnFilterFnsChange) !== null && _x !== void 0 ? _x : setColumnFilterFns;\n    table.setDensity = (_y = tableOptions.onDensityChange) !== null && _y !== void 0 ? _y : setDensity;\n    table.setDraggingColumn =\n        (_z = tableOptions.onDraggingColumnChange) !== null && _z !== void 0 ? _z : setDraggingColumn;\n    table.setDraggingRow = (_0 = tableOptions.onDraggingRowChange) !== null && _0 !== void 0 ? _0 : setDraggingRow;\n    table.setEditingCell = (_1 = tableOptions.onEditingCellChange) !== null && _1 !== void 0 ? _1 : setEditingCell;\n    table.setEditingRow = (_2 = tableOptions.onEditingRowChange) !== null && _2 !== void 0 ? _2 : setEditingRow;\n    table.setGlobalFilterFn =\n        (_3 = tableOptions.onGlobalFilterFnChange) !== null && _3 !== void 0 ? _3 : setGlobalFilterFn;\n    table.setHoveredColumn =\n        (_4 = tableOptions.onHoveredColumnChange) !== null && _4 !== void 0 ? _4 : setHoveredColumn;\n    table.setHoveredRow = (_5 = tableOptions.onHoveredRowChange) !== null && _5 !== void 0 ? _5 : setHoveredRow;\n    table.setIsFullScreen = (_6 = tableOptions.onIsFullScreenChange) !== null && _6 !== void 0 ? _6 : setIsFullScreen;\n    table.setShowAlertBanner =\n        (_7 = tableOptions.onShowAlertBannerChange) !== null && _7 !== void 0 ? _7 : setShowAlertBanner;\n    table.setShowColumnFilters =\n        (_8 = tableOptions.onShowColumnFiltersChange) !== null && _8 !== void 0 ? _8 : setShowColumnFilters;\n    table.setShowGlobalFilter =\n        (_9 = tableOptions.onShowGlobalFilterChange) !== null && _9 !== void 0 ? _9 : setShowGlobalFilter;\n    table.setShowToolbarDropZone =\n        (_10 = tableOptions.onShowToolbarDropZoneChange) !== null && _10 !== void 0 ? _10 : setShowToolbarDropZone;\n    useMRT_Effects(table);\n    return table;\n};\n\nconst useMaterialReactTable = (tableOptions) => useMRT_TableInstance(useMRT_TableOptions(tableOptions));\n\nconst isTableInstanceProp = (props) => props.table !== undefined;\nconst MaterialReactTable = (props) => {\n    let table;\n    if (isTableInstanceProp(props)) {\n        table = props.table;\n    }\n    else {\n        table = useMaterialReactTable(props);\n    }\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MRT_TablePaper, { table: table });\n};\n\n\n//# sourceMappingURL=index.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbWF0ZXJpYWwtcmVhY3QtdGFibGUvZGlzdC9pbmRleC5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3RDtBQUNoQjtBQUM2RjtBQUMzRTtBQUNzQjtBQUN4QztBQUNRO0FBQ0U7QUFDSjtBQUMwQjtBQUMxQjtBQUNFO0FBQ1o7QUFDNFM7QUFDblM7QUFDSztBQUNOO0FBQ0Y7QUFDSTtBQUNFO0FBQ0Y7QUFDa0M7QUFDNUI7QUFDSjtBQUNDO0FBQ0s7QUFDaEI7QUFDUTtBQUNnQjtBQUNSO0FBQ2hCO0FBQ29CO0FBQ1g7QUFDYTtBQUNGO0FBQ2hCO0FBQ0Y7QUFDRjtBQUNNO0FBQ0E7QUFDSjtBQUNrQjtBQUNGO0FBQ0U7QUFDUjtBQUNBO0FBQ1E7QUFDaEI7QUFDRjtBQUNVO0FBQ1Y7QUFDRjtBQUNJO0FBQ29CO0FBQ3BCO0FBQ2M7QUFDQTtBQUNKO0FBQ2M7QUFDTjtBQUNSO0FBQ1U7QUFDRTtBQUNSO0FBQ047QUFDYztBQUNFO0FBQ0Y7QUFDSjtBQUNFO0FBQ2Q7QUFDWTtBQUNGO0FBQ0U7QUFDTTtBQUNSO0FBQ0U7QUFDUTtBQUNrQjtBQUM5QjtBQUNFO0FBQ0Y7QUFDRjtBQUNNO0FBQ1o7QUFDSTtBQUNNO0FBQ1Y7QUFDTTtBQUNNO0FBQ007O0FBRWxFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QTtBQUNBO0FBQ0EsV0FBVyxzREFBRyxtQkFBbUIsY0FBYztBQUMvQzs7QUFFc25FO0FBQ3RuRSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vbm9kZV9tb2R1bGVzL21hdGVyaWFsLXJlYWN0LXRhYmxlL2Rpc3QvaW5kZXguZXNtLmpzPzAxZDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganN4LCBGcmFnbWVudCwganN4cyB9IGZyb20gJ3JlYWN0L2pzeC1ydW50aW1lJztcbmltcG9ydCBQYXBlciBmcm9tICdAbXVpL21hdGVyaWFsL1BhcGVyJztcbmltcG9ydCB7IHVzZVN0YXRlLCBtZW1vLCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiwgdXNlQ2FsbGJhY2ssIEZyYWdtZW50IGFzIEZyYWdtZW50JDEsIHVzZUxheW91dEVmZmVjdCwgdXNlUmVkdWNlciB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBUYWJsZUNvbnRhaW5lciBmcm9tICdAbXVpL21hdGVyaWFsL1RhYmxlQ29udGFpbmVyJztcbmltcG9ydCB7IGRlZmF1bHRSYW5nZUV4dHJhY3RvciwgdXNlVmlydHVhbGl6ZXIgfSBmcm9tICdAdGFuc3RhY2svcmVhY3QtdmlydHVhbCc7XG5pbXBvcnQgVGFibGUgZnJvbSAnQG11aS9tYXRlcmlhbC9UYWJsZSc7XG5pbXBvcnQgVGFibGVCb2R5IGZyb20gJ0BtdWkvbWF0ZXJpYWwvVGFibGVCb2R5JztcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJ0BtdWkvbWF0ZXJpYWwvVHlwb2dyYXBoeSc7XG5pbXBvcnQgVGFibGVSb3cgZnJvbSAnQG11aS9tYXRlcmlhbC9UYWJsZVJvdyc7XG5pbXBvcnQgeyBsaWdodGVuLCBkYXJrZW4sIGFscGhhLCB1c2VUaGVtZSB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwvc3R5bGVzJztcbmltcG9ydCBTa2VsZXRvbiBmcm9tICdAbXVpL21hdGVyaWFsL1NrZWxldG9uJztcbmltcG9ydCBUYWJsZUNlbGwgZnJvbSAnQG11aS9tYXRlcmlhbC9UYWJsZUNlbGwnO1xuaW1wb3J0IEJveCBmcm9tICdAbXVpL21hdGVyaWFsL0JveCc7XG5pbXBvcnQgeyBmbGV4UmVuZGVyIGFzIGZsZXhSZW5kZXIkMSwgY3JlYXRlUm93IGFzIGNyZWF0ZVJvdyQxLCBzb3J0aW5nRm5zLCBhZ2dyZWdhdGlvbkZucywgZmlsdGVyRm5zLCB1c2VSZWFjdFRhYmxlLCBnZXRDb3JlUm93TW9kZWwsIGdldEV4cGFuZGVkUm93TW9kZWwsIGdldEZhY2V0ZWRNaW5NYXhWYWx1ZXMsIGdldEZhY2V0ZWRSb3dNb2RlbCwgZ2V0RmFjZXRlZFVuaXF1ZVZhbHVlcywgZ2V0RmlsdGVyZWRSb3dNb2RlbCwgZ2V0R3JvdXBlZFJvd01vZGVsLCBnZXRQYWdpbmF0aW9uUm93TW9kZWwsIGdldFNvcnRlZFJvd01vZGVsIH0gZnJvbSAnQHRhbnN0YWNrL3JlYWN0LXRhYmxlJztcbmltcG9ydCBoaWdobGlnaHRXb3JkcyBmcm9tICdoaWdobGlnaHQtd29yZHMnO1xuaW1wb3J0IEljb25CdXR0b24gZnJvbSAnQG11aS9tYXRlcmlhbC9JY29uQnV0dG9uJztcbmltcG9ydCBUb29sdGlwIGZyb20gJ0BtdWkvbWF0ZXJpYWwvVG9vbHRpcCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ0BtdWkvbWF0ZXJpYWwvQnV0dG9uJztcbmltcG9ydCBNZW51SXRlbSBmcm9tICdAbXVpL21hdGVyaWFsL01lbnVJdGVtJztcbmltcG9ydCBUZXh0RmllbGQgZnJvbSAnQG11aS9tYXRlcmlhbC9UZXh0RmllbGQnO1xuaW1wb3J0IENvbGxhcHNlIGZyb20gJ0BtdWkvbWF0ZXJpYWwvQ29sbGFwc2UnO1xuaW1wb3J0IHsgY29tcGFyZUl0ZW1zLCByYW5rSXRlbSwgcmFua2luZ3MgfSBmcm9tICdAdGFuc3RhY2svbWF0Y2gtc29ydGVyLXV0aWxzJztcbmltcG9ydCBUYWJsZUZvb3RlciBmcm9tICdAbXVpL21hdGVyaWFsL1RhYmxlRm9vdGVyJztcbmltcG9ydCBUYWJsZUhlYWQgZnJvbSAnQG11aS9tYXRlcmlhbC9UYWJsZUhlYWQnO1xuaW1wb3J0IHsgYWxwaGEgYXMgYWxwaGEkMSB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwnO1xuaW1wb3J0IExpc3RJdGVtSWNvbiBmcm9tICdAbXVpL21hdGVyaWFsL0xpc3RJdGVtSWNvbic7XG5pbXBvcnQgTWVudSBmcm9tICdAbXVpL21hdGVyaWFsL01lbnUnO1xuaW1wb3J0IENoZWNrYm94IGZyb20gJ0BtdWkvbWF0ZXJpYWwvQ2hlY2tib3gnO1xuaW1wb3J0IEZvcm1Db250cm9sTGFiZWwgZnJvbSAnQG11aS9tYXRlcmlhbC9Gb3JtQ29udHJvbExhYmVsJztcbmltcG9ydCBBdXRvY29tcGxldGUgZnJvbSAnQG11aS9tYXRlcmlhbC9BdXRvY29tcGxldGUnO1xuaW1wb3J0IENoaXAgZnJvbSAnQG11aS9tYXRlcmlhbC9DaGlwJztcbmltcG9ydCBJbnB1dEFkb3JubWVudCBmcm9tICdAbXVpL21hdGVyaWFsL0lucHV0QWRvcm5tZW50JztcbmltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSAnQG11aS9tYXRlcmlhbC91dGlscyc7XG5pbXBvcnQgeyBEYXRlUGlja2VyIH0gZnJvbSAnQG11aS94LWRhdGUtcGlja2Vycy9EYXRlUGlja2VyJztcbmltcG9ydCBGb3JtSGVscGVyVGV4dCBmcm9tICdAbXVpL21hdGVyaWFsL0Zvcm1IZWxwZXJUZXh0JztcbmltcG9ydCBTbGlkZXIgZnJvbSAnQG11aS9tYXRlcmlhbC9TbGlkZXInO1xuaW1wb3J0IFN0YWNrIGZyb20gJ0BtdWkvbWF0ZXJpYWwvU3RhY2snO1xuaW1wb3J0IEdyb3cgZnJvbSAnQG11aS9tYXRlcmlhbC9Hcm93JztcbmltcG9ydCBQb3BvdmVyIGZyb20gJ0BtdWkvbWF0ZXJpYWwvUG9wb3Zlcic7XG5pbXBvcnQgRGl2aWRlciBmcm9tICdAbXVpL21hdGVyaWFsL0RpdmlkZXInO1xuaW1wb3J0IEJhZGdlIGZyb20gJ0BtdWkvbWF0ZXJpYWwvQmFkZ2UnO1xuaW1wb3J0IFRhYmxlU29ydExhYmVsIGZyb20gJ0BtdWkvbWF0ZXJpYWwvVGFibGVTb3J0TGFiZWwnO1xuaW1wb3J0IHVzZU1lZGlhUXVlcnkgZnJvbSAnQG11aS9tYXRlcmlhbC91c2VNZWRpYVF1ZXJ5JztcbmltcG9ydCBMaW5lYXJQcm9ncmVzcyBmcm9tICdAbXVpL21hdGVyaWFsL0xpbmVhclByb2dyZXNzJztcbmltcG9ydCBJbnB1dExhYmVsIGZyb20gJ0BtdWkvbWF0ZXJpYWwvSW5wdXRMYWJlbCc7XG5pbXBvcnQgUGFnaW5hdGlvbiBmcm9tICdAbXVpL21hdGVyaWFsL1BhZ2luYXRpb24nO1xuaW1wb3J0IFBhZ2luYXRpb25JdGVtIGZyb20gJ0BtdWkvbWF0ZXJpYWwvUGFnaW5hdGlvbkl0ZW0nO1xuaW1wb3J0IFNlbGVjdCBmcm9tICdAbXVpL21hdGVyaWFsL1NlbGVjdCc7XG5pbXBvcnQgQWxlcnQgZnJvbSAnQG11aS9tYXRlcmlhbC9BbGVydCc7XG5pbXBvcnQgQWxlcnRUaXRsZSBmcm9tICdAbXVpL21hdGVyaWFsL0FsZXJ0VGl0bGUnO1xuaW1wb3J0IFJhZGlvIGZyb20gJ0BtdWkvbWF0ZXJpYWwvUmFkaW8nO1xuaW1wb3J0IEZhZGUgZnJvbSAnQG11aS9tYXRlcmlhbC9GYWRlJztcbmltcG9ydCBTd2l0Y2ggZnJvbSAnQG11aS9tYXRlcmlhbC9Td2l0Y2gnO1xuaW1wb3J0IENpcmN1bGFyUHJvZ3Jlc3MgZnJvbSAnQG11aS9tYXRlcmlhbC9DaXJjdWxhclByb2dyZXNzJztcbmltcG9ydCBEaWFsb2cgZnJvbSAnQG11aS9tYXRlcmlhbC9EaWFsb2cnO1xuaW1wb3J0IERpYWxvZ0FjdGlvbnMgZnJvbSAnQG11aS9tYXRlcmlhbC9EaWFsb2dBY3Rpb25zJztcbmltcG9ydCBEaWFsb2dDb250ZW50IGZyb20gJ0BtdWkvbWF0ZXJpYWwvRGlhbG9nQ29udGVudCc7XG5pbXBvcnQgRGlhbG9nVGl0bGUgZnJvbSAnQG11aS9tYXRlcmlhbC9EaWFsb2dUaXRsZSc7XG5pbXBvcnQgQXJyb3dEb3dud2FyZEljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9BcnJvd0Rvd253YXJkJztcbmltcG9ydCBBcnJvd1JpZ2h0SWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0Fycm93UmlnaHQnO1xuaW1wb3J0IENhbmNlbEljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9DYW5jZWwnO1xuaW1wb3J0IENoZXZyb25MZWZ0SWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0NoZXZyb25MZWZ0JztcbmltcG9ydCBDaGV2cm9uUmlnaHRJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQ2hldnJvblJpZ2h0JztcbmltcG9ydCBDbGVhckFsbEljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9DbGVhckFsbCc7XG5pbXBvcnQgQ2xvc2VJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQ2xvc2UnO1xuaW1wb3J0IERlbnNpdHlMYXJnZUljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9EZW5zaXR5TGFyZ2UnO1xuaW1wb3J0IERlbnNpdHlNZWRpdW1JY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvRGVuc2l0eU1lZGl1bSc7XG5pbXBvcnQgRGVuc2l0eVNtYWxsSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0RlbnNpdHlTbWFsbCc7XG5pbXBvcnQgRHJhZ0hhbmRsZUljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9EcmFnSGFuZGxlJztcbmltcG9ydCBEeW5hbWljRmVlZEljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9EeW5hbWljRmVlZCc7XG5pbXBvcnQgRWRpdEljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9FZGl0JztcbmltcG9ydCBFeHBhbmRNb3JlSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0V4cGFuZE1vcmUnO1xuaW1wb3J0IEZpbHRlckFsdEljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9GaWx0ZXJBbHQnO1xuaW1wb3J0IEZpbHRlckxpc3RJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvRmlsdGVyTGlzdCc7XG5pbXBvcnQgRmlsdGVyTGlzdE9mZkljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9GaWx0ZXJMaXN0T2ZmJztcbmltcG9ydCBGaXJzdFBhZ2VJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvRmlyc3RQYWdlJztcbmltcG9ydCBGdWxsc2NyZWVuSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0Z1bGxzY3JlZW4nO1xuaW1wb3J0IEZ1bGxzY3JlZW5FeGl0SWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0Z1bGxzY3JlZW5FeGl0JztcbmltcG9ydCBLZXlib2FyZERvdWJsZUFycm93RG93bkljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9LZXlib2FyZERvdWJsZUFycm93RG93bic7XG5pbXBvcnQgTGFzdFBhZ2VJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvTGFzdFBhZ2UnO1xuaW1wb3J0IE1vcmVIb3Jpekljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9Nb3JlSG9yaXonO1xuaW1wb3J0IE1vcmVWZXJ0SWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL01vcmVWZXJ0JztcbmltcG9ydCBQdXNoUGluSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL1B1c2hQaW4nO1xuaW1wb3J0IFJlc3RhcnRBbHRJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvUmVzdGFydEFsdCc7XG5pbXBvcnQgU2F2ZUljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9TYXZlJztcbmltcG9ydCBTZWFyY2hJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvU2VhcmNoJztcbmltcG9ydCBTZWFyY2hPZmZJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvU2VhcmNoT2ZmJztcbmltcG9ydCBTb3J0SWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL1NvcnQnO1xuaW1wb3J0IFN5bmNBbHRJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvU3luY0FsdCc7XG5pbXBvcnQgVmlld0NvbHVtbkljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9WaWV3Q29sdW1uJztcbmltcG9ydCBWaXNpYmlsaXR5T2ZmSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL1Zpc2liaWxpdHlPZmYnO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbmZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxudHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24gKGVycm9yLCBzdXBwcmVzc2VkLCBtZXNzYWdlKSB7XHJcbiAgICB2YXIgZSA9IG5ldyBFcnJvcihtZXNzYWdlKTtcclxuICAgIHJldHVybiBlLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBlLmVycm9yID0gZXJyb3IsIGUuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQsIGU7XHJcbn07XG5cbmNvbnN0IGdldENvbHVtbklkID0gKGNvbHVtbkRlZikgPT4geyB2YXIgX2EsIF9iLCBfYywgX2Q7IHJldHVybiAoX2QgPSAoX2EgPSBjb2x1bW5EZWYuaWQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IChfYyA9IChfYiA9IGNvbHVtbkRlZi5hY2Nlc3NvcktleSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnRvU3RyaW5nKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChfYikpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGNvbHVtbkRlZi5oZWFkZXI7IH07XG5jb25zdCBnZXRBbGxMZWFmQ29sdW1uRGVmcyA9IChjb2x1bW5zKSA9PiB7XG4gICAgY29uc3QgYWxsTGVhZkNvbHVtbkRlZnMgPSBbXTtcbiAgICBjb25zdCBnZXRMZWFmQ29sdW1ucyA9IChjb2xzKSA9PiB7XG4gICAgICAgIGNvbHMuZm9yRWFjaCgoY29sKSA9PiB7XG4gICAgICAgICAgICBpZiAoY29sLmNvbHVtbnMpIHtcbiAgICAgICAgICAgICAgICBnZXRMZWFmQ29sdW1ucyhjb2wuY29sdW1ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbGxMZWFmQ29sdW1uRGVmcy5wdXNoKGNvbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgZ2V0TGVhZkNvbHVtbnMoY29sdW1ucyk7XG4gICAgcmV0dXJuIGFsbExlYWZDb2x1bW5EZWZzO1xufTtcbmNvbnN0IHByZXBhcmVDb2x1bW5zID0gKHsgYWdncmVnYXRpb25GbnMsIGNvbHVtbkRlZnMsIGNvbHVtbkZpbHRlckZucywgZGVmYXVsdERpc3BsYXlDb2x1bW4sIGZpbHRlckZucywgc29ydGluZ0ZucywgfSkgPT4gY29sdW1uRGVmcy5tYXAoKGNvbHVtbkRlZikgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgLy9hc3NpZ24gY29sdW1uSWRcbiAgICBpZiAoIWNvbHVtbkRlZi5pZClcbiAgICAgICAgY29sdW1uRGVmLmlkID0gZ2V0Q29sdW1uSWQoY29sdW1uRGVmKTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhY29sdW1uRGVmLmlkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvbHVtbiBkZWZpbml0aW9ucyBtdXN0IGhhdmUgYSB2YWxpZCBgYWNjZXNzb3JLZXlgIG9yIGBpZGAgcHJvcGVydHknKTtcbiAgICB9XG4gICAgLy9hc3NpZ24gY29sdW1uRGVmVHlwZVxuICAgIGlmICghY29sdW1uRGVmLmNvbHVtbkRlZlR5cGUpXG4gICAgICAgIGNvbHVtbkRlZi5jb2x1bW5EZWZUeXBlID0gJ2RhdGEnO1xuICAgIGlmICgoX2EgPSBjb2x1bW5EZWYuY29sdW1ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkge1xuICAgICAgICBjb2x1bW5EZWYuY29sdW1uRGVmVHlwZSA9ICdncm91cCc7XG4gICAgICAgIC8vcmVjdXJzaXZlbHkgcHJlcGFyZSBjb2x1bW5zIGlmIHRoaXMgaXMgYSBncm91cCBjb2x1bW5cbiAgICAgICAgY29sdW1uRGVmLmNvbHVtbnMgPSBwcmVwYXJlQ29sdW1ucyh7XG4gICAgICAgICAgICBhZ2dyZWdhdGlvbkZucyxcbiAgICAgICAgICAgIGNvbHVtbkRlZnM6IGNvbHVtbkRlZi5jb2x1bW5zLFxuICAgICAgICAgICAgY29sdW1uRmlsdGVyRm5zLFxuICAgICAgICAgICAgZGVmYXVsdERpc3BsYXlDb2x1bW4sXG4gICAgICAgICAgICBmaWx0ZXJGbnMsXG4gICAgICAgICAgICBzb3J0aW5nRm5zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29sdW1uRGVmLmNvbHVtbkRlZlR5cGUgPT09ICdkYXRhJykge1xuICAgICAgICAvL2Fzc2lnbiBhZ2dyZWdhdGlvbkZucyBpZiBtdWx0aXBsZSBhZ2dyZWdhdGlvbkZucyBhcmUgcHJvdmlkZWRcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29sdW1uRGVmLmFnZ3JlZ2F0aW9uRm4pKSB7XG4gICAgICAgICAgICBjb25zdCBhZ2dGbnMgPSBjb2x1bW5EZWYuYWdncmVnYXRpb25GbjtcbiAgICAgICAgICAgIGNvbHVtbkRlZi5hZ2dyZWdhdGlvbkZuID0gKGNvbHVtbklkLCBsZWFmUm93cywgY2hpbGRSb3dzKSA9PiBhZ2dGbnMubWFwKChmbikgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBhZ2dyZWdhdGlvbkZuc1tmbl0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGFnZ3JlZ2F0aW9uRm5zLCBjb2x1bW5JZCwgbGVhZlJvd3MsIGNoaWxkUm93cyk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vYXNzaWduIGZpbHRlckZuc1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMoZmlsdGVyRm5zKS5pbmNsdWRlcyhjb2x1bW5GaWx0ZXJGbnNbY29sdW1uRGVmLmlkXSkpIHtcbiAgICAgICAgICAgIGNvbHVtbkRlZi5maWx0ZXJGbiA9XG4gICAgICAgICAgICAgICAgKF9iID0gZmlsdGVyRm5zW2NvbHVtbkZpbHRlckZuc1tjb2x1bW5EZWYuaWRdXSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZmlsdGVyRm5zLmZ1enp5O1xuICAgICAgICAgICAgY29sdW1uRGVmLl9maWx0ZXJGbiA9XG4gICAgICAgICAgICAgICAgY29sdW1uRmlsdGVyRm5zW2NvbHVtbkRlZi5pZF07XG4gICAgICAgIH1cbiAgICAgICAgLy9hc3NpZ24gc29ydGluZ0Zuc1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMoc29ydGluZ0ZucykuaW5jbHVkZXMoY29sdW1uRGVmLnNvcnRpbmdGbikpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbHVtbkRlZi5zb3J0aW5nRm4gPSBzb3J0aW5nRm5zW2NvbHVtbkRlZi5zb3J0aW5nRm5dO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbHVtbkRlZi5jb2x1bW5EZWZUeXBlID09PSAnZGlzcGxheScpIHtcbiAgICAgICAgY29sdW1uRGVmID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0RGlzcGxheUNvbHVtbiksIGNvbHVtbkRlZik7XG4gICAgfVxuICAgIHJldHVybiBjb2x1bW5EZWY7XG59KTtcbmNvbnN0IHJlb3JkZXJDb2x1bW4gPSAoZHJhZ2dlZENvbHVtbiwgdGFyZ2V0Q29sdW1uLCBjb2x1bW5PcmRlcikgPT4ge1xuICAgIGlmIChkcmFnZ2VkQ29sdW1uLmdldENhblBpbigpKSB7XG4gICAgICAgIGRyYWdnZWRDb2x1bW4ucGluKHRhcmdldENvbHVtbi5nZXRJc1Bpbm5lZCgpKTtcbiAgICB9XG4gICAgY29uc3QgbmV3Q29sdW1uT3JkZXIgPSBbLi4uY29sdW1uT3JkZXJdO1xuICAgIG5ld0NvbHVtbk9yZGVyLnNwbGljZShuZXdDb2x1bW5PcmRlci5pbmRleE9mKHRhcmdldENvbHVtbi5pZCksIDAsIG5ld0NvbHVtbk9yZGVyLnNwbGljZShuZXdDb2x1bW5PcmRlci5pbmRleE9mKGRyYWdnZWRDb2x1bW4uaWQpLCAxKVswXSk7XG4gICAgcmV0dXJuIG5ld0NvbHVtbk9yZGVyO1xufTtcbmNvbnN0IHNob3dFeHBhbmRDb2x1bW4gPSAocHJvcHMsIGdyb3VwaW5nKSA9PiAhIShwcm9wcy5lbmFibGVFeHBhbmRpbmcgfHxcbiAgICAocHJvcHMuZW5hYmxlR3JvdXBpbmcgJiYgKGdyb3VwaW5nID09PSB1bmRlZmluZWQgfHwgKGdyb3VwaW5nID09PSBudWxsIHx8IGdyb3VwaW5nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBncm91cGluZy5sZW5ndGgpKSkgfHxcbiAgICBwcm9wcy5yZW5kZXJEZXRhaWxQYW5lbCk7XG5jb25zdCBnZXRMZWFkaW5nRGlzcGxheUNvbHVtbklkcyA9IChwcm9wcykgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgcHJvcHMuZW5hYmxlUm93UGlubmluZyAmJlxuICAgICAgICAgICAgISgoX2EgPSBwcm9wcy5yb3dQaW5uaW5nRGlzcGxheU1vZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdGFydHNXaXRoKCdzZWxlY3QnKSkgJiZcbiAgICAgICAgICAgICdtcnQtcm93LXBpbicsXG4gICAgICAgIChwcm9wcy5lbmFibGVSb3dEcmFnZ2luZyB8fCBwcm9wcy5lbmFibGVSb3dPcmRlcmluZykgJiYgJ21ydC1yb3ctZHJhZycsXG4gICAgICAgIHByb3BzLnBvc2l0aW9uQWN0aW9uc0NvbHVtbiA9PT0gJ2ZpcnN0JyAmJlxuICAgICAgICAgICAgKHByb3BzLmVuYWJsZVJvd0FjdGlvbnMgfHxcbiAgICAgICAgICAgICAgICAocHJvcHMuZW5hYmxlRWRpdGluZyAmJlxuICAgICAgICAgICAgICAgICAgICBbJ21vZGFsJywgJ3JvdyddLmluY2x1ZGVzKChfYiA9IHByb3BzLmVkaXREaXNwbGF5TW9kZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJycpKSkgJiZcbiAgICAgICAgICAgICdtcnQtcm93LWFjdGlvbnMnLFxuICAgICAgICBwcm9wcy5wb3NpdGlvbkV4cGFuZENvbHVtbiA9PT0gJ2ZpcnN0JyAmJlxuICAgICAgICAgICAgc2hvd0V4cGFuZENvbHVtbihwcm9wcykgJiZcbiAgICAgICAgICAgICdtcnQtcm93LWV4cGFuZCcsXG4gICAgICAgIHByb3BzLmVuYWJsZVJvd1NlbGVjdGlvbiAmJiAnbXJ0LXJvdy1zZWxlY3QnLFxuICAgICAgICBwcm9wcy5lbmFibGVSb3dOdW1iZXJzICYmICdtcnQtcm93LW51bWJlcnMnLFxuICAgIF0uZmlsdGVyKEJvb2xlYW4pO1xufTtcbmNvbnN0IGdldFRyYWlsaW5nRGlzcGxheUNvbHVtbklkcyA9IChwcm9wcykgPT4ge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gW1xuICAgICAgICBwcm9wcy5wb3NpdGlvbkFjdGlvbnNDb2x1bW4gPT09ICdsYXN0JyAmJlxuICAgICAgICAgICAgKHByb3BzLmVuYWJsZVJvd0FjdGlvbnMgfHxcbiAgICAgICAgICAgICAgICAocHJvcHMuZW5hYmxlRWRpdGluZyAmJlxuICAgICAgICAgICAgICAgICAgICBbJ21vZGFsJywgJ3JvdyddLmluY2x1ZGVzKChfYSA9IHByb3BzLmVkaXREaXNwbGF5TW9kZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJycpKSkgJiZcbiAgICAgICAgICAgICdtcnQtcm93LWFjdGlvbnMnLFxuICAgICAgICBwcm9wcy5wb3NpdGlvbkV4cGFuZENvbHVtbiA9PT0gJ2xhc3QnICYmXG4gICAgICAgICAgICBzaG93RXhwYW5kQ29sdW1uKHByb3BzKSAmJlxuICAgICAgICAgICAgJ21ydC1yb3ctZXhwYW5kJyxcbiAgICAgICAgcHJvcHMubGF5b3V0TW9kZSA9PT0gJ2dyaWQtbm8tZ3JvdycgJiYgJ21ydC1yb3ctc3BhY2VyJyxcbiAgICBdLmZpbHRlcihCb29sZWFuKTtcbn07XG5jb25zdCBnZXREZWZhdWx0Q29sdW1uT3JkZXJJZHMgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCBsZWFkaW5nRGlzcGxheUNvbHMgPSBnZXRMZWFkaW5nRGlzcGxheUNvbHVtbklkcyhwcm9wcyk7XG4gICAgY29uc3QgdHJhaWxpbmdEaXNwbGF5Q29scyA9IGdldFRyYWlsaW5nRGlzcGxheUNvbHVtbklkcyhwcm9wcyk7XG4gICAgY29uc3QgYWxsTGVhZkNvbHVtbkRlZnMgPSBnZXRBbGxMZWFmQ29sdW1uRGVmcyhwcm9wcy5jb2x1bW5zKVxuICAgICAgICAubWFwKChjb2x1bW5EZWYpID0+IGdldENvbHVtbklkKGNvbHVtbkRlZikpXG4gICAgICAgIC5maWx0ZXIoKGNvbHVtbklkKSA9PiAhbGVhZGluZ0Rpc3BsYXlDb2xzLmluY2x1ZGVzKGNvbHVtbklkKSAmJlxuICAgICAgICAhdHJhaWxpbmdEaXNwbGF5Q29scy5pbmNsdWRlcyhjb2x1bW5JZCkpO1xuICAgIHJldHVybiBbLi4ubGVhZGluZ0Rpc3BsYXlDb2xzLCAuLi5hbGxMZWFmQ29sdW1uRGVmcywgLi4udHJhaWxpbmdEaXNwbGF5Q29sc107XG59O1xuY29uc3QgZ2V0RGVmYXVsdENvbHVtbkZpbHRlckZuID0gKGNvbHVtbkRlZikgPT4ge1xuICAgIHZhciBfYTtcbiAgICBpZiAoY29sdW1uRGVmLmZpbHRlclZhcmlhbnQgPT09ICdtdWx0aS1zZWxlY3QnKVxuICAgICAgICByZXR1cm4gJ2FyckluY2x1ZGVzU29tZSc7XG4gICAgaWYgKChfYSA9IGNvbHVtbkRlZi5maWx0ZXJWYXJpYW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaW5jbHVkZXMoJ3JhbmdlJykpXG4gICAgICAgIHJldHVybiAnYmV0d2VlbkluY2x1c2l2ZSc7XG4gICAgaWYgKGNvbHVtbkRlZi5maWx0ZXJWYXJpYW50ID09PSAnc2VsZWN0JyB8fFxuICAgICAgICBjb2x1bW5EZWYuZmlsdGVyVmFyaWFudCA9PT0gJ2NoZWNrYm94JylcbiAgICAgICAgcmV0dXJuICdlcXVhbHMnO1xuICAgIHJldHVybiAnZnV6enknO1xufTtcbmNvbnN0IGdldElzRmlyc3RDb2x1bW4gPSAoY29sdW1uLCB0YWJsZSkgPT4ge1xuICAgIGNvbnN0IGxlZnRDb2x1bW5zID0gdGFibGUuZ2V0TGVmdFZpc2libGVMZWFmQ29sdW1ucygpO1xuICAgIHJldHVybiBsZWZ0Q29sdW1ucy5sZW5ndGhcbiAgICAgICAgPyBsZWZ0Q29sdW1uc1swXS5pZCA9PT0gY29sdW1uLmlkXG4gICAgICAgIDogdGFibGUuZ2V0VmlzaWJsZUxlYWZDb2x1bW5zKClbMF0uaWQgPT09IGNvbHVtbi5pZDtcbn07XG5jb25zdCBnZXRJc0xhc3RDb2x1bW4gPSAoY29sdW1uLCB0YWJsZSkgPT4ge1xuICAgIGNvbnN0IHJpZ2h0Q29sdW1ucyA9IHRhYmxlLmdldFJpZ2h0VmlzaWJsZUxlYWZDb2x1bW5zKCk7XG4gICAgY29uc3QgY29sdW1ucyA9IHRhYmxlLmdldFZpc2libGVMZWFmQ29sdW1ucygpO1xuICAgIHJldHVybiByaWdodENvbHVtbnMubGVuZ3RoXG4gICAgICAgID8gcmlnaHRDb2x1bW5zW3JpZ2h0Q29sdW1ucy5sZW5ndGggLSAxXS5pZCA9PT0gY29sdW1uLmlkXG4gICAgICAgIDogY29sdW1uc1tjb2x1bW5zLmxlbmd0aCAtIDFdLmlkID09PSBjb2x1bW4uaWQ7XG59O1xuY29uc3QgZ2V0SXNMYXN0TGVmdFBpbm5lZENvbHVtbiA9ICh0YWJsZSwgY29sdW1uKSA9PiB7XG4gICAgcmV0dXJuIChjb2x1bW4uZ2V0SXNQaW5uZWQoKSA9PT0gJ2xlZnQnICYmXG4gICAgICAgIHRhYmxlLmdldExlZnRMZWFmSGVhZGVycygpLmxlbmd0aCAtIDEgPT09IGNvbHVtbi5nZXRQaW5uZWRJbmRleCgpKTtcbn07XG5jb25zdCBnZXRJc0ZpcnN0UmlnaHRQaW5uZWRDb2x1bW4gPSAoY29sdW1uKSA9PiB7XG4gICAgcmV0dXJuIGNvbHVtbi5nZXRJc1Bpbm5lZCgpID09PSAncmlnaHQnICYmIGNvbHVtbi5nZXRQaW5uZWRJbmRleCgpID09PSAwO1xufTtcbmNvbnN0IGdldFRvdGFsUmlnaHQgPSAodGFibGUsIGNvbHVtbikgPT4ge1xuICAgIHJldHVybiB0YWJsZVxuICAgICAgICAuZ2V0UmlnaHRMZWFmSGVhZGVycygpXG4gICAgICAgIC5zbGljZShjb2x1bW4uZ2V0UGlubmVkSW5kZXgoKSArIDEpXG4gICAgICAgIC5yZWR1Y2UoKGFjYywgY29sKSA9PiBhY2MgKyBjb2wuZ2V0U2l6ZSgpLCAwKTtcbn07XG5jb25zdCBnZXRDYW5SYW5rUm93cyA9ICh0YWJsZSkgPT4ge1xuICAgIGNvbnN0IHsgZ2V0U3RhdGUsIG9wdGlvbnMgfSA9IHRhYmxlO1xuICAgIGNvbnN0IHsgZW5hYmxlR2xvYmFsRmlsdGVyUmFua2VkUmVzdWx0cywgbWFudWFsRXhwYW5kaW5nLCBtYW51YWxGaWx0ZXJpbmcsIG1hbnVhbEdyb3VwaW5nLCBtYW51YWxTb3J0aW5nLCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCB7IGV4cGFuZGVkLCBnbG9iYWxGaWx0ZXJGbiB9ID0gZ2V0U3RhdGUoKTtcbiAgICByZXR1cm4gKCFtYW51YWxFeHBhbmRpbmcgJiZcbiAgICAgICAgIW1hbnVhbEZpbHRlcmluZyAmJlxuICAgICAgICAhbWFudWFsR3JvdXBpbmcgJiZcbiAgICAgICAgIW1hbnVhbFNvcnRpbmcgJiZcbiAgICAgICAgZW5hYmxlR2xvYmFsRmlsdGVyUmFua2VkUmVzdWx0cyAmJlxuICAgICAgICBnbG9iYWxGaWx0ZXJGbiA9PT0gJ2Z1enp5JyAmJlxuICAgICAgICBleHBhbmRlZCAhPT0gdHJ1ZSAmJlxuICAgICAgICAhT2JqZWN0LnZhbHVlcyhleHBhbmRlZCkuc29tZShCb29sZWFuKSk7XG59O1xuY29uc3QgcGFyc2VGcm9tVmFsdWVzT3JGdW5jID0gKGZuLCBhcmcpID0+IChmbiBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gZm4oYXJnKSA6IGZuKTtcbmNvbnN0IGZsZXhSZW5kZXIgPSBmbGV4UmVuZGVyJDE7XG5jb25zdCBjcmVhdGVSb3cgPSAodGFibGUsIG9yaWdpbmFsUm93KSA9PiBjcmVhdGVSb3ckMSh0YWJsZSwgJ21ydC1yb3ctY3JlYXRlJywgb3JpZ2luYWxSb3cgIT09IG51bGwgJiYgb3JpZ2luYWxSb3cgIT09IHZvaWQgMCA/IG9yaWdpbmFsUm93IDogT2JqZWN0LmFzc2lnbih7fSwgLi4uZ2V0QWxsTGVhZkNvbHVtbkRlZnModGFibGUub3B0aW9ucy5jb2x1bW5zKS5tYXAoKGNvbCkgPT4gKHtcbiAgICBbZ2V0Q29sdW1uSWQoY29sKV06ICcnLFxufSkpKSwgLTEsIDApO1xuY29uc3QgZXh0cmFJbmRleFJhbmdlRXh0cmFjdG9yID0gKHJhbmdlLCBkcmFnZ2luZ0luZGV4KSA9PiB7XG4gICAgY29uc3QgbmV3SW5kZXhlcyA9IGRlZmF1bHRSYW5nZUV4dHJhY3RvcihyYW5nZSk7XG4gICAgaWYgKGRyYWdnaW5nSW5kZXggPj0gMCAmJlxuICAgICAgICBkcmFnZ2luZ0luZGV4IDwgTWF0aC5tYXgocmFuZ2Uuc3RhcnRJbmRleCAtIHJhbmdlLm92ZXJzY2FuLCAwKSkge1xuICAgICAgICBuZXdJbmRleGVzLnVuc2hpZnQoZHJhZ2dpbmdJbmRleCk7XG4gICAgfVxuICAgIGlmIChkcmFnZ2luZ0luZGV4ID49IDAgJiYgZHJhZ2dpbmdJbmRleCA+IHJhbmdlLmVuZEluZGV4ICsgcmFuZ2Uub3ZlcnNjYW4pIHtcbiAgICAgICAgbmV3SW5kZXhlcy5wdXNoKGRyYWdnaW5nSW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3SW5kZXhlcztcbn07XG5mdW5jdGlvbiBjcmVhdGVNUlRDb2x1bW5IZWxwZXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWNjZXNzb3I6IChhY2Nlc3NvciwgY29sdW1uKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGFjY2Vzc29yID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNvbHVtbiksIHsgYWNjZXNzb3JGbjogYWNjZXNzb3IgfSlcbiAgICAgICAgICAgICAgICA6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY29sdW1uKSwgeyBhY2Nlc3NvcktleTogYWNjZXNzb3IgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRpc3BsYXk6IChjb2x1bW4pID0+IGNvbHVtbixcbiAgICAgICAgZ3JvdXA6IChjb2x1bW4pID0+IGNvbHVtbixcbiAgICB9O1xufVxuY29uc3QgZ2V0VmFsdWVBbmRMYWJlbCA9IChvcHRpb24pID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBsZXQgbGFiZWwgPSAnJztcbiAgICBsZXQgdmFsdWUgPSAnJztcbiAgICBpZiAob3B0aW9uKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgbGFiZWwgPSBvcHRpb247XG4gICAgICAgICAgICB2YWx1ZSA9IG9wdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxhYmVsID0gKF9iID0gKF9hID0gb3B0aW9uLmxhYmVsKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBvcHRpb24udGV4dCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogb3B0aW9uLnZhbHVlO1xuICAgICAgICAgICAgdmFsdWUgPSAoX2MgPSBvcHRpb24udmFsdWUpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGxhYmVsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGxhYmVsLCB2YWx1ZSB9O1xufTtcblxuY29uc3QgcGFyc2VDU1NWYXJJZCA9IChpZCkgPT4gaWQucmVwbGFjZSgvW15hLXpBLVowLTldL2csICdfJyk7XG5jb25zdCBnZXRNUlRUaGVtZSA9ICh0YWJsZSwgdGhlbWUpID0+IChPYmplY3QuYXNzaWduKHsgYmFzZUJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5tb2RlID09PSAnZGFyaydcbiAgICAgICAgPyBsaWdodGVuKHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZC5kZWZhdWx0LCAwLjA1KVxuICAgICAgICA6IHRoZW1lLnBhbGV0dGUuYmFja2dyb3VuZC5kZWZhdWx0LCBkcmFnZ2luZ0JvcmRlckNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgbWF0Y2hIaWdobGlnaHRDb2xvcjogdGhlbWUucGFsZXR0ZS5tb2RlID09PSAnZGFyaydcbiAgICAgICAgPyBkYXJrZW4odGhlbWUucGFsZXR0ZS53YXJuaW5nLmRhcmssIDAuMjUpXG4gICAgICAgIDogbGlnaHRlbih0aGVtZS5wYWxldHRlLndhcm5pbmcubGlnaHQsIDAuNSksIHBpbm5lZFJvd0JhY2tncm91bmRDb2xvcjogYWxwaGEodGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sIDAuMSksIHNlbGVjdGVkUm93QmFja2dyb3VuZENvbG9yOiBhbHBoYSh0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbiwgMC4yKSB9LCBwYXJzZUZyb21WYWx1ZXNPckZ1bmModGFibGUub3B0aW9ucy5tcnRUaGVtZSwgdGhlbWUpKSk7XG5jb25zdCBnZXRDb21tb25NUlRDZWxsU3R5bGVzID0gKHsgY29sdW1uLCBoZWFkZXIsIHRhYmxlLCB0YWJsZUNlbGxQcm9wcywgdGhlbWUsIH0pID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaiwgX2s7XG4gICAgY29uc3QgeyBvcHRpb25zOiB7IGxheW91dE1vZGUgfSwgfSA9IHRhYmxlO1xuICAgIGNvbnN0IHdpZHRoU3R5bGVzID0ge1xuICAgICAgICBtaW5XaWR0aDogYG1heChjYWxjKHZhcigtLSR7aGVhZGVyID8gJ2hlYWRlcicgOiAnY29sJ30tJHtwYXJzZUNTU1ZhcklkKChfYSA9IGhlYWRlciA9PT0gbnVsbCB8fCBoZWFkZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhlYWRlci5pZCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogY29sdW1uLmlkKX0tc2l6ZSkgKiAxcHgpLCAkeyhfYiA9IGNvbHVtbi5jb2x1bW5EZWYubWluU2l6ZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMzB9cHgpYCxcbiAgICAgICAgd2lkdGg6IGBjYWxjKHZhcigtLSR7aGVhZGVyID8gJ2hlYWRlcicgOiAnY29sJ30tJHtwYXJzZUNTU1ZhcklkKChfYyA9IGhlYWRlciA9PT0gbnVsbCB8fCBoZWFkZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhlYWRlci5pZCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogY29sdW1uLmlkKX0tc2l6ZSkgKiAxcHgpYCxcbiAgICB9O1xuICAgIGlmIChsYXlvdXRNb2RlID09PSAnZ3JpZCcpIHtcbiAgICAgICAgd2lkdGhTdHlsZXMuZmxleCA9IGB2YXIoLS0ke2hlYWRlciA/ICdoZWFkZXInIDogJ2NvbCd9LSR7cGFyc2VDU1NWYXJJZCgoX2QgPSBoZWFkZXIgPT09IG51bGwgfHwgaGVhZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBoZWFkZXIuaWQpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGNvbHVtbi5pZCl9LXNpemUpIDAgYXV0b2A7XG4gICAgfVxuICAgIGVsc2UgaWYgKGxheW91dE1vZGUgPT09ICdncmlkLW5vLWdyb3cnKSB7XG4gICAgICAgIHdpZHRoU3R5bGVzLmZsZXggPSAnMCAwIGF1dG8nO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgYmFja2dyb3VuZENvbG9yOiBjb2x1bW4uZ2V0SXNQaW5uZWQoKSAmJiBjb2x1bW4uY29sdW1uRGVmLmNvbHVtbkRlZlR5cGUgIT09ICdncm91cCdcbiAgICAgICAgICAgID8gYWxwaGEoZGFya2VuKGdldE1SVFRoZW1lKHRhYmxlLCB0aGVtZSkuYmFzZUJhY2tncm91bmRDb2xvciwgdGhlbWUucGFsZXR0ZS5tb2RlID09PSAnZGFyaycgPyAwLjA1IDogMC4wMSksIDAuOTcpXG4gICAgICAgICAgICA6ICdpbmhlcml0JywgYmFja2dyb3VuZEltYWdlOiAnaW5oZXJpdCcsIGJveFNoYWRvdzogZ2V0SXNMYXN0TGVmdFBpbm5lZENvbHVtbih0YWJsZSwgY29sdW1uKVxuICAgICAgICAgICAgPyBgLTRweCAwIDhweCAtNnB4ICR7YWxwaGEodGhlbWUucGFsZXR0ZS5ncmV5WzcwMF0sIDAuNSl9IGluc2V0YFxuICAgICAgICAgICAgOiBnZXRJc0ZpcnN0UmlnaHRQaW5uZWRDb2x1bW4oY29sdW1uKVxuICAgICAgICAgICAgICAgID8gYDRweCAwIDhweCAtNnB4ICR7YWxwaGEodGhlbWUucGFsZXR0ZS5ncmV5WzcwMF0sIDAuNSl9IGluc2V0YFxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLCBkaXNwbGF5OiAobGF5b3V0TW9kZSA9PT0gbnVsbCB8fCBsYXlvdXRNb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsYXlvdXRNb2RlLnN0YXJ0c1dpdGgoJ2dyaWQnKSkgPyAnZmxleCcgOiB1bmRlZmluZWQsIGxlZnQ6IGNvbHVtbi5nZXRJc1Bpbm5lZCgpID09PSAnbGVmdCdcbiAgICAgICAgICAgID8gYCR7Y29sdW1uLmdldFN0YXJ0KCdsZWZ0Jyl9cHhgXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCwgbWw6IHRhYmxlLm9wdGlvbnMuZW5hYmxlQ29sdW1uVmlydHVhbGl6YXRpb24gJiZcbiAgICAgICAgICAgIGNvbHVtbi5nZXRJc1Bpbm5lZCgpID09PSAnbGVmdCcgJiZcbiAgICAgICAgICAgIGNvbHVtbi5nZXRQaW5uZWRJbmRleCgpID09PSAwXG4gICAgICAgICAgICA/IGAtJHtjb2x1bW4uZ2V0U2l6ZSgpICpcbiAgICAgICAgICAgICAgICAoKF9mID0gKF9lID0gdGFibGUuZ2V0U3RhdGUoKS5jb2x1bW5QaW5uaW5nLmxlZnQpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5sZW5ndGgpICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IDEpfXB4YFxuICAgICAgICAgICAgOiB1bmRlZmluZWQsIG1yOiB0YWJsZS5vcHRpb25zLmVuYWJsZUNvbHVtblZpcnR1YWxpemF0aW9uICYmXG4gICAgICAgICAgICBjb2x1bW4uZ2V0SXNQaW5uZWQoKSA9PT0gJ3JpZ2h0JyAmJlxuICAgICAgICAgICAgY29sdW1uLmdldFBpbm5lZEluZGV4KCkgPT09IHRhYmxlLmdldFZpc2libGVMZWFmQ29sdW1ucygpLmxlbmd0aCAtIDFcbiAgICAgICAgICAgID8gYC0ke2NvbHVtbi5nZXRTaXplKCkgKlxuICAgICAgICAgICAgICAgICgoX2ggPSAoX2cgPSB0YWJsZS5nZXRTdGF0ZSgpLmNvbHVtblBpbm5pbmcucmlnaHQpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5sZW5ndGgpICE9PSBudWxsICYmIF9oICE9PSB2b2lkIDAgPyBfaCA6IDEpICpcbiAgICAgICAgICAgICAgICAxLjJ9cHhgXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCwgb3BhY2l0eTogKChfaiA9IHRhYmxlLmdldFN0YXRlKCkuZHJhZ2dpbmdDb2x1bW4pID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai5pZCkgPT09IGNvbHVtbi5pZCB8fFxuICAgICAgICAgICAgKChfayA9IHRhYmxlLmdldFN0YXRlKCkuaG92ZXJlZENvbHVtbikgPT09IG51bGwgfHwgX2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9rLmlkKSA9PT0gY29sdW1uLmlkXG4gICAgICAgICAgICA/IDAuNVxuICAgICAgICAgICAgOiAxLCBwb3NpdGlvbjogY29sdW1uLmdldElzUGlubmVkKCkgJiYgY29sdW1uLmNvbHVtbkRlZi5jb2x1bW5EZWZUeXBlICE9PSAnZ3JvdXAnXG4gICAgICAgICAgICA/ICdzdGlja3knXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCwgcmlnaHQ6IGNvbHVtbi5nZXRJc1Bpbm5lZCgpID09PSAncmlnaHQnXG4gICAgICAgICAgICA/IGAke2dldFRvdGFsUmlnaHQodGFibGUsIGNvbHVtbil9cHhgXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCwgdHJhbnNpdGlvbjogdGFibGUub3B0aW9ucy5lbmFibGVDb2x1bW5WaXJ0dWFsaXphdGlvblxuICAgICAgICAgICAgPyAnbm9uZSdcbiAgICAgICAgICAgIDogYHBhZGRpbmcgMTUwbXMgZWFzZS1pbi1vdXRgIH0sIHdpZHRoU3R5bGVzKSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKHRhYmxlQ2VsbFByb3BzID09PSBudWxsIHx8IHRhYmxlQ2VsbFByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YWJsZUNlbGxQcm9wcy5zeCwgdGhlbWUpKTtcbn07XG5jb25zdCBnZXRDb21tb25Ub29sYmFyU3R5bGVzID0gKHsgdGFibGUsIHRoZW1lLCB9KSA9PiAoe1xuICAgIGFsaWduSXRlbXM6ICdmbGV4LXN0YXJ0JyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IGdldE1SVFRoZW1lKHRhYmxlLCB0aGVtZSkuYmFzZUJhY2tncm91bmRDb2xvcixcbiAgICBkaXNwbGF5OiAnZ3JpZCcsXG4gICAgZmxleFdyYXA6ICd3cmFwLXJldmVyc2UnLFxuICAgIG1pbkhlaWdodDogJzMuNXJlbScsXG4gICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgIHRyYW5zaXRpb246ICdhbGwgMTUwbXMgZWFzZS1pbi1vdXQnLFxuICAgIHpJbmRleDogMSxcbn0pO1xuXG5jb25zdCBhbGxvd2VkVHlwZXMgPSBbJ3N0cmluZycsICdudW1iZXInXTtcbmNvbnN0IE1SVF9UYWJsZUJvZHlDZWxsVmFsdWUgPSAoeyBjZWxsLCB0YWJsZSwgfSkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNvbnN0IHsgZ2V0U3RhdGUsIG9wdGlvbnM6IHsgZW5hYmxlRmlsdGVyTWF0Y2hIaWdobGlnaHRpbmcgfSwgfSA9IHRhYmxlO1xuICAgIGNvbnN0IHsgY29sdW1uLCByb3cgfSA9IGNlbGw7XG4gICAgY29uc3QgeyBjb2x1bW5EZWYgfSA9IGNvbHVtbjtcbiAgICBjb25zdCB7IGdsb2JhbEZpbHRlciwgZ2xvYmFsRmlsdGVyRm4gfSA9IGdldFN0YXRlKCk7XG4gICAgY29uc3QgZmlsdGVyVmFsdWUgPSBjb2x1bW4uZ2V0RmlsdGVyVmFsdWUoKTtcbiAgICBsZXQgcmVuZGVyZWRDZWxsVmFsdWUgPSBjZWxsLmdldElzQWdncmVnYXRlZCgpICYmIGNvbHVtbkRlZi5BZ2dyZWdhdGVkQ2VsbFxuICAgICAgICA/IGNvbHVtbkRlZi5BZ2dyZWdhdGVkQ2VsbCh7XG4gICAgICAgICAgICBjZWxsLFxuICAgICAgICAgICAgY29sdW1uLFxuICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgdGFibGUsXG4gICAgICAgIH0pXG4gICAgICAgIDogcm93LmdldElzR3JvdXBlZCgpICYmICFjZWxsLmdldElzR3JvdXBlZCgpXG4gICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgIDogY2VsbC5nZXRJc0dyb3VwZWQoKSAmJiBjb2x1bW5EZWYuR3JvdXBlZENlbGxcbiAgICAgICAgICAgICAgICA/IGNvbHVtbkRlZi5Hcm91cGVkQ2VsbCh7XG4gICAgICAgICAgICAgICAgICAgIGNlbGwsXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbixcbiAgICAgICAgICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgICAgICAgICB0YWJsZSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IGlzR3JvdXBlZFZhbHVlID0gcmVuZGVyZWRDZWxsVmFsdWUgIT09IHVuZGVmaW5lZDtcbiAgICBpZiAoIWlzR3JvdXBlZFZhbHVlKSB7XG4gICAgICAgIHJlbmRlcmVkQ2VsbFZhbHVlID0gY2VsbC5yZW5kZXJWYWx1ZSgpO1xuICAgIH1cbiAgICBpZiAoZW5hYmxlRmlsdGVyTWF0Y2hIaWdobGlnaHRpbmcgJiZcbiAgICAgICAgY29sdW1uRGVmLmVuYWJsZUZpbHRlck1hdGNoSGlnaGxpZ2h0aW5nICE9PSBmYWxzZSAmJlxuICAgICAgICBTdHJpbmcocmVuZGVyZWRDZWxsVmFsdWUpICYmXG4gICAgICAgIGFsbG93ZWRUeXBlcy5pbmNsdWRlcyh0eXBlb2YgcmVuZGVyZWRDZWxsVmFsdWUpICYmXG4gICAgICAgICgoZmlsdGVyVmFsdWUgJiZcbiAgICAgICAgICAgIGFsbG93ZWRUeXBlcy5pbmNsdWRlcyh0eXBlb2YgZmlsdGVyVmFsdWUpICYmXG4gICAgICAgICAgICBjb2x1bW5EZWYuZmlsdGVyVmFyaWFudCA9PT0gJ3RleHQnKSB8fFxuICAgICAgICAgICAgKGdsb2JhbEZpbHRlciAmJlxuICAgICAgICAgICAgICAgIGFsbG93ZWRUeXBlcy5pbmNsdWRlcyh0eXBlb2YgZ2xvYmFsRmlsdGVyKSAmJlxuICAgICAgICAgICAgICAgIGNvbHVtbi5nZXRDYW5HbG9iYWxGaWx0ZXIoKSkpKSB7XG4gICAgICAgIGNvbnN0IGNodW5rcyA9IGhpZ2hsaWdodFdvcmRzID09PSBudWxsIHx8IGhpZ2hsaWdodFdvcmRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBoaWdobGlnaHRXb3Jkcyh7XG4gICAgICAgICAgICBtYXRjaEV4YWN0bHk6IChmaWx0ZXJWYWx1ZSA/IGNvbHVtbkRlZi5fZmlsdGVyRm4gOiBnbG9iYWxGaWx0ZXJGbikgIT09ICdmdXp6eScsXG4gICAgICAgICAgICBxdWVyeTogKChfYSA9IGZpbHRlclZhbHVlICE9PSBudWxsICYmIGZpbHRlclZhbHVlICE9PSB2b2lkIDAgPyBmaWx0ZXJWYWx1ZSA6IGdsb2JhbEZpbHRlcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJycpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICB0ZXh0OiByZW5kZXJlZENlbGxWYWx1ZSA9PT0gbnVsbCB8fCByZW5kZXJlZENlbGxWYWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVuZGVyZWRDZWxsVmFsdWUudG9TdHJpbmcoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICgoY2h1bmtzID09PSBudWxsIHx8IGNodW5rcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2h1bmtzLmxlbmd0aCkgPiAxIHx8ICgoX2IgPSBjaHVua3MgPT09IG51bGwgfHwgY2h1bmtzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjaHVua3NbMF0pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5tYXRjaCkpIHtcbiAgICAgICAgICAgIHJlbmRlcmVkQ2VsbFZhbHVlID0gKGpzeChcInNwYW5cIiwgeyBcImFyaWEtbGFiZWxcIjogcmVuZGVyZWRDZWxsVmFsdWUsIHJvbGU6IFwibm90ZVwiLCBjaGlsZHJlbjogKF9jID0gY2h1bmtzID09PSBudWxsIHx8IGNodW5rcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2h1bmtzLm1hcCgoeyBrZXksIG1hdGNoLCB0ZXh0IH0pID0+IChqc3goQm94LCB7IFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsIGNvbXBvbmVudDogXCJzcGFuXCIsIHN4OiBtYXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAodGhlbWUpID0+IGdldE1SVFRoZW1lKHRhYmxlLCB0aGVtZSkubWF0Y2hIaWdobGlnaHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICcycHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAodGhlbWUpID0+IHRoZW1lLnBhbGV0dGUubW9kZSA9PT0gJ2RhcmsnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGVtZS5wYWxldHRlLmNvbW1vbi5ibGFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMnB4IDFweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCwgY2hpbGRyZW46IHRleHQgfSwga2V5KSkpKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiByZW5kZXJlZENlbGxWYWx1ZSB9KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNvbHVtbkRlZi5DZWxsICYmICFpc0dyb3VwZWRWYWx1ZSkge1xuICAgICAgICByZW5kZXJlZENlbGxWYWx1ZSA9IGNvbHVtbkRlZi5DZWxsKHtcbiAgICAgICAgICAgIGNlbGwsXG4gICAgICAgICAgICBjb2x1bW4sXG4gICAgICAgICAgICByZW5kZXJlZENlbGxWYWx1ZSxcbiAgICAgICAgICAgIHJvdyxcbiAgICAgICAgICAgIHRhYmxlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlbmRlcmVkQ2VsbFZhbHVlO1xufTtcblxuY29uc3QgTVJUX0dyYWJIYW5kbGVCdXR0b24gPSAoX2EpID0+IHtcbiAgICB2YXIgX2I7XG4gICAgdmFyIHsgaWNvbkJ1dHRvblByb3BzLCBsb2NhdGlvbiwgb25EcmFnRW5kLCBvbkRyYWdTdGFydCwgdGFibGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJpY29uQnV0dG9uUHJvcHNcIiwgXCJsb2NhdGlvblwiLCBcIm9uRHJhZ0VuZFwiLCBcIm9uRHJhZ1N0YXJ0XCIsIFwidGFibGVcIl0pO1xuICAgIGNvbnN0IHsgb3B0aW9uczogeyBpY29uczogeyBEcmFnSGFuZGxlSWNvbiB9LCBsb2NhbGl6YXRpb24sIH0sIH0gPSB0YWJsZTtcbiAgICBjb25zdCBfaWNvbkJ1dHRvblByb3BzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBpY29uQnV0dG9uUHJvcHMpLCByZXN0KTtcbiAgICByZXR1cm4gKGpzeChUb29sdGlwLCB7IGVudGVyRGVsYXk6IDEwMDAsIGVudGVyTmV4dERlbGF5OiAxMDAwLCBwbGFjZW1lbnQ6IFwidG9wXCIsIHRpdGxlOiAoX2IgPSBfaWNvbkJ1dHRvblByb3BzID09PSBudWxsIHx8IF9pY29uQnV0dG9uUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pY29uQnV0dG9uUHJvcHMudGl0bGUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGxvY2FsaXphdGlvbi5tb3ZlLCBjaGlsZHJlbjoganN4KEljb25CdXR0b24sIE9iamVjdC5hc3NpZ24oeyBkaXNhYmxlUmlwcGxlOiB0cnVlLCBkcmFnZ2FibGU6IFwidHJ1ZVwiLCBzaXplOiBcInNtYWxsXCIgfSwgX2ljb25CdXR0b25Qcm9wcywgeyBvbkNsaWNrOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIChfYSA9IF9pY29uQnV0dG9uUHJvcHMgPT09IG51bGwgfHwgX2ljb25CdXR0b25Qcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ljb25CdXR0b25Qcm9wcy5vbkNsaWNrKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChfaWNvbkJ1dHRvblByb3BzLCBlKTtcbiAgICAgICAgICAgIH0sIG9uRHJhZ0VuZDogb25EcmFnRW5kLCBvbkRyYWdTdGFydDogb25EcmFnU3RhcnQsIHN4OiAodGhlbWUpID0+IChPYmplY3QuYXNzaWduKHsgJyY6YWN0aXZlJzoge1xuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdncmFiYmluZycsXG4gICAgICAgICAgICAgICAgfSwgJyY6aG92ZXInOiB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgICAgICB9LCBjdXJzb3I6ICdncmFiJywgbTogJzAgLTAuMXJlbScsIG9wYWNpdHk6IGxvY2F0aW9uID09PSAncm93JyA/IDEgOiAwLjMsIHA6ICcycHgnLCB0cmFuc2l0aW9uOiAnYWxsIDE1MG1zIGVhc2UtaW4tb3V0JyB9LCBwYXJzZUZyb21WYWx1ZXNPckZ1bmMoX2ljb25CdXR0b25Qcm9wcyA9PT0gbnVsbCB8fCBfaWNvbkJ1dHRvblByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaWNvbkJ1dHRvblByb3BzLnN4LCB0aGVtZSkpKSwgdGl0bGU6IHVuZGVmaW5lZCwgY2hpbGRyZW46IGpzeChEcmFnSGFuZGxlSWNvbiwge30pIH0pKSB9KSk7XG59O1xuXG5jb25zdCBNUlRfVGFibGVCb2R5Um93R3JhYkhhbmRsZSA9IChfYSkgPT4ge1xuICAgIHZhciB7IHJvdywgcm93UmVmLCB0YWJsZSB9ID0gX2EsIHJlc3QgPSBfX3Jlc3QoX2EsIFtcInJvd1wiLCBcInJvd1JlZlwiLCBcInRhYmxlXCJdKTtcbiAgICBjb25zdCB7IG9wdGlvbnM6IHsgbXVpUm93RHJhZ0hhbmRsZVByb3BzIH0sIH0gPSB0YWJsZTtcbiAgICBjb25zdCBpY29uQnV0dG9uUHJvcHMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhtdWlSb3dEcmFnSGFuZGxlUHJvcHMsIHtcbiAgICAgICAgcm93LFxuICAgICAgICB0YWJsZSxcbiAgICB9KSksIHJlc3QpO1xuICAgIGNvbnN0IGhhbmRsZURyYWdTdGFydCA9IChldmVudCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IGljb25CdXR0b25Qcm9wcyA9PT0gbnVsbCB8fCBpY29uQnV0dG9uUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGljb25CdXR0b25Qcm9wcy5vbkRyYWdTdGFydCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoaWNvbkJ1dHRvblByb3BzLCBldmVudCk7XG4gICAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREcmFnSW1hZ2Uocm93UmVmLmN1cnJlbnQsIDAsIDApO1xuICAgICAgICB0YWJsZS5zZXREcmFnZ2luZ1Jvdyhyb3cpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlRHJhZ0VuZCA9IChldmVudCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IGljb25CdXR0b25Qcm9wcyA9PT0gbnVsbCB8fCBpY29uQnV0dG9uUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGljb25CdXR0b25Qcm9wcy5vbkRyYWdFbmQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGljb25CdXR0b25Qcm9wcywgZXZlbnQpO1xuICAgICAgICB0YWJsZS5zZXREcmFnZ2luZ1JvdyhudWxsKTtcbiAgICAgICAgdGFibGUuc2V0SG92ZXJlZFJvdyhudWxsKTtcbiAgICB9O1xuICAgIHJldHVybiAoanN4KE1SVF9HcmFiSGFuZGxlQnV0dG9uLCB7IGljb25CdXR0b25Qcm9wczogaWNvbkJ1dHRvblByb3BzLCBsb2NhdGlvbjogXCJyb3dcIiwgb25EcmFnRW5kOiBoYW5kbGVEcmFnRW5kLCBvbkRyYWdTdGFydDogaGFuZGxlRHJhZ1N0YXJ0LCB0YWJsZTogdGFibGUgfSkpO1xufTtcblxuY29uc3QgTVJUX0NvcHlCdXR0b24gPSAoX2EpID0+IHtcbiAgICB2YXIgX2I7XG4gICAgdmFyIHsgY2VsbCwgdGFibGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJjZWxsXCIsIFwidGFibGVcIl0pO1xuICAgIGNvbnN0IHsgb3B0aW9uczogeyBsb2NhbGl6YXRpb24sIG11aUNvcHlCdXR0b25Qcm9wcyB9LCB9ID0gdGFibGU7XG4gICAgY29uc3QgeyBjb2x1bW4sIHJvdyB9ID0gY2VsbDtcbiAgICBjb25zdCB7IGNvbHVtbkRlZiB9ID0gY29sdW1uO1xuICAgIGNvbnN0IFtjb3BpZWQsIHNldENvcGllZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgaGFuZGxlQ29weSA9IChldmVudCwgdGV4dCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCk7XG4gICAgICAgIHNldENvcGllZCh0cnVlKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRDb3BpZWQoZmFsc2UpLCA0MDAwKTtcbiAgICB9O1xuICAgIGNvbnN0IGJ1dHRvblByb3BzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhtdWlDb3B5QnV0dG9uUHJvcHMsIHtcbiAgICAgICAgY2VsbCxcbiAgICAgICAgY29sdW1uLFxuICAgICAgICByb3csXG4gICAgICAgIHRhYmxlLFxuICAgIH0pKSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKGNvbHVtbkRlZi5tdWlDb3B5QnV0dG9uUHJvcHMsIHtcbiAgICAgICAgY2VsbCxcbiAgICAgICAgY29sdW1uLFxuICAgICAgICByb3csXG4gICAgICAgIHRhYmxlLFxuICAgIH0pKSwgcmVzdCk7XG4gICAgcmV0dXJuIChqc3goVG9vbHRpcCwgeyBlbnRlckRlbGF5OiAxMDAwLCBlbnRlck5leHREZWxheTogMTAwMCwgcGxhY2VtZW50OiBcInRvcFwiLCB0aXRsZTogKF9iID0gYnV0dG9uUHJvcHMgPT09IG51bGwgfHwgYnV0dG9uUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJ1dHRvblByb3BzLnRpdGxlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAoY29waWVkID8gbG9jYWxpemF0aW9uLmNvcGllZFRvQ2xpcGJvYXJkIDogbG9jYWxpemF0aW9uLmNsaWNrVG9Db3B5KSwgY2hpbGRyZW46IGpzeChCdXR0b24sIE9iamVjdC5hc3NpZ24oeyBvbkNsaWNrOiAoZSkgPT4gaGFuZGxlQ29weShlLCBjZWxsLmdldFZhbHVlKCkpLCBzaXplOiBcInNtYWxsXCIsIHR5cGU6IFwiYnV0dG9uXCIsIHZhcmlhbnQ6IFwidGV4dFwiIH0sIGJ1dHRvblByb3BzLCB7IHN4OiAodGhlbWUpID0+IChPYmplY3QuYXNzaWduKHsgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLCBib3JkZXI6ICdub25lJywgY29sb3I6ICdpbmhlcml0JywgY3Vyc29yOiAnY29weScsIGZvbnRGYW1pbHk6ICdpbmhlcml0JywgZm9udFNpemU6ICdpbmhlcml0JywgbGV0dGVyU3BhY2luZzogJ2luaGVyaXQnLCBtOiAnLTAuMjVyZW0nLCBtaW5XaWR0aDogJ3Vuc2V0JywgdGV4dEFsaWduOiAnaW5oZXJpdCcsIHRleHRUcmFuc2Zvcm06ICdpbmhlcml0JyB9LCBwYXJzZUZyb21WYWx1ZXNPckZ1bmMoYnV0dG9uUHJvcHMgPT09IG51bGwgfHwgYnV0dG9uUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJ1dHRvblByb3BzLnN4LCB0aGVtZSkpKSwgdGl0bGU6IHVuZGVmaW5lZCB9KSkgfSkpO1xufTtcblxuY29uc3QgTVJUX0VkaXRDZWxsVGV4dEZpZWxkID0gKF9hKSA9PiB7XG4gICAgdmFyIF9iLCBfYywgX2Q7XG4gICAgdmFyIHsgY2VsbCwgdGFibGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJjZWxsXCIsIFwidGFibGVcIl0pO1xuICAgIGNvbnN0IHsgZ2V0U3RhdGUsIG9wdGlvbnM6IHsgY3JlYXRlRGlzcGxheU1vZGUsIGVkaXREaXNwbGF5TW9kZSwgbXVpRWRpdFRleHRGaWVsZFByb3BzIH0sIHJlZnM6IHsgZWRpdElucHV0UmVmcyB9LCBzZXRDcmVhdGluZ1Jvdywgc2V0RWRpdGluZ0NlbGwsIHNldEVkaXRpbmdSb3csIH0gPSB0YWJsZTtcbiAgICBjb25zdCB7IGNvbHVtbiwgcm93IH0gPSBjZWxsO1xuICAgIGNvbnN0IHsgY29sdW1uRGVmIH0gPSBjb2x1bW47XG4gICAgY29uc3QgeyBjcmVhdGluZ1JvdywgZWRpdGluZ1JvdyB9ID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBpc0NyZWF0aW5nID0gKGNyZWF0aW5nUm93ID09PSBudWxsIHx8IGNyZWF0aW5nUm93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjcmVhdGluZ1Jvdy5pZCkgPT09IHJvdy5pZDtcbiAgICBjb25zdCBpc0VkaXRpbmcgPSAoZWRpdGluZ1JvdyA9PT0gbnVsbCB8fCBlZGl0aW5nUm93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlZGl0aW5nUm93LmlkKSA9PT0gcm93LmlkO1xuICAgIGNvbnN0IGlzU2VsZWN0RWRpdCA9IGNvbHVtbkRlZi5lZGl0VmFyaWFudCA9PT0gJ3NlbGVjdCc7XG4gICAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VTdGF0ZSgoKSA9PiBjZWxsLmdldFZhbHVlKCkpO1xuICAgIGNvbnN0IHRleHRGaWVsZFByb3BzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhtdWlFZGl0VGV4dEZpZWxkUHJvcHMsIHtcbiAgICAgICAgY2VsbCxcbiAgICAgICAgY29sdW1uLFxuICAgICAgICByb3csXG4gICAgICAgIHRhYmxlLFxuICAgIH0pKSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKGNvbHVtbkRlZi5tdWlFZGl0VGV4dEZpZWxkUHJvcHMsIHtcbiAgICAgICAgY2VsbCxcbiAgICAgICAgY29sdW1uLFxuICAgICAgICByb3csXG4gICAgICAgIHRhYmxlLFxuICAgIH0pKSwgcmVzdCk7XG4gICAgY29uc3Qgc2F2ZUlucHV0VmFsdWVUb1Jvd0NhY2hlID0gKG5ld1ZhbHVlKSA9PiB7XG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICByb3cuX3ZhbHVlc0NhY2hlW2NvbHVtbi5pZF0gPSBuZXdWYWx1ZTtcbiAgICAgICAgaWYgKGlzQ3JlYXRpbmcpIHtcbiAgICAgICAgICAgIHNldENyZWF0aW5nUm93KHJvdyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNFZGl0aW5nKSB7XG4gICAgICAgICAgICBzZXRFZGl0aW5nUm93KHJvdyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRleHRGaWVsZFByb3BzLm9uQ2hhbmdlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0ZXh0RmllbGRQcm9wcywgZXZlbnQpO1xuICAgICAgICBzZXRWYWx1ZShldmVudC50YXJnZXQudmFsdWUpO1xuICAgICAgICBpZiAodGV4dEZpZWxkUHJvcHMgPT09IG51bGwgfHwgdGV4dEZpZWxkUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRleHRGaWVsZFByb3BzLnNlbGVjdCkge1xuICAgICAgICAgICAgc2F2ZUlucHV0VmFsdWVUb1Jvd0NhY2hlKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJsdXIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0ZXh0RmllbGRQcm9wcy5vbkJsdXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRleHRGaWVsZFByb3BzLCBldmVudCk7XG4gICAgICAgIHNhdmVJbnB1dFZhbHVlVG9Sb3dDYWNoZSh2YWx1ZSk7XG4gICAgICAgIHNldEVkaXRpbmdDZWxsKG51bGwpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlRW50ZXJLZXlEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIChfYSA9IHRleHRGaWVsZFByb3BzLm9uS2V5RG93bikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGV4dEZpZWxkUHJvcHMsIGV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJyAmJiAhZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgIChfYiA9IGVkaXRJbnB1dFJlZnMuY3VycmVudFtjb2x1bW4uaWRdKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYmx1cigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBpZiAoY29sdW1uRGVmLkVkaXQpIHtcbiAgICAgICAgcmV0dXJuIGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogKF9iID0gY29sdW1uRGVmLkVkaXQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKGNvbHVtbkRlZiwgeyBjZWxsLCBjb2x1bW4sIHJvdywgdGFibGUgfSkgfSk7XG4gICAgfVxuICAgIHJldHVybiAoanN4KFRleHRGaWVsZCwgT2JqZWN0LmFzc2lnbih7IGRpc2FibGVkOiBwYXJzZUZyb21WYWx1ZXNPckZ1bmMoY29sdW1uRGVmLmVuYWJsZUVkaXRpbmcsIHJvdykgPT09IGZhbHNlLCBmdWxsV2lkdGg6IHRydWUsIGlucHV0UmVmOiAoaW5wdXRSZWYpID0+IHtcbiAgICAgICAgICAgIGlmIChpbnB1dFJlZikge1xuICAgICAgICAgICAgICAgIGVkaXRJbnB1dFJlZnMuY3VycmVudFtjb2x1bW4uaWRdID0gaW5wdXRSZWY7XG4gICAgICAgICAgICAgICAgaWYgKHRleHRGaWVsZFByb3BzLmlucHV0UmVmKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHRGaWVsZFByb3BzLmlucHV0UmVmID0gaW5wdXRSZWY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBsYWJlbDogWydjdXN0b20nLCAnbW9kYWwnXS5pbmNsdWRlcygoaXNDcmVhdGluZyA/IGNyZWF0ZURpc3BsYXlNb2RlIDogZWRpdERpc3BsYXlNb2RlKSlcbiAgICAgICAgICAgID8gY29sdW1uRGVmLmhlYWRlclxuICAgICAgICAgICAgOiB1bmRlZmluZWQsIG1hcmdpbjogXCJub25lXCIsIG5hbWU6IGNvbHVtbi5pZCwgcGxhY2Vob2xkZXI6ICFbJ2N1c3RvbScsICdtb2RhbCddLmluY2x1ZGVzKChpc0NyZWF0aW5nID8gY3JlYXRlRGlzcGxheU1vZGUgOiBlZGl0RGlzcGxheU1vZGUpKVxuICAgICAgICAgICAgPyBjb2x1bW5EZWYuaGVhZGVyXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCwgc2VsZWN0OiBpc1NlbGVjdEVkaXQsIHNpemU6IFwic21hbGxcIiwgdmFsdWU6IHZhbHVlLCB2YXJpYW50OiBcInN0YW5kYXJkXCIgfSwgdGV4dEZpZWxkUHJvcHMsIHsgSW5wdXRQcm9wczogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgZGlzYWJsZVVuZGVybGluZTogZWRpdERpc3BsYXlNb2RlID09PSAndGFibGUnIH0sIHRleHRGaWVsZFByb3BzLklucHV0UHJvcHMpLCB7IHN4OiAodGhlbWUpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChPYmplY3QuYXNzaWduKHsgbWI6IDAgfSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKChfYSA9IHRleHRGaWVsZFByb3BzID09PSBudWxsIHx8IHRleHRGaWVsZFByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0ZXh0RmllbGRQcm9wcy5JbnB1dFByb3BzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3gsIHRoZW1lKSkpO1xuICAgICAgICAgICAgfSB9KSwgaW5wdXRQcm9wczogT2JqZWN0LmFzc2lnbih7IGF1dG9Db21wbGV0ZTogJ25ldy1wYXNzd29yZCcgfSwgdGV4dEZpZWxkUHJvcHMuaW5wdXRQcm9wcyksIG9uQmx1cjogaGFuZGxlQmx1ciwgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSwgb25DbGljazogKGUpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAoX2EgPSB0ZXh0RmllbGRQcm9wcyA9PT0gbnVsbCB8fCB0ZXh0RmllbGRQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGV4dEZpZWxkUHJvcHMub25DbGljaykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGV4dEZpZWxkUHJvcHMsIGUpO1xuICAgICAgICB9LCBvbktleURvd246IGhhbmRsZUVudGVyS2V5RG93biwgY2hpbGRyZW46IChfYyA9IHRleHRGaWVsZFByb3BzLmNoaWxkcmVuKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAoX2QgPSBjb2x1bW5EZWYgPT09IG51bGwgfHwgY29sdW1uRGVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb2x1bW5EZWYuZWRpdFNlbGVjdE9wdGlvbnMpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5tYXAoKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBsYWJlbCwgdmFsdWUgfSA9IGdldFZhbHVlQW5kTGFiZWwob3B0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiAoanN4KE1lbnVJdGVtLCB7IHN4OiB7XG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgIGdhcDogJzAuNXJlbScsXG4gICAgICAgICAgICAgICAgICAgIG06IDAsXG4gICAgICAgICAgICAgICAgfSwgdmFsdWU6IHZhbHVlLCBjaGlsZHJlbjogbGFiZWwgfSwgdmFsdWUpKTtcbiAgICAgICAgfSkgfSkpKTtcbn07XG5cbmNvbnN0IE1SVF9UYWJsZUJvZHlDZWxsID0gKF9hKSA9PiB7XG4gICAgdmFyIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICB2YXIgeyBjZWxsLCBtZWFzdXJlRWxlbWVudCwgbnVtUm93cywgcm93SW5kZXgsIHJvd1JlZiwgdGFibGUsIHZpcnR1YWxJbmRleCB9ID0gX2EsIHJlc3QgPSBfX3Jlc3QoX2EsIFtcImNlbGxcIiwgXCJtZWFzdXJlRWxlbWVudFwiLCBcIm51bVJvd3NcIiwgXCJyb3dJbmRleFwiLCBcInJvd1JlZlwiLCBcInRhYmxlXCIsIFwidmlydHVhbEluZGV4XCJdKTtcbiAgICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lKCk7XG4gICAgY29uc3QgeyBnZXRTdGF0ZSwgb3B0aW9uczogeyBjb2x1bW5SZXNpemVNb2RlLCBjcmVhdGVEaXNwbGF5TW9kZSwgZWRpdERpc3BsYXlNb2RlLCBlbmFibGVDbGlja1RvQ29weSwgZW5hYmxlQ29sdW1uT3JkZXJpbmcsIGVuYWJsZUVkaXRpbmcsIGVuYWJsZUdyb3VwaW5nLCBlbmFibGVSb3dOdW1iZXJzLCBsYXlvdXRNb2RlLCBtdWlTa2VsZXRvblByb3BzLCBtdWlUYWJsZUJvZHlDZWxsUHJvcHMsIHJvd051bWJlckRpc3BsYXlNb2RlLCB9LCByZWZzOiB7IGVkaXRJbnB1dFJlZnMgfSwgc2V0RWRpdGluZ0NlbGwsIHNldEhvdmVyZWRDb2x1bW4sIH0gPSB0YWJsZTtcbiAgICBjb25zdCB7IGNvbHVtblNpemluZ0luZm8sIGNyZWF0aW5nUm93LCBkZW5zaXR5LCBkcmFnZ2luZ0NvbHVtbiwgZHJhZ2dpbmdSb3csIGVkaXRpbmdDZWxsLCBlZGl0aW5nUm93LCBob3ZlcmVkQ29sdW1uLCBob3ZlcmVkUm93LCBpc0xvYWRpbmcsIHNob3dTa2VsZXRvbnMsIH0gPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHsgY29sdW1uLCByb3cgfSA9IGNlbGw7XG4gICAgY29uc3QgeyBjb2x1bW5EZWYgfSA9IGNvbHVtbjtcbiAgICBjb25zdCB7IGNvbHVtbkRlZlR5cGUgfSA9IGNvbHVtbkRlZjtcbiAgICBjb25zdCBhcmdzID0geyBjZWxsLCBjb2x1bW4sIHJvdywgdGFibGUgfTtcbiAgICBjb25zdCB0YWJsZUNlbGxQcm9wcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwYXJzZUZyb21WYWx1ZXNPckZ1bmMobXVpVGFibGVCb2R5Q2VsbFByb3BzLCBhcmdzKSksIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhjb2x1bW5EZWYubXVpVGFibGVCb2R5Q2VsbFByb3BzLCBhcmdzKSksIHJlc3QpO1xuICAgIGNvbnN0IHNrZWxldG9uUHJvcHMgPSBwYXJzZUZyb21WYWx1ZXNPckZ1bmMobXVpU2tlbGV0b25Qcm9wcywge1xuICAgICAgICBjZWxsLFxuICAgICAgICBjb2x1bW4sXG4gICAgICAgIHJvdyxcbiAgICAgICAgdGFibGUsXG4gICAgfSk7XG4gICAgY29uc3QgeyBkcmFnZ2luZ0JvcmRlckNvbG9yIH0gPSBnZXRNUlRUaGVtZSh0YWJsZSwgdGhlbWUpO1xuICAgIGNvbnN0IFtza2VsZXRvbldpZHRoLCBzZXRTa2VsZXRvbldpZHRoXSA9IHVzZVN0YXRlKDEwMCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCghaXNMb2FkaW5nICYmICFzaG93U2tlbGV0b25zKSB8fCBza2VsZXRvbldpZHRoICE9PSAxMDApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHNpemUgPSBjb2x1bW4uZ2V0U2l6ZSgpO1xuICAgICAgICBzZXRTa2VsZXRvbldpZHRoKGNvbHVtbkRlZlR5cGUgPT09ICdkaXNwbGF5J1xuICAgICAgICAgICAgPyBzaXplIC8gMlxuICAgICAgICAgICAgOiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAoc2l6ZSAtIHNpemUgLyAzKSArIHNpemUgLyAzKSk7XG4gICAgfSwgW2lzTG9hZGluZywgc2hvd1NrZWxldG9uc10pO1xuICAgIGNvbnN0IGRyYWdnaW5nQm9yZGVycyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBjb25zdCBpc0RyYWdnaW5nQ29sdW1uID0gKGRyYWdnaW5nQ29sdW1uID09PSBudWxsIHx8IGRyYWdnaW5nQ29sdW1uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkcmFnZ2luZ0NvbHVtbi5pZCkgPT09IGNvbHVtbi5pZDtcbiAgICAgICAgY29uc3QgaXNIb3ZlcmVkQ29sdW1uID0gKGhvdmVyZWRDb2x1bW4gPT09IG51bGwgfHwgaG92ZXJlZENvbHVtbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogaG92ZXJlZENvbHVtbi5pZCkgPT09IGNvbHVtbi5pZDtcbiAgICAgICAgY29uc3QgaXNEcmFnZ2luZ1JvdyA9IChkcmFnZ2luZ1JvdyA9PT0gbnVsbCB8fCBkcmFnZ2luZ1JvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZHJhZ2dpbmdSb3cuaWQpID09PSByb3cuaWQ7XG4gICAgICAgIGNvbnN0IGlzSG92ZXJlZFJvdyA9IChob3ZlcmVkUm93ID09PSBudWxsIHx8IGhvdmVyZWRSb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhvdmVyZWRSb3cuaWQpID09PSByb3cuaWQ7XG4gICAgICAgIGNvbnN0IGlzRmlyc3RDb2x1bW4gPSBnZXRJc0ZpcnN0Q29sdW1uKGNvbHVtbiwgdGFibGUpO1xuICAgICAgICBjb25zdCBpc0xhc3RDb2x1bW4gPSBnZXRJc0xhc3RDb2x1bW4oY29sdW1uLCB0YWJsZSk7XG4gICAgICAgIGNvbnN0IGlzTGFzdFJvdyA9IG51bVJvd3MgJiYgcm93SW5kZXggPT09IG51bVJvd3MgLSAxO1xuICAgICAgICBjb25zdCBzaG93UmVzaXplQm9yZGVyID0gY29sdW1uU2l6aW5nSW5mby5pc1Jlc2l6aW5nQ29sdW1uID09PSBjb2x1bW4uaWQgJiZcbiAgICAgICAgICAgIGNvbHVtblJlc2l6ZU1vZGUgPT09ICdvbkNoYW5nZSc7XG4gICAgICAgIGNvbnN0IGJvcmRlclN0eWxlID0gc2hvd1Jlc2l6ZUJvcmRlclxuICAgICAgICAgICAgPyBgMnB4IHNvbGlkICR7ZHJhZ2dpbmdCb3JkZXJDb2xvcn0gIWltcG9ydGFudGBcbiAgICAgICAgICAgIDogaXNEcmFnZ2luZ0NvbHVtbiB8fCBpc0RyYWdnaW5nUm93XG4gICAgICAgICAgICAgICAgPyBgMXB4IGRhc2hlZCAke3RoZW1lLnBhbGV0dGUuZ3JleVs1MDBdfSAhaW1wb3J0YW50YFxuICAgICAgICAgICAgICAgIDogaXNIb3ZlcmVkQ29sdW1uIHx8XG4gICAgICAgICAgICAgICAgICAgIGlzSG92ZXJlZFJvdyB8fFxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5TaXppbmdJbmZvLmlzUmVzaXppbmdDb2x1bW4gPT09IGNvbHVtbi5pZFxuICAgICAgICAgICAgICAgICAgICA/IGAycHggZGFzaGVkICR7ZHJhZ2dpbmdCb3JkZXJDb2xvcn0gIWltcG9ydGFudGBcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChzaG93UmVzaXplQm9yZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4geyBib3JkZXJSaWdodDogYm9yZGVyU3R5bGUgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYm9yZGVyU3R5bGVcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogaXNEcmFnZ2luZ1JvdyB8fCBpc0hvdmVyZWRSb3cgfHwgaXNMYXN0Um93XG4gICAgICAgICAgICAgICAgICAgID8gYm9yZGVyU3R5bGVcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgYm9yZGVyTGVmdDogaXNEcmFnZ2luZ0NvbHVtbiB8fFxuICAgICAgICAgICAgICAgICAgICBpc0hvdmVyZWRDb2x1bW4gfHxcbiAgICAgICAgICAgICAgICAgICAgKChpc0RyYWdnaW5nUm93IHx8IGlzSG92ZXJlZFJvdykgJiYgaXNGaXJzdENvbHVtbilcbiAgICAgICAgICAgICAgICAgICAgPyBib3JkZXJTdHlsZVxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBib3JkZXJSaWdodDogaXNEcmFnZ2luZ0NvbHVtbiB8fFxuICAgICAgICAgICAgICAgICAgICBpc0hvdmVyZWRDb2x1bW4gfHxcbiAgICAgICAgICAgICAgICAgICAgKChpc0RyYWdnaW5nUm93IHx8IGlzSG92ZXJlZFJvdykgJiYgaXNMYXN0Q29sdW1uKVxuICAgICAgICAgICAgICAgICAgICA/IGJvcmRlclN0eWxlXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGJvcmRlclRvcDogaXNEcmFnZ2luZ1JvdyB8fCBpc0hvdmVyZWRSb3cgPyBib3JkZXJTdHlsZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH0sIFtcbiAgICAgICAgY29sdW1uU2l6aW5nSW5mby5pc1Jlc2l6aW5nQ29sdW1uLFxuICAgICAgICBkcmFnZ2luZ0NvbHVtbixcbiAgICAgICAgZHJhZ2dpbmdSb3csXG4gICAgICAgIGhvdmVyZWRDb2x1bW4sXG4gICAgICAgIGhvdmVyZWRSb3csXG4gICAgICAgIHJvd0luZGV4LFxuICAgIF0pO1xuICAgIGNvbnN0IGlzRWRpdGFibGUgPSBwYXJzZUZyb21WYWx1ZXNPckZ1bmMoZW5hYmxlRWRpdGluZywgcm93KSAmJlxuICAgICAgICBwYXJzZUZyb21WYWx1ZXNPckZ1bmMoY29sdW1uRGVmLmVuYWJsZUVkaXRpbmcsIHJvdykgIT09IGZhbHNlO1xuICAgIGNvbnN0IGlzRWRpdGluZyA9IGlzRWRpdGFibGUgJiZcbiAgICAgICAgIVsnY3VzdG9tJywgJ21vZGFsJ10uaW5jbHVkZXMoZWRpdERpc3BsYXlNb2RlKSAmJlxuICAgICAgICAoZWRpdERpc3BsYXlNb2RlID09PSAndGFibGUnIHx8XG4gICAgICAgICAgICAoZWRpdGluZ1JvdyA9PT0gbnVsbCB8fCBlZGl0aW5nUm93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlZGl0aW5nUm93LmlkKSA9PT0gcm93LmlkIHx8XG4gICAgICAgICAgICAoZWRpdGluZ0NlbGwgPT09IG51bGwgfHwgZWRpdGluZ0NlbGwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVkaXRpbmdDZWxsLmlkKSA9PT0gY2VsbC5pZCkgJiZcbiAgICAgICAgIXJvdy5nZXRJc0dyb3VwZWQoKTtcbiAgICBjb25zdCBpc0NyZWF0aW5nID0gaXNFZGl0YWJsZSAmJiBjcmVhdGVEaXNwbGF5TW9kZSA9PT0gJ3JvdycgJiYgKGNyZWF0aW5nUm93ID09PSBudWxsIHx8IGNyZWF0aW5nUm93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjcmVhdGluZ1Jvdy5pZCkgPT09IHJvdy5pZDtcbiAgICBjb25zdCBoYW5kbGVEb3VibGVDbGljayA9IChldmVudCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRhYmxlQ2VsbFByb3BzID09PSBudWxsIHx8IHRhYmxlQ2VsbFByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YWJsZUNlbGxQcm9wcy5vbkRvdWJsZUNsaWNrKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0YWJsZUNlbGxQcm9wcywgZXZlbnQpO1xuICAgICAgICBpZiAoaXNFZGl0YWJsZSAmJiBlZGl0RGlzcGxheU1vZGUgPT09ICdjZWxsJykge1xuICAgICAgICAgICAgc2V0RWRpdGluZ0NlbGwoY2VsbCk7XG4gICAgICAgICAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRGaWVsZCA9IGVkaXRJbnB1dFJlZnMuY3VycmVudFtjb2x1bW4uaWRdO1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0RmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dEZpZWxkLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHRleHRGaWVsZC5zZWxlY3QpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRleHRGaWVsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZURyYWdFbnRlciA9IChlKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGFibGVDZWxsUHJvcHMgPT09IG51bGwgfHwgdGFibGVDZWxsUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRhYmxlQ2VsbFByb3BzLm9uRHJhZ0VudGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0YWJsZUNlbGxQcm9wcywgZSk7XG4gICAgICAgIGlmIChlbmFibGVHcm91cGluZyAmJiAoaG92ZXJlZENvbHVtbiA9PT0gbnVsbCB8fCBob3ZlcmVkQ29sdW1uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBob3ZlcmVkQ29sdW1uLmlkKSA9PT0gJ2Ryb3Atem9uZScpIHtcbiAgICAgICAgICAgIHNldEhvdmVyZWRDb2x1bW4obnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuYWJsZUNvbHVtbk9yZGVyaW5nICYmIGRyYWdnaW5nQ29sdW1uKSB7XG4gICAgICAgICAgICBzZXRIb3ZlcmVkQ29sdW1uKGNvbHVtbkRlZi5lbmFibGVDb2x1bW5PcmRlcmluZyAhPT0gZmFsc2UgPyBjb2x1bW4gOiBudWxsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIChqc3goVGFibGVDZWxsLCBPYmplY3QuYXNzaWduKHsgXCJkYXRhLWluZGV4XCI6IHZpcnR1YWxJbmRleCwgcmVmOiAobm9kZSkgPT4ge1xuICAgICAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBtZWFzdXJlRWxlbWVudCA9PT0gbnVsbCB8fCBtZWFzdXJlRWxlbWVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWVhc3VyZUVsZW1lbnQobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gfSwgdGFibGVDZWxsUHJvcHMsIHsgb25Eb3VibGVDbGljazogaGFuZGxlRG91YmxlQ2xpY2ssIG9uRHJhZ0VudGVyOiBoYW5kbGVEcmFnRW50ZXIsIHN4OiAodGhlbWUpID0+IChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyAnJjpob3Zlcic6IHtcbiAgICAgICAgICAgICAgICBvdXRsaW5lOiBbJ2NlbGwnLCAndGFibGUnXS5pbmNsdWRlcyhlZGl0RGlzcGxheU1vZGUgIT09IG51bGwgJiYgZWRpdERpc3BsYXlNb2RlICE9PSB2b2lkIDAgPyBlZGl0RGlzcGxheU1vZGUgOiAnJykgJiYgaXNFZGl0YWJsZVxuICAgICAgICAgICAgICAgICAgICA/IGAxcHggc29saWQgJHt0aGVtZS5wYWxldHRlLmdyZXlbNTAwXX1gXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIG91dGxpbmVPZmZzZXQ6ICctMXB4JyxcbiAgICAgICAgICAgICAgICB0ZXh0T3ZlcmZsb3c6ICdjbGlwJyxcbiAgICAgICAgICAgIH0sIGFsaWduSXRlbXM6IChsYXlvdXRNb2RlID09PSBudWxsIHx8IGxheW91dE1vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxheW91dE1vZGUuc3RhcnRzV2l0aCgnZ3JpZCcpKSA/ICdjZW50ZXInIDogdW5kZWZpbmVkLCBjdXJzb3I6IGlzRWRpdGFibGUgJiYgZWRpdERpc3BsYXlNb2RlID09PSAnY2VsbCcgPyAncG9pbnRlcicgOiAnaW5oZXJpdCcsIGp1c3RpZnlDb250ZW50OiAobGF5b3V0TW9kZSA9PT0gbnVsbCB8fCBsYXlvdXRNb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsYXlvdXRNb2RlLnN0YXJ0c1dpdGgoJ2dyaWQnKSlcbiAgICAgICAgICAgICAgICA/IHRhYmxlQ2VsbFByb3BzLmFsaWduXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsIG92ZXJmbG93OiAnaGlkZGVuJywgcDogZGVuc2l0eSA9PT0gJ2NvbXBhY3QnXG4gICAgICAgICAgICAgICAgPyBjb2x1bW5EZWZUeXBlID09PSAnZGlzcGxheSdcbiAgICAgICAgICAgICAgICAgICAgPyAnMCAwLjVyZW0nXG4gICAgICAgICAgICAgICAgICAgIDogJzAuNXJlbSdcbiAgICAgICAgICAgICAgICA6IGRlbnNpdHkgPT09ICdjb21mb3J0YWJsZSdcbiAgICAgICAgICAgICAgICAgICAgPyBjb2x1bW5EZWZUeXBlID09PSAnZGlzcGxheSdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJzAuNXJlbSAwLjc1cmVtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgOiAnMXJlbSdcbiAgICAgICAgICAgICAgICAgICAgOiBjb2x1bW5EZWZUeXBlID09PSAnZGlzcGxheSdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJzFyZW0gMS4yNXJlbSdcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJzEuNXJlbScsIHRleHRPdmVyZmxvdzogY29sdW1uRGVmVHlwZSAhPT0gJ2Rpc3BsYXknID8gJ2VsbGlwc2lzJyA6IHVuZGVmaW5lZCwgW3RoZW1lLmRpcmVjdGlvbiA9PT0gJ3J0bCcgPyAncHInIDogJ3BsJ106IGNvbHVtbi5pZCA9PT0gJ21ydC1yb3ctZXhwYW5kJ1xuICAgICAgICAgICAgICAgID8gYCR7cm93LmRlcHRoICtcbiAgICAgICAgICAgICAgICAgICAgKGRlbnNpdHkgPT09ICdjb21wYWN0J1xuICAgICAgICAgICAgICAgICAgICAgICAgPyAwLjVcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZGVuc2l0eSA9PT0gJ2NvbWZvcnRhYmxlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gMC43NVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogMS4yNSl9cmVtYFxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLCB3aGl0ZVNwYWNlOiByb3cuZ2V0SXNQaW5uZWQoKSB8fCBkZW5zaXR5ID09PSAnY29tcGFjdCcgPyAnbm93cmFwJyA6ICdub3JtYWwnLCB6SW5kZXg6IChkcmFnZ2luZ0NvbHVtbiA9PT0gbnVsbCB8fCBkcmFnZ2luZ0NvbHVtbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogZHJhZ2dpbmdDb2x1bW4uaWQpID09PSBjb2x1bW4uaWQgPyAyIDogY29sdW1uLmdldElzUGlubmVkKCkgPyAxIDogMCB9LCBnZXRDb21tb25NUlRDZWxsU3R5bGVzKHtcbiAgICAgICAgICAgIGNvbHVtbixcbiAgICAgICAgICAgIHRhYmxlLFxuICAgICAgICAgICAgdGFibGVDZWxsUHJvcHMsXG4gICAgICAgICAgICB0aGVtZSxcbiAgICAgICAgfSkpLCBkcmFnZ2luZ0JvcmRlcnMpKSwgY2hpbGRyZW46IChfYiA9IHRhYmxlQ2VsbFByb3BzLmNoaWxkcmVuKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW2NlbGwuZ2V0SXNQbGFjZWhvbGRlcigpID8gKChfZCA9IChfYyA9IGNvbHVtbkRlZi5QbGFjZWhvbGRlckNlbGwpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKGNvbHVtbkRlZiwgeyBjZWxsLCBjb2x1bW4sIHJvdywgdGFibGUgfSkpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IG51bGwpIDogc2hvd1NrZWxldG9ucyAhPT0gZmFsc2UgJiYgKGlzTG9hZGluZyB8fCBzaG93U2tlbGV0b25zKSA/IChqc3goU2tlbGV0b24sIE9iamVjdC5hc3NpZ24oeyBhbmltYXRpb246IFwid2F2ZVwiLCBoZWlnaHQ6IDIwLCB3aWR0aDogc2tlbGV0b25XaWR0aCB9LCBza2VsZXRvblByb3BzKSkpIDogZW5hYmxlUm93TnVtYmVycyAmJlxuICAgICAgICAgICAgICAgICAgICByb3dOdW1iZXJEaXNwbGF5TW9kZSA9PT0gJ3N0YXRpYycgJiZcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLmlkID09PSAnbXJ0LXJvdy1udW1iZXJzJyA/IChyb3dJbmRleCArIDEpIDogY29sdW1uLmlkID09PSAnbXJ0LXJvdy1kcmFnJyA/IChqc3goTVJUX1RhYmxlQm9keVJvd0dyYWJIYW5kbGUsIHsgcm93OiByb3csIHJvd1JlZjogcm93UmVmLCB0YWJsZTogdGFibGUgfSkpIDogY29sdW1uRGVmVHlwZSA9PT0gJ2Rpc3BsYXknICYmXG4gICAgICAgICAgICAgICAgICAgIChjb2x1bW4uaWQgPT09ICdtcnQtcm93LXNlbGVjdCcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbi5pZCA9PT0gJ21ydC1yb3ctZXhwYW5kJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIXJvdy5nZXRJc0dyb3VwZWQoKSkgPyAoKF9lID0gY29sdW1uRGVmLkNlbGwpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5jYWxsKGNvbHVtbkRlZiwge1xuICAgICAgICAgICAgICAgICAgICBjZWxsLFxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4sXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVkQ2VsbFZhbHVlOiBjZWxsLnJlbmRlclZhbHVlKCksXG4gICAgICAgICAgICAgICAgICAgIHJvdyxcbiAgICAgICAgICAgICAgICAgICAgdGFibGUsXG4gICAgICAgICAgICAgICAgfSkpIDogaXNDcmVhdGluZyB8fCBpc0VkaXRpbmcgPyAoanN4KE1SVF9FZGl0Q2VsbFRleHRGaWVsZCwgeyBjZWxsOiBjZWxsLCB0YWJsZTogdGFibGUgfSkpIDogKGVuYWJsZUNsaWNrVG9Db3B5IHx8IGNvbHVtbkRlZi5lbmFibGVDbGlja1RvQ29weSkgJiZcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uRGVmLmVuYWJsZUNsaWNrVG9Db3B5ICE9PSBmYWxzZSA/IChqc3goTVJUX0NvcHlCdXR0b24sIHsgY2VsbDogY2VsbCwgdGFibGU6IHRhYmxlLCBjaGlsZHJlbjoganN4KE1SVF9UYWJsZUJvZHlDZWxsVmFsdWUsIHsgY2VsbDogY2VsbCwgdGFibGU6IHRhYmxlIH0pIH0pKSA6IChqc3goTVJUX1RhYmxlQm9keUNlbGxWYWx1ZSwgeyBjZWxsOiBjZWxsLCB0YWJsZTogdGFibGUgfSkpLCBjZWxsLmdldElzR3JvdXBlZCgpICYmICFjb2x1bW5EZWYuR3JvdXBlZENlbGwgJiYgKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcIiAoXCIsIChfZiA9IHJvdy5zdWJSb3dzKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YubGVuZ3RoLCBcIilcIl0gfSkpXSB9KSkgfSkpKTtcbn07XG5jb25zdCBNZW1vX01SVF9UYWJsZUJvZHlDZWxsID0gbWVtbyhNUlRfVGFibGVCb2R5Q2VsbCwgKHByZXYsIG5leHQpID0+IG5leHQuY2VsbCA9PT0gcHJldi5jZWxsKTtcblxuY29uc3QgTVJUX1RhYmxlRGV0YWlsUGFuZWwgPSAoX2EpID0+IHtcbiAgICB2YXIgeyBwYXJlbnRSb3dSZWYsIHJvdywgcm93SW5kZXgsIHRhYmxlLCB2aXJ0dWFsUm93IH0gPSBfYSwgcmVzdCA9IF9fcmVzdChfYSwgW1wicGFyZW50Um93UmVmXCIsIFwicm93XCIsIFwicm93SW5kZXhcIiwgXCJ0YWJsZVwiLCBcInZpcnR1YWxSb3dcIl0pO1xuICAgIGNvbnN0IHsgZ2V0U3RhdGUsIGdldFZpc2libGVMZWFmQ29sdW1ucywgb3B0aW9uczogeyBsYXlvdXRNb2RlLCBtdWlEZXRhaWxQYW5lbFByb3BzLCBtdWlUYWJsZUJvZHlSb3dQcm9wcywgcmVuZGVyRGV0YWlsUGFuZWwsIH0sIH0gPSB0YWJsZTtcbiAgICBjb25zdCB7IGlzTG9hZGluZyB9ID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCB0YWJsZVJvd1Byb3BzID0gcGFyc2VGcm9tVmFsdWVzT3JGdW5jKG11aVRhYmxlQm9keVJvd1Byb3BzLCB7XG4gICAgICAgIGlzRGV0YWlsUGFuZWw6IHRydWUsXG4gICAgICAgIHJvdyxcbiAgICAgICAgc3RhdGljUm93SW5kZXg6IHJvd0luZGV4LFxuICAgICAgICB0YWJsZSxcbiAgICB9KTtcbiAgICBjb25zdCB0YWJsZUNlbGxQcm9wcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKG11aURldGFpbFBhbmVsUHJvcHMsIHtcbiAgICAgICAgcm93LFxuICAgICAgICB0YWJsZSxcbiAgICB9KSksIHJlc3QpO1xuICAgIHJldHVybiAoanN4KFRhYmxlUm93LCBPYmplY3QuYXNzaWduKHsgY2xhc3NOYW1lOiBcIk11aS1UYWJsZUJvZHlDZWxsLURldGFpbFBhbmVsXCIgfSwgdGFibGVSb3dQcm9wcywgeyBzeDogKHRoZW1lKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgcmV0dXJuIChPYmplY3QuYXNzaWduKHsgZGlzcGxheTogKGxheW91dE1vZGUgPT09IG51bGwgfHwgbGF5b3V0TW9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGF5b3V0TW9kZS5zdGFydHNXaXRoKCdncmlkJykpID8gJ2ZsZXgnIDogdW5kZWZpbmVkLCBwb3NpdGlvbjogdmlydHVhbFJvdyA/ICdhYnNvbHV0ZScgOiB1bmRlZmluZWQsIHRvcDogdmlydHVhbFJvd1xuICAgICAgICAgICAgICAgICAgICA/IGAkeyhfYiA9IChfYSA9IHBhcmVudFJvd1JlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5oZWlnaHR9cHhgXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLCB0cmFuc2Zvcm06IHZpcnR1YWxSb3dcbiAgICAgICAgICAgICAgICAgICAgPyBgdHJhbnNsYXRlWSgke3ZpcnR1YWxSb3cgPT09IG51bGwgfHwgdmlydHVhbFJvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmlydHVhbFJvdy5zdGFydH1weClgXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLCB3aWR0aDogJzEwMCUnLCB6SW5kZXg6IHZpcnR1YWxSb3cgPyAyIDogdW5kZWZpbmVkIH0sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyh0YWJsZVJvd1Byb3BzID09PSBudWxsIHx8IHRhYmxlUm93UHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRhYmxlUm93UHJvcHMuc3gsIHRoZW1lKSkpO1xuICAgICAgICB9LCBjaGlsZHJlbjoganN4KFRhYmxlQ2VsbCwgT2JqZWN0LmFzc2lnbih7IGNsYXNzTmFtZTogXCJNdWktVGFibGVCb2R5Q2VsbC1EZXRhaWxQYW5lbFwiLCBjb2xTcGFuOiBnZXRWaXNpYmxlTGVhZkNvbHVtbnMoKS5sZW5ndGggfSwgdGFibGVDZWxsUHJvcHMsIHsgc3g6ICh0aGVtZSkgPT4gKE9iamVjdC5hc3NpZ24oeyBiYWNrZ3JvdW5kQ29sb3I6IHZpcnR1YWxSb3dcbiAgICAgICAgICAgICAgICAgICAgPyBnZXRNUlRUaGVtZSh0YWJsZSwgdGhlbWUpLmJhc2VCYWNrZ3JvdW5kQ29sb3JcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsIGJvcmRlckJvdHRvbTogIXJvdy5nZXRJc0V4cGFuZGVkKCkgPyAnbm9uZScgOiB1bmRlZmluZWQsIGRpc3BsYXk6IChsYXlvdXRNb2RlID09PSBudWxsIHx8IGxheW91dE1vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxheW91dE1vZGUuc3RhcnRzV2l0aCgnZ3JpZCcpKSA/ICdmbGV4JyA6IHVuZGVmaW5lZCwgcHk6IHJvdy5nZXRJc0V4cGFuZGVkKCkgPyAnMXJlbScgOiAwLCB0cmFuc2l0aW9uOiAnYWxsIDE1MG1zIGVhc2UtaW4tb3V0Jywgd2lkdGg6IGAke3RhYmxlLmdldFRvdGFsU2l6ZSgpfXB4YCB9LCBwYXJzZUZyb21WYWx1ZXNPckZ1bmModGFibGVDZWxsUHJvcHMgPT09IG51bGwgfHwgdGFibGVDZWxsUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRhYmxlQ2VsbFByb3BzLnN4LCB0aGVtZSkpKSwgY2hpbGRyZW46IHJlbmRlckRldGFpbFBhbmVsICYmIChqc3goQ29sbGFwc2UsIHsgaW46IHJvdy5nZXRJc0V4cGFuZGVkKCksIG1vdW50T25FbnRlcjogdHJ1ZSwgdW5tb3VudE9uRXhpdDogdHJ1ZSwgY2hpbGRyZW46ICFpc0xvYWRpbmcgJiYgcmVuZGVyRGV0YWlsUGFuZWwoeyByb3csIHRhYmxlIH0pIH0pKSB9KSkgfSkpKTtcbn07XG5cbmNvbnN0IE1SVF9UYWJsZUJvZHlSb3cgPSAoeyBjb2x1bW5WaXJ0dWFsaXplciwgbWVhc3VyZUVsZW1lbnQsIG51bVJvd3MsIHBpbm5lZFJvd0lkcywgcm93LCByb3dJbmRleCwgdGFibGUsIHZpcnR1YWxDb2x1bW5zLCB2aXJ0dWFsUGFkZGluZ0xlZnQsIHZpcnR1YWxQYWRkaW5nUmlnaHQsIHZpcnR1YWxSb3csIH0pID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgY29uc3QgdGhlbWUgPSB1c2VUaGVtZSgpO1xuICAgIGNvbnN0IHsgZ2V0U3RhdGUsIG9wdGlvbnM6IHsgZW5hYmxlUm93T3JkZXJpbmcsIGVuYWJsZVJvd1Bpbm5pbmcsIGVuYWJsZVN0aWNreUZvb3RlciwgZW5hYmxlU3RpY2t5SGVhZGVyLCBsYXlvdXRNb2RlLCBtZW1vTW9kZSwgbXVpVGFibGVCb2R5Um93UHJvcHMsIHJlbmRlckRldGFpbFBhbmVsLCByb3dQaW5uaW5nRGlzcGxheU1vZGUsIH0sIHJlZnM6IHsgdGFibGVGb290ZXJSZWYsIHRhYmxlSGVhZFJlZiB9LCBzZXRIb3ZlcmVkUm93LCB9ID0gdGFibGU7XG4gICAgY29uc3QgeyBkZW5zaXR5LCBkcmFnZ2luZ0NvbHVtbiwgZHJhZ2dpbmdSb3csIGVkaXRpbmdDZWxsLCBlZGl0aW5nUm93LCBob3ZlcmVkUm93LCBpc0Z1bGxTY3JlZW4sIHJvd1Bpbm5pbmcsIH0gPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGlzUGlubmVkID0gZW5hYmxlUm93UGlubmluZyAmJiByb3cuZ2V0SXNQaW5uZWQoKTtcbiAgICBjb25zdCB0YWJsZVJvd1Byb3BzID0gcGFyc2VGcm9tVmFsdWVzT3JGdW5jKG11aVRhYmxlQm9keVJvd1Byb3BzLCB7XG4gICAgICAgIHJvdyxcbiAgICAgICAgc3RhdGljUm93SW5kZXg6IHJvd0luZGV4LFxuICAgICAgICB0YWJsZSxcbiAgICB9KTtcbiAgICBjb25zdCBbYm90dG9tUGlubmVkSW5kZXgsIHRvcFBpbm5lZEluZGV4XSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBpZiAoIWVuYWJsZVJvd1Bpbm5pbmcgfHxcbiAgICAgICAgICAgICEocm93UGlubmluZ0Rpc3BsYXlNb2RlID09PSBudWxsIHx8IHJvd1Bpbm5pbmdEaXNwbGF5TW9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcm93UGlubmluZ0Rpc3BsYXlNb2RlLmluY2x1ZGVzKCdzdGlja3knKSkgfHxcbiAgICAgICAgICAgICFwaW5uZWRSb3dJZHMgfHxcbiAgICAgICAgICAgICFyb3cuZ2V0SXNQaW5uZWQoKSlcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFsuLi5waW5uZWRSb3dJZHNdLnJldmVyc2UoKS5pbmRleE9mKHJvdy5pZCksXG4gICAgICAgICAgICBwaW5uZWRSb3dJZHMuaW5kZXhPZihyb3cuaWQpLFxuICAgICAgICBdO1xuICAgIH0sIFtwaW5uZWRSb3dJZHMsIHJvd1Bpbm5pbmddKTtcbiAgICBjb25zdCB0YWJsZUhlYWRIZWlnaHQgPSAoKGVuYWJsZVN0aWNreUhlYWRlciB8fCBpc0Z1bGxTY3JlZW4pICYmXG4gICAgICAgICgoX2EgPSB0YWJsZUhlYWRSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsaWVudEhlaWdodCkpIHx8XG4gICAgICAgIDA7XG4gICAgY29uc3QgdGFibGVGb290ZXJIZWlnaHQgPSAoZW5hYmxlU3RpY2t5Rm9vdGVyICYmICgoX2IgPSB0YWJsZUZvb3RlclJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2xpZW50SGVpZ2h0KSkgfHwgMDtcbiAgICBjb25zdCBzeCA9IHBhcnNlRnJvbVZhbHVlc09yRnVuYyh0YWJsZVJvd1Byb3BzID09PSBudWxsIHx8IHRhYmxlUm93UHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRhYmxlUm93UHJvcHMuc3gsIHRoZW1lKTtcbiAgICBjb25zdCByb3dIZWlnaHQgPSBcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcGFyc2VJbnQoKF9kID0gKF9jID0gdGFibGVSb3dQcm9wcyA9PT0gbnVsbCB8fCB0YWJsZVJvd1Byb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YWJsZVJvd1Byb3BzLnN0eWxlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuaGVpZ2h0KSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBzeCA9PT0gbnVsbCB8fCBzeCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3guaGVpZ2h0LCAxMCkgfHxcbiAgICAgICAgKGRlbnNpdHkgPT09ICdjb21wYWN0JyA/IDM3IDogZGVuc2l0eSA9PT0gJ2NvbWZvcnRhYmxlJyA/IDUzIDogNjkpO1xuICAgIGNvbnN0IGhhbmRsZURyYWdFbnRlciA9IChfZSkgPT4ge1xuICAgICAgICBpZiAoZW5hYmxlUm93T3JkZXJpbmcgJiYgZHJhZ2dpbmdSb3cpIHtcbiAgICAgICAgICAgIHNldEhvdmVyZWRSb3cocm93KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgcm93UmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHsgYmFzZUJhY2tncm91bmRDb2xvciwgcGlubmVkUm93QmFja2dyb3VuZENvbG9yLCBzZWxlY3RlZFJvd0JhY2tncm91bmRDb2xvciwgfSA9IGdldE1SVFRoZW1lKHRhYmxlLCB0aGVtZSk7XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4cyhUYWJsZVJvdywgT2JqZWN0LmFzc2lnbih7IFwiZGF0YS1pbmRleFwiOiB2aXJ0dWFsUm93ID09PSBudWxsIHx8IHZpcnR1YWxSb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZpcnR1YWxSb3cuaW5kZXgsIFwiZGF0YS1waW5uZWRcIjogISFpc1Bpbm5lZCB8fCB1bmRlZmluZWQsIFwiZGF0YS1zZWxlY3RlZFwiOiByb3cuZ2V0SXNTZWxlY3RlZCgpIHx8IHVuZGVmaW5lZCwgb25EcmFnRW50ZXI6IGhhbmRsZURyYWdFbnRlciwgcmVmOiAobm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm93UmVmLmN1cnJlbnQgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVhc3VyZUVsZW1lbnQgPT09IG51bGwgfHwgbWVhc3VyZUVsZW1lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1lYXN1cmVFbGVtZW50KG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgc2VsZWN0ZWQ6IHJvdy5nZXRJc1NlbGVjdGVkKCkgfSwgdGFibGVSb3dQcm9wcywgeyBzdHlsZTogT2JqZWN0LmFzc2lnbih7IHRyYW5zZm9ybTogdmlydHVhbFJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBgdHJhbnNsYXRlWSgke3ZpcnR1YWxSb3cgPT09IG51bGwgfHwgdmlydHVhbFJvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmlydHVhbFJvdy5zdGFydH1weClgXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCB9LCB0YWJsZVJvd1Byb3BzID09PSBudWxsIHx8IHRhYmxlUm93UHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRhYmxlUm93UHJvcHMuc3R5bGUpLCBzeDogKHRoZW1lKSA9PiAoT2JqZWN0LmFzc2lnbih7ICcmOmhvdmVyIHRkJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAodGFibGVSb3dQcm9wcyA9PT0gbnVsbCB8fCB0YWJsZVJvd1Byb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YWJsZVJvd1Byb3BzLmhvdmVyKSAhPT0gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHJvdy5nZXRJc1NlbGVjdGVkKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgJHthbHBoYShzZWxlY3RlZFJvd0JhY2tncm91bmRDb2xvciwgMC4zKX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGhlbWUucGFsZXR0ZS5tb2RlID09PSAnZGFyaydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYCR7bGlnaHRlbihiYXNlQmFja2dyb3VuZENvbG9yLCAwLjA1KX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGAke2RhcmtlbihiYXNlQmFja2dyb3VuZENvbG9yLCAwLjA1KX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIH0sIGJhY2tncm91bmRDb2xvcjogYCR7YmFzZUJhY2tncm91bmRDb2xvcn0gIWltcG9ydGFudGAsIGJvdHRvbTogIXZpcnR1YWxSb3cgJiYgYm90dG9tUGlubmVkSW5kZXggIT09IHVuZGVmaW5lZCAmJiBpc1Bpbm5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBgJHtib3R0b21QaW5uZWRJbmRleCAqIHJvd0hlaWdodCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGVuYWJsZVN0aWNreUZvb3RlciA/IHRhYmxlRm9vdGVySGVpZ2h0IC0gMSA6IDApfXB4YFxuICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsIGJveFNpemluZzogJ2JvcmRlci1ib3gnLCBkaXNwbGF5OiAobGF5b3V0TW9kZSA9PT0gbnVsbCB8fCBsYXlvdXRNb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsYXlvdXRNb2RlLnN0YXJ0c1dpdGgoJ2dyaWQnKSkgPyAnZmxleCcgOiB1bmRlZmluZWQsIG9wYWNpdHk6IGlzUGlubmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA/IDAuOTdcbiAgICAgICAgICAgICAgICAgICAgICAgIDogKGRyYWdnaW5nUm93ID09PSBudWxsIHx8IGRyYWdnaW5nUm93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkcmFnZ2luZ1Jvdy5pZCkgPT09IHJvdy5pZCB8fCAoaG92ZXJlZFJvdyA9PT0gbnVsbCB8fCBob3ZlcmVkUm93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBob3ZlcmVkUm93LmlkKSA9PT0gcm93LmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAwLjVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDEsIHBvc2l0aW9uOiB2aXJ0dWFsUm93XG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdhYnNvbHV0ZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIDogKHJvd1Bpbm5pbmdEaXNwbGF5TW9kZSA9PT0gbnVsbCB8fCByb3dQaW5uaW5nRGlzcGxheU1vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJvd1Bpbm5pbmdEaXNwbGF5TW9kZS5pbmNsdWRlcygnc3RpY2t5JykpICYmIGlzUGlubmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnc3RpY2t5J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLCB0ZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiByb3cuZ2V0SXNTZWxlY3RlZCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZWxlY3RlZFJvd0JhY2tncm91bmRDb2xvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXNQaW5uZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBwaW5uZWRSb3dCYWNrZ3JvdW5kQ29sb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIH0sIHRvcDogdmlydHVhbFJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgPyAwXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRvcFBpbm5lZEluZGV4ICE9PSB1bmRlZmluZWQgJiYgaXNQaW5uZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGAke3RvcFBpbm5lZEluZGV4ICogcm93SGVpZ2h0ICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGVuYWJsZVN0aWNreUhlYWRlciB8fCBpc0Z1bGxTY3JlZW4gPyB0YWJsZUhlYWRIZWlnaHQgLSAxIDogMCl9cHhgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsIHRyYW5zaXRpb246IHZpcnR1YWxSb3cgPyAnbm9uZScgOiAnYWxsIDE1MG1zIGVhc2UtaW4tb3V0Jywgd2lkdGg6ICcxMDAlJywgekluZGV4OiAocm93UGlubmluZ0Rpc3BsYXlNb2RlID09PSBudWxsIHx8IHJvd1Bpbm5pbmdEaXNwbGF5TW9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcm93UGlubmluZ0Rpc3BsYXlNb2RlLmluY2x1ZGVzKCdzdGlja3knKSkgJiYgaXNQaW5uZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gMlxuICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQgfSwgc3gpKSwgY2hpbGRyZW46IFt2aXJ0dWFsUGFkZGluZ0xlZnQgPyAoanN4KFwidGRcIiwgeyBzdHlsZTogeyBkaXNwbGF5OiAnZmxleCcsIHdpZHRoOiB2aXJ0dWFsUGFkZGluZ0xlZnQgfSB9KSkgOiBudWxsLCAodmlydHVhbENvbHVtbnMgIT09IG51bGwgJiYgdmlydHVhbENvbHVtbnMgIT09IHZvaWQgMCA/IHZpcnR1YWxDb2x1bW5zIDogcm93LmdldFZpc2libGVDZWxscygpKS5tYXAoKGNlbGxPclZpcnR1YWxDZWxsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjZWxsID0gY29sdW1uVmlydHVhbGl6ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHJvdy5nZXRWaXNpYmxlQ2VsbHMoKVtjZWxsT3JWaXJ0dWFsQ2VsbC5pbmRleF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGNlbGxPclZpcnR1YWxDZWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZWFzdXJlRWxlbWVudDogY29sdW1uVmlydHVhbGl6ZXIgPT09IG51bGwgfHwgY29sdW1uVmlydHVhbGl6ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbHVtblZpcnR1YWxpemVyLm1lYXN1cmVFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bVJvd3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93SW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93UmVmLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpcnR1YWxJbmRleDogY29sdW1uVmlydHVhbGl6ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjZWxsT3JWaXJ0dWFsQ2VsbC5pbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2VsbCA/IChtZW1vTW9kZSA9PT0gJ2NlbGxzJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuY29sdW1uLmNvbHVtbkRlZi5jb2x1bW5EZWZUeXBlID09PSAnZGF0YScgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhZHJhZ2dpbmdDb2x1bW4gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhZHJhZ2dpbmdSb3cgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZWRpdGluZ0NlbGwgPT09IG51bGwgfHwgZWRpdGluZ0NlbGwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVkaXRpbmdDZWxsLmlkKSAhPT0gY2VsbC5pZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlZGl0aW5nUm93ID09PSBudWxsIHx8IGVkaXRpbmdSb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVkaXRpbmdSb3cuaWQpICE9PSByb3cuaWQgPyAoanN4KE1lbW9fTVJUX1RhYmxlQm9keUNlbGwsIE9iamVjdC5hc3NpZ24oe30sIHByb3BzKSwgY2VsbC5pZCkpIDogKGpzeChNUlRfVGFibGVCb2R5Q2VsbCwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpLCBjZWxsLmlkKSkpIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfSksIHZpcnR1YWxQYWRkaW5nUmlnaHQgPyAoanN4KFwidGRcIiwgeyBzdHlsZTogeyBkaXNwbGF5OiAnZmxleCcsIHdpZHRoOiB2aXJ0dWFsUGFkZGluZ1JpZ2h0IH0gfSkpIDogbnVsbF0gfSkpLCByZW5kZXJEZXRhaWxQYW5lbCAmJiAhcm93LmdldElzR3JvdXBlZCgpICYmIChqc3goTVJUX1RhYmxlRGV0YWlsUGFuZWwsIHsgcGFyZW50Um93UmVmOiByb3dSZWYsIHJvdzogcm93LCByb3dJbmRleDogcm93SW5kZXgsIHRhYmxlOiB0YWJsZSwgdmlydHVhbFJvdzogdmlydHVhbFJvdyB9KSldIH0pKTtcbn07XG5jb25zdCBNZW1vX01SVF9UYWJsZUJvZHlSb3cgPSBtZW1vKE1SVF9UYWJsZUJvZHlSb3csIChwcmV2LCBuZXh0KSA9PiBwcmV2LnJvdyA9PT0gbmV4dC5yb3cgJiYgcHJldi5yb3dJbmRleCA9PT0gbmV4dC5yb3dJbmRleCk7XG5cbmNvbnN0IGZ1enp5JDEgPSAocm93QSwgcm93QiwgY29sdW1uSWQpID0+IHtcbiAgICBsZXQgZGlyID0gMDtcbiAgICBpZiAocm93QS5jb2x1bW5GaWx0ZXJzTWV0YVtjb2x1bW5JZF0pIHtcbiAgICAgICAgZGlyID0gY29tcGFyZUl0ZW1zKHJvd0EuY29sdW1uRmlsdGVyc01ldGFbY29sdW1uSWRdLCByb3dCLmNvbHVtbkZpbHRlcnNNZXRhW2NvbHVtbklkXSk7XG4gICAgfVxuICAgIC8vIFByb3ZpZGUgYSBmYWxsYmFjayBmb3Igd2hlbiB0aGUgaXRlbSByYW5rcyBhcmUgZXF1YWxcbiAgICByZXR1cm4gZGlyID09PSAwXG4gICAgICAgID8gc29ydGluZ0Zucy5hbHBoYW51bWVyaWMocm93QSwgcm93QiwgY29sdW1uSWQpXG4gICAgICAgIDogZGlyO1xufTtcbmNvbnN0IE1SVF9Tb3J0aW5nRm5zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzb3J0aW5nRm5zKSwgeyBmdXp6eTogZnV6enkkMSB9KTtcbmNvbnN0IHJhbmtHbG9iYWxGdXp6eSA9IChyb3dBLCByb3dCKSA9PiBNYXRoLm1heCguLi5PYmplY3QudmFsdWVzKHJvd0IuY29sdW1uRmlsdGVyc01ldGEpLm1hcCgodikgPT4gdi5yYW5rKSkgLVxuICAgIE1hdGgubWF4KC4uLk9iamVjdC52YWx1ZXMocm93QS5jb2x1bW5GaWx0ZXJzTWV0YSkubWFwKCh2KSA9PiB2LnJhbmspKTtcblxuY29uc3QgTVJUX1RhYmxlQm9keSA9IChfYSkgPT4ge1xuICAgIHZhciBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nO1xuICAgIHZhciB7IGNvbHVtblZpcnR1YWxpemVyLCB0YWJsZSwgdmlydHVhbENvbHVtbnMsIHZpcnR1YWxQYWRkaW5nTGVmdCwgdmlydHVhbFBhZGRpbmdSaWdodCB9ID0gX2EsIHJlc3QgPSBfX3Jlc3QoX2EsIFtcImNvbHVtblZpcnR1YWxpemVyXCIsIFwidGFibGVcIiwgXCJ2aXJ0dWFsQ29sdW1uc1wiLCBcInZpcnR1YWxQYWRkaW5nTGVmdFwiLCBcInZpcnR1YWxQYWRkaW5nUmlnaHRcIl0pO1xuICAgIGNvbnN0IHsgZ2V0Qm90dG9tUm93cywgZ2V0Q2VudGVyUm93cywgZ2V0SXNTb21lUm93c1Bpbm5lZCwgZ2V0UHJlUGFnaW5hdGlvblJvd01vZGVsLCBnZXRSb3dNb2RlbCwgZ2V0U3RhdGUsIGdldFRvcFJvd3MsIG9wdGlvbnM6IHsgY3JlYXRlRGlzcGxheU1vZGUsIGVuYWJsZUdsb2JhbEZpbHRlclJhbmtlZFJlc3VsdHMsIGVuYWJsZVBhZ2luYXRpb24sIGVuYWJsZVJvd1Bpbm5pbmcsIGVuYWJsZVJvd1ZpcnR1YWxpemF0aW9uLCBlbmFibGVTdGlja3lGb290ZXIsIGVuYWJsZVN0aWNreUhlYWRlciwgbGF5b3V0TW9kZSwgbG9jYWxpemF0aW9uLCBtYW51YWxFeHBhbmRpbmcsIG1hbnVhbEZpbHRlcmluZywgbWFudWFsR3JvdXBpbmcsIG1hbnVhbFBhZ2luYXRpb24sIG1hbnVhbFNvcnRpbmcsIG1lbW9Nb2RlLCBtdWlUYWJsZUJvZHlQcm9wcywgcmVuZGVyRW1wdHlSb3dzRmFsbGJhY2ssIHJvd1Bpbm5pbmdEaXNwbGF5TW9kZSwgcm93VmlydHVhbGl6ZXJJbnN0YW5jZVJlZiwgcm93VmlydHVhbGl6ZXJPcHRpb25zLCB9LCByZWZzOiB7IHRhYmxlQ29udGFpbmVyUmVmLCB0YWJsZUZvb3RlclJlZiwgdGFibGVIZWFkUmVmLCB0YWJsZVBhcGVyUmVmIH0sIH0gPSB0YWJsZTtcbiAgICBjb25zdCB7IGNvbHVtbkZpbHRlcnMsIGNyZWF0aW5nUm93LCBkZW5zaXR5LCBkcmFnZ2luZ1JvdywgZXhwYW5kZWQsIGdsb2JhbEZpbHRlciwgaXNGdWxsU2NyZWVuLCBwYWdpbmF0aW9uLCByb3dQaW5uaW5nLCBzb3J0aW5nLCB9ID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCB0YWJsZUJvZHlQcm9wcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKG11aVRhYmxlQm9keVByb3BzLCB7IHRhYmxlIH0pKSwgcmVzdCk7XG4gICAgY29uc3Qgcm93VmlydHVhbGl6ZXJQcm9wcyA9IHBhcnNlRnJvbVZhbHVlc09yRnVuYyhyb3dWaXJ0dWFsaXplck9wdGlvbnMsIHtcbiAgICAgICAgdGFibGUsXG4gICAgfSk7XG4gICAgY29uc3QgdGFibGVIZWFkSGVpZ2h0ID0gKChlbmFibGVTdGlja3lIZWFkZXIgfHwgaXNGdWxsU2NyZWVuKSAmJlxuICAgICAgICAoKF9iID0gdGFibGVIZWFkUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jbGllbnRIZWlnaHQpKSB8fFxuICAgICAgICAwO1xuICAgIGNvbnN0IHRhYmxlRm9vdGVySGVpZ2h0ID0gKGVuYWJsZVN0aWNreUZvb3RlciAmJiAoKF9jID0gdGFibGVGb290ZXJSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNsaWVudEhlaWdodCkpIHx8IDA7XG4gICAgY29uc3Qgc2hvdWxkUmFua1Jvd3MgPSB1c2VNZW1vKCgpID0+IGdldENhblJhbmtSb3dzKHRhYmxlKSAmJlxuICAgICAgICAhT2JqZWN0LnZhbHVlcyhzb3J0aW5nKS5zb21lKEJvb2xlYW4pICYmXG4gICAgICAgIGdsb2JhbEZpbHRlciwgW1xuICAgICAgICBlbmFibGVHbG9iYWxGaWx0ZXJSYW5rZWRSZXN1bHRzLFxuICAgICAgICBleHBhbmRlZCxcbiAgICAgICAgZ2xvYmFsRmlsdGVyLFxuICAgICAgICBtYW51YWxFeHBhbmRpbmcsXG4gICAgICAgIG1hbnVhbEZpbHRlcmluZyxcbiAgICAgICAgbWFudWFsR3JvdXBpbmcsXG4gICAgICAgIG1hbnVhbFNvcnRpbmcsXG4gICAgICAgIHNvcnRpbmcsXG4gICAgXSk7XG4gICAgY29uc3QgcGlubmVkUm93SWRzID0gdXNlTWVtbygoKSA9PiBnZXRSb3dNb2RlbCgpXG4gICAgICAgIC5yb3dzLmZpbHRlcigocm93KSA9PiByb3cuZ2V0SXNQaW5uZWQoKSlcbiAgICAgICAgLm1hcCgocikgPT4gci5pZCksIFtyb3dQaW5uaW5nLCB0YWJsZS5nZXRSb3dNb2RlbCgpLnJvd3NdKTtcbiAgICBjb25zdCByb3dzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGxldCByb3dzID0gW107XG4gICAgICAgIGlmICghc2hvdWxkUmFua1Jvd3MpIHtcbiAgICAgICAgICAgIHJvd3MgPVxuICAgICAgICAgICAgICAgICFlbmFibGVSb3dQaW5uaW5nIHx8IChyb3dQaW5uaW5nRGlzcGxheU1vZGUgPT09IG51bGwgfHwgcm93UGlubmluZ0Rpc3BsYXlNb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByb3dQaW5uaW5nRGlzcGxheU1vZGUuaW5jbHVkZXMoJ3N0aWNreScpKVxuICAgICAgICAgICAgICAgICAgICA/IGdldFJvd01vZGVsKCkucm93c1xuICAgICAgICAgICAgICAgICAgICA6IGdldENlbnRlclJvd3MoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJvd3MgPSBnZXRQcmVQYWdpbmF0aW9uUm93TW9kZWwoKS5yb3dzLnNvcnQoKGEsIGIpID0+IHJhbmtHbG9iYWxGdXp6eShhLCBiKSk7XG4gICAgICAgICAgICBpZiAoZW5hYmxlUGFnaW5hdGlvbiAmJiAhbWFudWFsUGFnaW5hdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gcGFnaW5hdGlvbi5wYWdlSW5kZXggKiBwYWdpbmF0aW9uLnBhZ2VTaXplO1xuICAgICAgICAgICAgICAgIHJvd3MgPSByb3dzLnNsaWNlKHN0YXJ0LCBzdGFydCArIHBhZ2luYXRpb24ucGFnZVNpemUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlbmFibGVSb3dQaW5uaW5nICYmIChyb3dQaW5uaW5nRGlzcGxheU1vZGUgPT09IG51bGwgfHwgcm93UGlubmluZ0Rpc3BsYXlNb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByb3dQaW5uaW5nRGlzcGxheU1vZGUuaW5jbHVkZXMoJ3N0aWNreScpKSkge1xuICAgICAgICAgICAgcm93cyA9IFtcbiAgICAgICAgICAgICAgICAuLi5nZXRUb3BSb3dzKCkuZmlsdGVyKChyb3cpID0+ICFwaW5uZWRSb3dJZHMuaW5jbHVkZXMocm93LmlkKSksXG4gICAgICAgICAgICAgICAgLi4ucm93cyxcbiAgICAgICAgICAgICAgICAuLi5nZXRCb3R0b21Sb3dzKCkuZmlsdGVyKChyb3cpID0+ICFwaW5uZWRSb3dJZHMuaW5jbHVkZXMocm93LmlkKSksXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb3dzO1xuICAgIH0sIFtcbiAgICAgICAgc2hvdWxkUmFua1Jvd3MsXG4gICAgICAgIHNob3VsZFJhbmtSb3dzID8gZ2V0UHJlUGFnaW5hdGlvblJvd01vZGVsKCkucm93cyA6IGdldFJvd01vZGVsKCkucm93cyxcbiAgICAgICAgcGFnaW5hdGlvbi5wYWdlSW5kZXgsXG4gICAgICAgIHBhZ2luYXRpb24ucGFnZVNpemUsXG4gICAgICAgIHJvd1Bpbm5pbmcsXG4gICAgXSk7XG4gICAgY29uc3Qgcm93VmlydHVhbGl6ZXIgPSBlbmFibGVSb3dWaXJ0dWFsaXphdGlvblxuICAgICAgICA/IHVzZVZpcnR1YWxpemVyKE9iamVjdC5hc3NpZ24oeyBjb3VudDogcm93cy5sZW5ndGgsIGVzdGltYXRlU2l6ZTogKCkgPT4gZGVuc2l0eSA9PT0gJ2NvbXBhY3QnID8gMzcgOiBkZW5zaXR5ID09PSAnY29tZm9ydGFibGUnID8gNTggOiA3MywgZ2V0U2Nyb2xsRWxlbWVudDogKCkgPT4gdGFibGVDb250YWluZXJSZWYuY3VycmVudCwgbWVhc3VyZUVsZW1lbnQ6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgPT09IC0xXG4gICAgICAgICAgICAgICAgPyAoZWxlbWVudCkgPT4gZWxlbWVudCA9PT0gbnVsbCB8fCBlbGVtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodFxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLCBvdmVyc2NhbjogNCwgcmFuZ2VFeHRyYWN0b3I6IHVzZUNhbGxiYWNrKChyYW5nZSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXh0cmFJbmRleFJhbmdlRXh0cmFjdG9yKHJhbmdlLCAoX2EgPSBkcmFnZ2luZ1JvdyA9PT0gbnVsbCB8fCBkcmFnZ2luZ1JvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZHJhZ2dpbmdSb3cuaW5kZXgpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDApO1xuICAgICAgICAgICAgfSwgW2RyYWdnaW5nUm93XSkgfSwgcm93VmlydHVhbGl6ZXJQcm9wcykpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGlmIChyb3dWaXJ0dWFsaXplckluc3RhbmNlUmVmICYmIHJvd1ZpcnR1YWxpemVyKSB7XG4gICAgICAgIHJvd1ZpcnR1YWxpemVySW5zdGFuY2VSZWYuY3VycmVudCA9IHJvd1ZpcnR1YWxpemVyO1xuICAgIH1cbiAgICBjb25zdCB2aXJ0dWFsUm93cyA9IHJvd1ZpcnR1YWxpemVyXG4gICAgICAgID8gcm93VmlydHVhbGl6ZXIuZ2V0VmlydHVhbEl0ZW1zKClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbIShyb3dQaW5uaW5nRGlzcGxheU1vZGUgPT09IG51bGwgfHwgcm93UGlubmluZ0Rpc3BsYXlNb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiByb3dQaW5uaW5nRGlzcGxheU1vZGUuaW5jbHVkZXMoJ3N0aWNreScpKSAmJlxuICAgICAgICAgICAgICAgIGdldElzU29tZVJvd3NQaW5uZWQoJ3RvcCcpICYmIChqc3goVGFibGVCb2R5LCBPYmplY3QuYXNzaWduKHt9LCB0YWJsZUJvZHlQcm9wcywgeyBzeDogKHRoZW1lKSA9PiAoT2JqZWN0LmFzc2lnbih7IGRpc3BsYXk6IChsYXlvdXRNb2RlID09PSBudWxsIHx8IGxheW91dE1vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxheW91dE1vZGUuc3RhcnRzV2l0aCgnZ3JpZCcpKSA/ICdncmlkJyA6IHVuZGVmaW5lZCwgcG9zaXRpb246ICdzdGlja3knLCB0b3A6IHRhYmxlSGVhZEhlaWdodCAtIDEsIHpJbmRleDogMSB9LCBwYXJzZUZyb21WYWx1ZXNPckZ1bmModGFibGVCb2R5UHJvcHMgPT09IG51bGwgfHwgdGFibGVCb2R5UHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRhYmxlQm9keVByb3BzLnN4LCB0aGVtZSkpKSwgY2hpbGRyZW46IGdldFRvcFJvd3MoKS5tYXAoKHJvdywgcm93SW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5WaXJ0dWFsaXplcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lYXN1cmVFbGVtZW50OiByb3dWaXJ0dWFsaXplciA9PT0gbnVsbCB8fCByb3dWaXJ0dWFsaXplciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcm93VmlydHVhbGl6ZXIubWVhc3VyZUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBudW1Sb3dzOiByb3dzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd0luZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXJ0dWFsQ29sdW1ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpcnR1YWxQYWRkaW5nTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpcnR1YWxQYWRkaW5nUmlnaHQsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZW1vTW9kZSA9PT0gJ3Jvd3MnID8gKGpzeChNZW1vX01SVF9UYWJsZUJvZHlSb3csIE9iamVjdC5hc3NpZ24oe30sIHByb3BzKSwgcm93LmlkKSkgOiAoanN4KE1SVF9UYWJsZUJvZHlSb3csIE9iamVjdC5hc3NpZ24oe30sIHByb3BzKSwgcm93LmlkKSk7XG4gICAgICAgICAgICAgICAgfSkgfSkpKSwganN4cyhUYWJsZUJvZHksIE9iamVjdC5hc3NpZ24oe30sIHRhYmxlQm9keVByb3BzLCB7IHN4OiAodGhlbWUpID0+IChPYmplY3QuYXNzaWduKHsgZGlzcGxheTogKGxheW91dE1vZGUgPT09IG51bGwgfHwgbGF5b3V0TW9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGF5b3V0TW9kZS5zdGFydHNXaXRoKCdncmlkJykpID8gJ2dyaWQnIDogdW5kZWZpbmVkLCBoZWlnaHQ6IHJvd1ZpcnR1YWxpemVyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGAke3Jvd1ZpcnR1YWxpemVyLmdldFRvdGFsU2l6ZSgpfXB4YFxuICAgICAgICAgICAgICAgICAgICAgICAgOiAnaW5oZXJpdCcsIG1pbkhlaWdodDogIXJvd3MubGVuZ3RoID8gJzEwMHB4JyA6IHVuZGVmaW5lZCwgcG9zaXRpb246ICdyZWxhdGl2ZScgfSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKHRhYmxlQm9keVByb3BzID09PSBudWxsIHx8IHRhYmxlQm9keVByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YWJsZUJvZHlQcm9wcy5zeCwgdGhlbWUpKSksIGNoaWxkcmVuOiBbY3JlYXRpbmdSb3cgJiYgY3JlYXRlRGlzcGxheU1vZGUgPT09ICdyb3cnICYmIChqc3goTVJUX1RhYmxlQm9keVJvdywgeyByb3c6IGNyZWF0aW5nUm93LCByb3dJbmRleDogLTEsIHRhYmxlOiB0YWJsZSB9KSksIChfZCA9IHRhYmxlQm9keVByb3BzID09PSBudWxsIHx8IHRhYmxlQm9keVByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YWJsZUJvZHlQcm9wcy5jaGlsZHJlbikgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogKCFyb3dzLmxlbmd0aCA/IChqc3goXCJ0clwiLCB7IHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogKGxheW91dE1vZGUgPT09IG51bGwgfHwgbGF5b3V0TW9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGF5b3V0TW9kZS5zdGFydHNXaXRoKCdncmlkJykpID8gJ2dyaWQnIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgY2hpbGRyZW46IGpzeChcInRkXCIsIHsgY29sU3BhbjogdGFibGUuZ2V0VmlzaWJsZUxlYWZDb2x1bW5zKCkubGVuZ3RoLCBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAobGF5b3V0TW9kZSA9PT0gbnVsbCB8fCBsYXlvdXRNb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsYXlvdXRNb2RlLnN0YXJ0c1dpdGgoJ2dyaWQnKSkgPyAnZ3JpZCcgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgY2hpbGRyZW46IChfZSA9IHJlbmRlckVtcHR5Um93c0ZhbGxiYWNrID09PSBudWxsIHx8IHJlbmRlckVtcHR5Um93c0ZhbGxiYWNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZW5kZXJFbXB0eVJvd3NGYWxsYmFjayh7IHRhYmxlIH0pKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiAoanN4KFR5cG9ncmFwaHksIHsgc3g6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAndGV4dC5zZWNvbmRhcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFN0eWxlOiAnaXRhbGljJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFdpZHRoOiBgbWluKDEwMHZ3LCAkeyhfZyA9IChfZiA9IHRhYmxlUGFwZXJSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLmNsaWVudFdpZHRoKSAhPT0gbnVsbCAmJiBfZyAhPT0gdm9pZCAwID8gX2cgOiAzNjB9cHgpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB5OiAnMnJlbScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgY2hpbGRyZW46IGdsb2JhbEZpbHRlciB8fCBjb2x1bW5GaWx0ZXJzLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBsb2NhbGl6YXRpb24ubm9SZXN1bHRzRm91bmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbG9jYWxpemF0aW9uLm5vUmVjb3Jkc1RvRGlzcGxheSB9KSkgfSkgfSkpIDogKGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogKHZpcnR1YWxSb3dzICE9PSBudWxsICYmIHZpcnR1YWxSb3dzICE9PSB2b2lkIDAgPyB2aXJ0dWFsUm93cyA6IHJvd3MpLm1hcCgocm93T3JWaXJ0dWFsUm93LCByb3dJbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvdyA9IHJvd1ZpcnR1YWxpemVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcm93c1tyb3dPclZpcnR1YWxSb3cuaW5kZXhdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcm93T3JWaXJ0dWFsUm93O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5WaXJ0dWFsaXplcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVhc3VyZUVsZW1lbnQ6IHJvd1ZpcnR1YWxpemVyID09PSBudWxsIHx8IHJvd1ZpcnR1YWxpemVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiByb3dWaXJ0dWFsaXplci5tZWFzdXJlRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtUm93czogcm93cy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpbm5lZFJvd0lkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dJbmRleDogcm93VmlydHVhbGl6ZXIgPyByb3dPclZpcnR1YWxSb3cuaW5kZXggOiByb3dJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpcnR1YWxDb2x1bW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXJ0dWFsUGFkZGluZ0xlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpcnR1YWxQYWRkaW5nUmlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpcnR1YWxSb3c6IHJvd1ZpcnR1YWxpemVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHJvd09yVmlydHVhbFJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVtb01vZGUgPT09ICdyb3dzJyA/IChqc3goTWVtb19NUlRfVGFibGVCb2R5Um93LCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcyksIHJvdy5pZCkpIDogKGpzeChNUlRfVGFibGVCb2R5Um93LCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcyksIHJvdy5pZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkgfSkpKV0gfSkpLCAhKHJvd1Bpbm5pbmdEaXNwbGF5TW9kZSA9PT0gbnVsbCB8fCByb3dQaW5uaW5nRGlzcGxheU1vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJvd1Bpbm5pbmdEaXNwbGF5TW9kZS5pbmNsdWRlcygnc3RpY2t5JykpICYmXG4gICAgICAgICAgICAgICAgZ2V0SXNTb21lUm93c1Bpbm5lZCgnYm90dG9tJykgJiYgKGpzeChUYWJsZUJvZHksIE9iamVjdC5hc3NpZ24oe30sIHRhYmxlQm9keVByb3BzLCB7IHN4OiAodGhlbWUpID0+IChPYmplY3QuYXNzaWduKHsgYm90dG9tOiB0YWJsZUZvb3RlckhlaWdodCAtIDEsIGRpc3BsYXk6IChsYXlvdXRNb2RlID09PSBudWxsIHx8IGxheW91dE1vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxheW91dE1vZGUuc3RhcnRzV2l0aCgnZ3JpZCcpKSA/ICdncmlkJyA6IHVuZGVmaW5lZCwgcG9zaXRpb246ICdzdGlja3knLCB6SW5kZXg6IDEgfSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKHRhYmxlQm9keVByb3BzID09PSBudWxsIHx8IHRhYmxlQm9keVByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YWJsZUJvZHlQcm9wcy5zeCwgdGhlbWUpKSksIGNoaWxkcmVuOiBnZXRCb3R0b21Sb3dzKCkubWFwKChyb3csIHJvd0luZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uVmlydHVhbGl6ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZWFzdXJlRWxlbWVudDogcm93VmlydHVhbGl6ZXIgPT09IG51bGwgfHwgcm93VmlydHVhbGl6ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJvd1ZpcnR1YWxpemVyLm1lYXN1cmVFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtUm93czogcm93cy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICByb3csXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlydHVhbENvbHVtbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXJ0dWFsUGFkZGluZ0xlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXJ0dWFsUGFkZGluZ1JpZ2h0LFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVtb01vZGUgPT09ICdyb3dzJyA/IChqc3goTWVtb19NUlRfVGFibGVCb2R5Um93LCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcyksIHJvdy5pZCkpIDogKGpzeChNUlRfVGFibGVCb2R5Um93LCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcyksIHJvdy5pZCkpO1xuICAgICAgICAgICAgICAgIH0pIH0pKSldIH0pKTtcbn07XG5jb25zdCBNZW1vX01SVF9UYWJsZUJvZHkgPSBtZW1vKE1SVF9UYWJsZUJvZHksIChwcmV2LCBuZXh0KSA9PiBwcmV2LnRhYmxlLm9wdGlvbnMuZGF0YSA9PT0gbmV4dC50YWJsZS5vcHRpb25zLmRhdGEpO1xuXG5jb25zdCBNUlRfVGFibGVGb290ZXJDZWxsID0gKF9hKSA9PiB7XG4gICAgdmFyIF9iLCBfYywgX2Q7XG4gICAgdmFyIHsgZm9vdGVyLCB0YWJsZSB9ID0gX2EsIHJlc3QgPSBfX3Jlc3QoX2EsIFtcImZvb3RlclwiLCBcInRhYmxlXCJdKTtcbiAgICBjb25zdCB7IGdldFN0YXRlLCBvcHRpb25zOiB7IGxheW91dE1vZGUsIG11aVRhYmxlRm9vdGVyQ2VsbFByb3BzIH0sIH0gPSB0YWJsZTtcbiAgICBjb25zdCB7IGRlbnNpdHkgfSA9IGdldFN0YXRlKCk7XG4gICAgY29uc3QgeyBjb2x1bW4gfSA9IGZvb3RlcjtcbiAgICBjb25zdCB7IGNvbHVtbkRlZiB9ID0gY29sdW1uO1xuICAgIGNvbnN0IHsgY29sdW1uRGVmVHlwZSB9ID0gY29sdW1uRGVmO1xuICAgIGNvbnN0IGFyZ3MgPSB7IGNvbHVtbiwgdGFibGUgfTtcbiAgICBjb25zdCB0YWJsZUNlbGxQcm9wcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwYXJzZUZyb21WYWx1ZXNPckZ1bmMobXVpVGFibGVGb290ZXJDZWxsUHJvcHMsIGFyZ3MpKSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKGNvbHVtbkRlZi5tdWlUYWJsZUZvb3RlckNlbGxQcm9wcywgYXJncykpLCByZXN0KTtcbiAgICByZXR1cm4gKGpzeChUYWJsZUNlbGwsIE9iamVjdC5hc3NpZ24oeyBhbGlnbjogY29sdW1uRGVmVHlwZSA9PT0gJ2dyb3VwJyA/ICdjZW50ZXInIDogJ2xlZnQnLCBjb2xTcGFuOiBmb290ZXIuY29sU3BhbiwgdmFyaWFudDogXCJoZWFkXCIgfSwgdGFibGVDZWxsUHJvcHMsIHsgc3g6ICh0aGVtZSkgPT4gKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IGRpc3BsYXk6IChsYXlvdXRNb2RlID09PSBudWxsIHx8IGxheW91dE1vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxheW91dE1vZGUuc3RhcnRzV2l0aCgnZ3JpZCcpKSA/ICdncmlkJyA6IHVuZGVmaW5lZCwgZm9udFdlaWdodDogJ2JvbGQnLCBqdXN0aWZ5Q29udGVudDogY29sdW1uRGVmVHlwZSA9PT0gJ2dyb3VwJyA/ICdjZW50ZXInIDogdW5kZWZpbmVkLCBwOiBkZW5zaXR5ID09PSAnY29tcGFjdCdcbiAgICAgICAgICAgICAgICA/ICcwLjVyZW0nXG4gICAgICAgICAgICAgICAgOiBkZW5zaXR5ID09PSAnY29tZm9ydGFibGUnXG4gICAgICAgICAgICAgICAgICAgID8gJzFyZW0nXG4gICAgICAgICAgICAgICAgICAgIDogJzEuNXJlbScsIHZlcnRpY2FsQWxpZ246ICd0b3AnLCB6SW5kZXg6IGNvbHVtbi5nZXRJc1Bpbm5lZCgpICYmIGNvbHVtbkRlZlR5cGUgIT09ICdncm91cCcgPyAyIDogMSB9LCBnZXRDb21tb25NUlRDZWxsU3R5bGVzKHtcbiAgICAgICAgICAgIGNvbHVtbixcbiAgICAgICAgICAgIHRhYmxlLFxuICAgICAgICAgICAgdGFibGVDZWxsUHJvcHMsXG4gICAgICAgICAgICB0aGVtZSxcbiAgICAgICAgfSkpLCBwYXJzZUZyb21WYWx1ZXNPckZ1bmModGFibGVDZWxsUHJvcHMgPT09IG51bGwgfHwgdGFibGVDZWxsUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRhYmxlQ2VsbFByb3BzLnN4LCB0aGVtZSkpKSwgY2hpbGRyZW46IChfYiA9IHRhYmxlQ2VsbFByb3BzLmNoaWxkcmVuKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAoZm9vdGVyLmlzUGxhY2Vob2xkZXJcbiAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgOiAoX2QgPSAoX2MgPSBwYXJzZUZyb21WYWx1ZXNPckZ1bmMoY29sdW1uRGVmLkZvb3Rlciwge1xuICAgICAgICAgICAgICAgIGNvbHVtbixcbiAgICAgICAgICAgICAgICBmb290ZXIsXG4gICAgICAgICAgICAgICAgdGFibGUsXG4gICAgICAgICAgICB9KSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogY29sdW1uRGVmLmZvb3RlcikgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogbnVsbCkgfSkpKTtcbn07XG5cbmNvbnN0IE1SVF9UYWJsZUZvb3RlclJvdyA9IChfYSkgPT4ge1xuICAgIHZhciBfYjtcbiAgICB2YXIgeyBmb290ZXJHcm91cCwgdGFibGUsIHZpcnR1YWxDb2x1bW5zLCB2aXJ0dWFsUGFkZGluZ0xlZnQsIHZpcnR1YWxQYWRkaW5nUmlnaHQgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJmb290ZXJHcm91cFwiLCBcInRhYmxlXCIsIFwidmlydHVhbENvbHVtbnNcIiwgXCJ2aXJ0dWFsUGFkZGluZ0xlZnRcIiwgXCJ2aXJ0dWFsUGFkZGluZ1JpZ2h0XCJdKTtcbiAgICBjb25zdCB7IG9wdGlvbnM6IHsgbGF5b3V0TW9kZSwgbXVpVGFibGVGb290ZXJSb3dQcm9wcyB9LCB9ID0gdGFibGU7XG4gICAgLy8gaWYgbm8gY29udGVudCBpbiByb3csIHNraXAgcm93XG4gICAgaWYgKCEoKF9iID0gZm9vdGVyR3JvdXAuaGVhZGVycykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNvbWUoKGhlYWRlcikgPT4gKHR5cGVvZiBoZWFkZXIuY29sdW1uLmNvbHVtbkRlZi5mb290ZXIgPT09ICdzdHJpbmcnICYmXG4gICAgICAgICEhaGVhZGVyLmNvbHVtbi5jb2x1bW5EZWYuZm9vdGVyKSB8fFxuICAgICAgICBoZWFkZXIuY29sdW1uLmNvbHVtbkRlZi5Gb290ZXIpKSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgdGFibGVSb3dQcm9wcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKG11aVRhYmxlRm9vdGVyUm93UHJvcHMsIHtcbiAgICAgICAgZm9vdGVyR3JvdXAsXG4gICAgICAgIHRhYmxlLFxuICAgIH0pKSwgcmVzdCk7XG4gICAgcmV0dXJuIChqc3hzKFRhYmxlUm93LCBPYmplY3QuYXNzaWduKHt9LCB0YWJsZVJvd1Byb3BzLCB7IHN4OiAodGhlbWUpID0+IChPYmplY3QuYXNzaWduKHsgYmFja2dyb3VuZENvbG9yOiBnZXRNUlRUaGVtZSh0YWJsZSwgdGhlbWUpLmJhc2VCYWNrZ3JvdW5kQ29sb3IsIGRpc3BsYXk6IChsYXlvdXRNb2RlID09PSBudWxsIHx8IGxheW91dE1vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxheW91dE1vZGUuc3RhcnRzV2l0aCgnZ3JpZCcpKSA/ICdmbGV4JyA6IHVuZGVmaW5lZCwgd2lkdGg6ICcxMDAlJyB9LCBwYXJzZUZyb21WYWx1ZXNPckZ1bmModGFibGVSb3dQcm9wcyA9PT0gbnVsbCB8fCB0YWJsZVJvd1Byb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YWJsZVJvd1Byb3BzLnN4LCB0aGVtZSkpKSwgY2hpbGRyZW46IFt2aXJ0dWFsUGFkZGluZ0xlZnQgPyAoanN4KFwidGhcIiwgeyBzdHlsZTogeyBkaXNwbGF5OiAnZmxleCcsIHdpZHRoOiB2aXJ0dWFsUGFkZGluZ0xlZnQgfSB9KSkgOiBudWxsLCAodmlydHVhbENvbHVtbnMgIT09IG51bGwgJiYgdmlydHVhbENvbHVtbnMgIT09IHZvaWQgMCA/IHZpcnR1YWxDb2x1bW5zIDogZm9vdGVyR3JvdXAuaGVhZGVycykubWFwKChmb290ZXJPclZpcnR1YWxGb290ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb290ZXIgPSB2aXJ0dWFsQ29sdW1uc1xuICAgICAgICAgICAgICAgICAgICA/IGZvb3Rlckdyb3VwLmhlYWRlcnNbZm9vdGVyT3JWaXJ0dWFsRm9vdGVyLmluZGV4XVxuICAgICAgICAgICAgICAgICAgICA6IGZvb3Rlck9yVmlydHVhbEZvb3RlcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9vdGVyID8gKGpzeChNUlRfVGFibGVGb290ZXJDZWxsLCB7IGZvb3RlcjogZm9vdGVyLCB0YWJsZTogdGFibGUgfSwgZm9vdGVyLmlkKSkgOiBudWxsO1xuICAgICAgICAgICAgfSksIHZpcnR1YWxQYWRkaW5nUmlnaHQgPyAoanN4KFwidGhcIiwgeyBzdHlsZTogeyBkaXNwbGF5OiAnZmxleCcsIHdpZHRoOiB2aXJ0dWFsUGFkZGluZ1JpZ2h0IH0gfSkpIDogbnVsbF0gfSkpKTtcbn07XG5cbmNvbnN0IE1SVF9UYWJsZUZvb3RlciA9IChfYSkgPT4ge1xuICAgIHZhciB7IHRhYmxlLCB2aXJ0dWFsQ29sdW1ucywgdmlydHVhbFBhZGRpbmdMZWZ0LCB2aXJ0dWFsUGFkZGluZ1JpZ2h0IH0gPSBfYSwgcmVzdCA9IF9fcmVzdChfYSwgW1widGFibGVcIiwgXCJ2aXJ0dWFsQ29sdW1uc1wiLCBcInZpcnR1YWxQYWRkaW5nTGVmdFwiLCBcInZpcnR1YWxQYWRkaW5nUmlnaHRcIl0pO1xuICAgIGNvbnN0IHsgZ2V0Rm9vdGVyR3JvdXBzLCBnZXRTdGF0ZSwgb3B0aW9uczogeyBlbmFibGVTdGlja3lGb290ZXIsIGxheW91dE1vZGUsIG11aVRhYmxlRm9vdGVyUHJvcHMgfSwgcmVmczogeyB0YWJsZUZvb3RlclJlZiB9LCB9ID0gdGFibGU7XG4gICAgY29uc3QgeyBpc0Z1bGxTY3JlZW4gfSA9IGdldFN0YXRlKCk7XG4gICAgY29uc3QgdGFibGVGb290ZXJQcm9wcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKG11aVRhYmxlRm9vdGVyUHJvcHMsIHtcbiAgICAgICAgdGFibGUsXG4gICAgfSkpLCByZXN0KTtcbiAgICBjb25zdCBzdGlja0Zvb3RlciA9IChpc0Z1bGxTY3JlZW4gfHwgZW5hYmxlU3RpY2t5Rm9vdGVyKSAmJiBlbmFibGVTdGlja3lGb290ZXIgIT09IGZhbHNlO1xuICAgIHJldHVybiAoanN4KFRhYmxlRm9vdGVyLCBPYmplY3QuYXNzaWduKHt9LCB0YWJsZUZvb3RlclByb3BzLCB7IHJlZjogKHJlZikgPT4ge1xuICAgICAgICAgICAgdGFibGVGb290ZXJSZWYuY3VycmVudCA9IHJlZjtcbiAgICAgICAgICAgIGlmICh0YWJsZUZvb3RlclByb3BzID09PSBudWxsIHx8IHRhYmxlRm9vdGVyUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRhYmxlRm9vdGVyUHJvcHMucmVmKSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHRhYmxlRm9vdGVyUHJvcHMucmVmLmN1cnJlbnQgPSByZWY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHN4OiAodGhlbWUpID0+IChPYmplY3QuYXNzaWduKHsgYm90dG9tOiBzdGlja0Zvb3RlciA/IDAgOiB1bmRlZmluZWQsIGRpc3BsYXk6IChsYXlvdXRNb2RlID09PSBudWxsIHx8IGxheW91dE1vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxheW91dE1vZGUuc3RhcnRzV2l0aCgnZ3JpZCcpKSA/ICdncmlkJyA6IHVuZGVmaW5lZCwgb3BhY2l0eTogc3RpY2tGb290ZXIgPyAwLjk3IDogdW5kZWZpbmVkLCBvdXRsaW5lOiBzdGlja0Zvb3RlclxuICAgICAgICAgICAgICAgID8gdGhlbWUucGFsZXR0ZS5tb2RlID09PSAnbGlnaHQnXG4gICAgICAgICAgICAgICAgICAgID8gYDFweCBzb2xpZCAke3RoZW1lLnBhbGV0dGUuZ3JleVszMDBdfWBcbiAgICAgICAgICAgICAgICAgICAgOiBgMXB4IHNvbGlkICR7dGhlbWUucGFsZXR0ZS5ncmV5WzcwMF19YFxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLCBwb3NpdGlvbjogc3RpY2tGb290ZXIgPyAnc3RpY2t5JyA6IHVuZGVmaW5lZCwgekluZGV4OiBzdGlja0Zvb3RlciA/IDEgOiB1bmRlZmluZWQgfSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKHRhYmxlRm9vdGVyUHJvcHMgPT09IG51bGwgfHwgdGFibGVGb290ZXJQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGFibGVGb290ZXJQcm9wcy5zeCwgdGhlbWUpKSksIGNoaWxkcmVuOiBnZXRGb290ZXJHcm91cHMoKS5tYXAoKGZvb3Rlckdyb3VwKSA9PiAoanN4KE1SVF9UYWJsZUZvb3RlclJvdywgeyBmb290ZXJHcm91cDogZm9vdGVyR3JvdXAsIHRhYmxlOiB0YWJsZSwgdmlydHVhbENvbHVtbnM6IHZpcnR1YWxDb2x1bW5zLCB2aXJ0dWFsUGFkZGluZ0xlZnQ6IHZpcnR1YWxQYWRkaW5nTGVmdCwgdmlydHVhbFBhZGRpbmdSaWdodDogdmlydHVhbFBhZGRpbmdSaWdodCB9LCBmb290ZXJHcm91cC5pZCkpKSB9KSkpO1xufTtcblxuY29uc3QgbXJ0RmlsdGVyT3B0aW9ucyA9IChsb2NhbGl6YXRpb24pID0+IFtcbiAgICB7XG4gICAgICAgIGRpdmlkZXI6IGZhbHNlLFxuICAgICAgICBsYWJlbDogbG9jYWxpemF0aW9uLmZpbHRlckZ1enp5LFxuICAgICAgICBvcHRpb246ICdmdXp6eScsXG4gICAgICAgIHN5bWJvbDogJ+KJiCcsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGRpdmlkZXI6IGZhbHNlLFxuICAgICAgICBsYWJlbDogbG9jYWxpemF0aW9uLmZpbHRlckNvbnRhaW5zLFxuICAgICAgICBvcHRpb246ICdjb250YWlucycsXG4gICAgICAgIHN5bWJvbDogJyonLFxuICAgIH0sXG4gICAge1xuICAgICAgICBkaXZpZGVyOiBmYWxzZSxcbiAgICAgICAgbGFiZWw6IGxvY2FsaXphdGlvbi5maWx0ZXJTdGFydHNXaXRoLFxuICAgICAgICBvcHRpb246ICdzdGFydHNXaXRoJyxcbiAgICAgICAgc3ltYm9sOiAnYScsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGRpdmlkZXI6IHRydWUsXG4gICAgICAgIGxhYmVsOiBsb2NhbGl6YXRpb24uZmlsdGVyRW5kc1dpdGgsXG4gICAgICAgIG9wdGlvbjogJ2VuZHNXaXRoJyxcbiAgICAgICAgc3ltYm9sOiAneicsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGRpdmlkZXI6IGZhbHNlLFxuICAgICAgICBsYWJlbDogbG9jYWxpemF0aW9uLmZpbHRlckVxdWFscyxcbiAgICAgICAgb3B0aW9uOiAnZXF1YWxzJyxcbiAgICAgICAgc3ltYm9sOiAnPScsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGRpdmlkZXI6IHRydWUsXG4gICAgICAgIGxhYmVsOiBsb2NhbGl6YXRpb24uZmlsdGVyTm90RXF1YWxzLFxuICAgICAgICBvcHRpb246ICdub3RFcXVhbHMnLFxuICAgICAgICBzeW1ib2w6ICfiiaAnLFxuICAgIH0sXG4gICAge1xuICAgICAgICBkaXZpZGVyOiBmYWxzZSxcbiAgICAgICAgbGFiZWw6IGxvY2FsaXphdGlvbi5maWx0ZXJCZXR3ZWVuLFxuICAgICAgICBvcHRpb246ICdiZXR3ZWVuJyxcbiAgICAgICAgc3ltYm9sOiAn4oe/JyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgZGl2aWRlcjogdHJ1ZSxcbiAgICAgICAgbGFiZWw6IGxvY2FsaXphdGlvbi5maWx0ZXJCZXR3ZWVuSW5jbHVzaXZlLFxuICAgICAgICBvcHRpb246ICdiZXR3ZWVuSW5jbHVzaXZlJyxcbiAgICAgICAgc3ltYm9sOiAn4qyMJyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgZGl2aWRlcjogZmFsc2UsXG4gICAgICAgIGxhYmVsOiBsb2NhbGl6YXRpb24uZmlsdGVyR3JlYXRlclRoYW4sXG4gICAgICAgIG9wdGlvbjogJ2dyZWF0ZXJUaGFuJyxcbiAgICAgICAgc3ltYm9sOiAnPicsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGRpdmlkZXI6IGZhbHNlLFxuICAgICAgICBsYWJlbDogbG9jYWxpemF0aW9uLmZpbHRlckdyZWF0ZXJUaGFuT3JFcXVhbFRvLFxuICAgICAgICBvcHRpb246ICdncmVhdGVyVGhhbk9yRXF1YWxUbycsXG4gICAgICAgIHN5bWJvbDogJ+KJpScsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGRpdmlkZXI6IGZhbHNlLFxuICAgICAgICBsYWJlbDogbG9jYWxpemF0aW9uLmZpbHRlckxlc3NUaGFuLFxuICAgICAgICBvcHRpb246ICdsZXNzVGhhbicsXG4gICAgICAgIHN5bWJvbDogJzwnLFxuICAgIH0sXG4gICAge1xuICAgICAgICBkaXZpZGVyOiB0cnVlLFxuICAgICAgICBsYWJlbDogbG9jYWxpemF0aW9uLmZpbHRlckxlc3NUaGFuT3JFcXVhbFRvLFxuICAgICAgICBvcHRpb246ICdsZXNzVGhhbk9yRXF1YWxUbycsXG4gICAgICAgIHN5bWJvbDogJ+KJpCcsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGRpdmlkZXI6IGZhbHNlLFxuICAgICAgICBsYWJlbDogbG9jYWxpemF0aW9uLmZpbHRlckVtcHR5LFxuICAgICAgICBvcHRpb246ICdlbXB0eScsXG4gICAgICAgIHN5bWJvbDogJ+KIhScsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGRpdmlkZXI6IGZhbHNlLFxuICAgICAgICBsYWJlbDogbG9jYWxpemF0aW9uLmZpbHRlck5vdEVtcHR5LFxuICAgICAgICBvcHRpb246ICdub3RFbXB0eScsXG4gICAgICAgIHN5bWJvbDogJyHiiIUnLFxuICAgIH0sXG5dO1xuY29uc3QgcmFuZ2VNb2RlcyA9IFsnYmV0d2VlbicsICdiZXR3ZWVuSW5jbHVzaXZlJywgJ2luTnVtYmVyUmFuZ2UnXTtcbmNvbnN0IGVtcHR5TW9kZXMgPSBbJ2VtcHR5JywgJ25vdEVtcHR5J107XG5jb25zdCBhcnJNb2RlcyA9IFsnYXJySW5jbHVkZXNTb21lJywgJ2FyckluY2x1ZGVzQWxsJywgJ2FyckluY2x1ZGVzJ107XG5jb25zdCByYW5nZVZhcmlhbnRzID0gWydyYW5nZS1zbGlkZXInLCAnZGF0ZS1yYW5nZScsICdyYW5nZSddO1xuY29uc3QgTVJUX0ZpbHRlck9wdGlvbk1lbnUgPSAoX2EpID0+IHtcbiAgICB2YXIgX2IsIF9jLCBfZCwgX2U7XG4gICAgdmFyIHsgYW5jaG9yRWwsIGhlYWRlciwgb25TZWxlY3QsIHNldEFuY2hvckVsLCBzZXRGaWx0ZXJWYWx1ZSwgdGFibGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJhbmNob3JFbFwiLCBcImhlYWRlclwiLCBcIm9uU2VsZWN0XCIsIFwic2V0QW5jaG9yRWxcIiwgXCJzZXRGaWx0ZXJWYWx1ZVwiLCBcInRhYmxlXCJdKTtcbiAgICBjb25zdCB7IGdldFN0YXRlLCBvcHRpb25zOiB7IGNvbHVtbkZpbHRlck1vZGVPcHRpb25zLCBnbG9iYWxGaWx0ZXJNb2RlT3B0aW9ucywgbG9jYWxpemF0aW9uLCByZW5kZXJDb2x1bW5GaWx0ZXJNb2RlTWVudUl0ZW1zLCByZW5kZXJHbG9iYWxGaWx0ZXJNb2RlTWVudUl0ZW1zLCB9LCBzZXRDb2x1bW5GaWx0ZXJGbnMsIHNldEdsb2JhbEZpbHRlckZuLCB9ID0gdGFibGU7XG4gICAgY29uc3QgeyBkZW5zaXR5LCBnbG9iYWxGaWx0ZXJGbiB9ID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCB7IGNvbHVtbiB9ID0gaGVhZGVyICE9PSBudWxsICYmIGhlYWRlciAhPT0gdm9pZCAwID8gaGVhZGVyIDoge307XG4gICAgY29uc3QgeyBjb2x1bW5EZWYgfSA9IGNvbHVtbiAhPT0gbnVsbCAmJiBjb2x1bW4gIT09IHZvaWQgMCA/IGNvbHVtbiA6IHt9O1xuICAgIGNvbnN0IGN1cnJlbnRGaWx0ZXJWYWx1ZSA9IGNvbHVtbiA9PT0gbnVsbCB8fCBjb2x1bW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbHVtbi5nZXRGaWx0ZXJWYWx1ZSgpO1xuICAgIGxldCBhbGxvd2VkQ29sdW1uRmlsdGVyT3B0aW9ucyA9IChfYiA9IGNvbHVtbkRlZiA9PT0gbnVsbCB8fCBjb2x1bW5EZWYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbHVtbkRlZi5jb2x1bW5GaWx0ZXJNb2RlT3B0aW9ucykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogY29sdW1uRmlsdGVyTW9kZU9wdGlvbnM7XG4gICAgaWYgKHJhbmdlVmFyaWFudHMuaW5jbHVkZXMoY29sdW1uRGVmID09PSBudWxsIHx8IGNvbHVtbkRlZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29sdW1uRGVmLmZpbHRlclZhcmlhbnQpKSB7XG4gICAgICAgIGFsbG93ZWRDb2x1bW5GaWx0ZXJPcHRpb25zID0gW1xuICAgICAgICAgICAgLi4ucmFuZ2VNb2RlcyxcbiAgICAgICAgICAgIC4uLihhbGxvd2VkQ29sdW1uRmlsdGVyT3B0aW9ucyAhPT0gbnVsbCAmJiBhbGxvd2VkQ29sdW1uRmlsdGVyT3B0aW9ucyAhPT0gdm9pZCAwID8gYWxsb3dlZENvbHVtbkZpbHRlck9wdGlvbnMgOiBbXSksXG4gICAgICAgIF0uZmlsdGVyKChvcHRpb24pID0+IHJhbmdlTW9kZXMuaW5jbHVkZXMob3B0aW9uKSk7XG4gICAgfVxuICAgIGNvbnN0IGludGVybmFsRmlsdGVyT3B0aW9ucyA9IHVzZU1lbW8oKCkgPT4gbXJ0RmlsdGVyT3B0aW9ucyhsb2NhbGl6YXRpb24pLmZpbHRlcigoZmlsdGVyT3B0aW9uKSA9PiBjb2x1bW5EZWZcbiAgICAgICAgPyBhbGxvd2VkQ29sdW1uRmlsdGVyT3B0aW9ucyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAoYWxsb3dlZENvbHVtbkZpbHRlck9wdGlvbnMgPT09IG51bGwgfHwgYWxsb3dlZENvbHVtbkZpbHRlck9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFsbG93ZWRDb2x1bW5GaWx0ZXJPcHRpb25zLmluY2x1ZGVzKGZpbHRlck9wdGlvbi5vcHRpb24pKVxuICAgICAgICA6ICghZ2xvYmFsRmlsdGVyTW9kZU9wdGlvbnMgfHxcbiAgICAgICAgICAgIGdsb2JhbEZpbHRlck1vZGVPcHRpb25zLmluY2x1ZGVzKGZpbHRlck9wdGlvbi5vcHRpb24pKSAmJlxuICAgICAgICAgICAgWydjb250YWlucycsICdmdXp6eScsICdzdGFydHNXaXRoJ10uaW5jbHVkZXMoZmlsdGVyT3B0aW9uLm9wdGlvbikpLCBbXSk7XG4gICAgY29uc3QgaGFuZGxlU2VsZWN0RmlsdGVyTW9kZSA9IChvcHRpb24pID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgcHJldkZpbHRlck1vZGUgPSAoX2EgPSBjb2x1bW5EZWYgPT09IG51bGwgfHwgY29sdW1uRGVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb2x1bW5EZWYuX2ZpbHRlckZuKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnJztcbiAgICAgICAgaWYgKCFoZWFkZXIgfHwgIWNvbHVtbikge1xuICAgICAgICAgICAgLy8gZ2xvYmFsIGZpbHRlciBtb2RlXG4gICAgICAgICAgICBzZXRHbG9iYWxGaWx0ZXJGbihvcHRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbiAhPT0gcHJldkZpbHRlck1vZGUpIHtcbiAgICAgICAgICAgIC8vIGNvbHVtbiBmaWx0ZXIgbW9kZVxuICAgICAgICAgICAgc2V0Q29sdW1uRmlsdGVyRm5zKChwcmV2KSA9PiAoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwcmV2KSwgeyBbaGVhZGVyLmlkXTogb3B0aW9uIH0pKSk7XG4gICAgICAgICAgICAvLyByZXNldCBmaWx0ZXIgdmFsdWUgYW5kL29yIHBlcmZvcm0gbmV3IGZpbHRlciByZW5kZXJcbiAgICAgICAgICAgIGlmIChlbXB0eU1vZGVzLmluY2x1ZGVzKG9wdGlvbikpIHtcbiAgICAgICAgICAgICAgICAvLyB3aWxsIG5vdyBiZSBlbXB0eS9ub3RFbXB0eSBmaWx0ZXIgbW9kZVxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RmlsdGVyVmFsdWUgIT09ICcgJyAmJlxuICAgICAgICAgICAgICAgICAgICAhZW1wdHlNb2Rlcy5pbmNsdWRlcyhwcmV2RmlsdGVyTW9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnNldEZpbHRlclZhbHVlKCcgJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnRGaWx0ZXJWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uc2V0RmlsdGVyVmFsdWUoY3VycmVudEZpbHRlclZhbHVlKTsgLy8gcGVyZm9ybSBuZXcgZmlsdGVyIHJlbmRlclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChjb2x1bW5EZWYgPT09IG51bGwgfHwgY29sdW1uRGVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb2x1bW5EZWYuZmlsdGVyVmFyaWFudCkgPT09ICdtdWx0aS1zZWxlY3QnIHx8XG4gICAgICAgICAgICAgICAgYXJyTW9kZXMuaW5jbHVkZXMob3B0aW9uKSkge1xuICAgICAgICAgICAgICAgIC8vIHdpbGwgbm93IGJlIGFycmF5IGZpbHRlciBtb2RlXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRGaWx0ZXJWYWx1ZSBpbnN0YW5jZW9mIFN0cmluZyB8fFxuICAgICAgICAgICAgICAgICAgICAoY3VycmVudEZpbHRlclZhbHVlID09PSBudWxsIHx8IGN1cnJlbnRGaWx0ZXJWYWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogY3VycmVudEZpbHRlclZhbHVlLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnNldEZpbHRlclZhbHVlKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0RmlsdGVyVmFsdWUgPT09IG51bGwgfHwgc2V0RmlsdGVyVmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNldEZpbHRlclZhbHVlKFtdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudEZpbHRlclZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5zZXRGaWx0ZXJWYWx1ZShjdXJyZW50RmlsdGVyVmFsdWUpOyAvLyBwZXJmb3JtIG5ldyBmaWx0ZXIgcmVuZGVyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKChfYiA9IGNvbHVtbkRlZiA9PT0gbnVsbCB8fCBjb2x1bW5EZWYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbHVtbkRlZi5maWx0ZXJWYXJpYW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaW5jbHVkZXMoJ3JhbmdlJykpIHx8XG4gICAgICAgICAgICAgICAgcmFuZ2VNb2Rlcy5pbmNsdWRlcyhvcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgLy8gd2lsbCBub3cgYmUgcmFuZ2UgZmlsdGVyIG1vZGVcbiAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoY3VycmVudEZpbHRlclZhbHVlKSB8fFxuICAgICAgICAgICAgICAgICAgICAoIShjdXJyZW50RmlsdGVyVmFsdWUgPT09IG51bGwgfHwgY3VycmVudEZpbHRlclZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJyZW50RmlsdGVyVmFsdWUuZXZlcnkoKHYpID0+IHYgPT09ICcnKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICFyYW5nZU1vZGVzLmluY2x1ZGVzKHByZXZGaWx0ZXJNb2RlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnNldEZpbHRlclZhbHVlKFsnJywgJyddKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0RmlsdGVyVmFsdWUgPT09IG51bGwgfHwgc2V0RmlsdGVyVmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNldEZpbHRlclZhbHVlKCcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5zZXRGaWx0ZXJWYWx1ZShjdXJyZW50RmlsdGVyVmFsdWUpOyAvLyBwZXJmb3JtIG5ldyBmaWx0ZXIgcmVuZGVyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gd2lsbCBub3cgYmUgc2luZ2xlIHZhbHVlIGZpbHRlciBtb2RlXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY3VycmVudEZpbHRlclZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uc2V0RmlsdGVyVmFsdWUoJycpO1xuICAgICAgICAgICAgICAgICAgICBzZXRGaWx0ZXJWYWx1ZSA9PT0gbnVsbCB8fCBzZXRGaWx0ZXJWYWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2V0RmlsdGVyVmFsdWUoJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnNldEZpbHRlclZhbHVlKGN1cnJlbnRGaWx0ZXJWYWx1ZSk7IC8vIHBlcmZvcm0gbmV3IGZpbHRlciByZW5kZXJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0QW5jaG9yRWwobnVsbCk7XG4gICAgICAgIG9uU2VsZWN0ID09PSBudWxsIHx8IG9uU2VsZWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblNlbGVjdCgpO1xuICAgIH07XG4gICAgY29uc3QgZmlsdGVyT3B0aW9uID0gISFoZWFkZXIgJiYgY29sdW1uRGVmID8gY29sdW1uRGVmLl9maWx0ZXJGbiA6IGdsb2JhbEZpbHRlckZuO1xuICAgIHJldHVybiAoanN4KE1lbnUsIE9iamVjdC5hc3NpZ24oeyBNZW51TGlzdFByb3BzOiB7XG4gICAgICAgICAgICBkZW5zZTogZGVuc2l0eSA9PT0gJ2NvbXBhY3QnLFxuICAgICAgICB9LCBhbmNob3JFbDogYW5jaG9yRWwsIGFuY2hvck9yaWdpbjogeyBob3Jpem9udGFsOiAncmlnaHQnLCB2ZXJ0aWNhbDogJ2NlbnRlcicgfSwgb25DbG9zZTogKCkgPT4gc2V0QW5jaG9yRWwobnVsbCksIG9wZW46ICEhYW5jaG9yRWwgfSwgcmVzdCwgeyBjaGlsZHJlbjogKF9lID0gKGhlYWRlciAmJiBjb2x1bW4gJiYgY29sdW1uRGVmXG4gICAgICAgICAgICA/IChfZCA9IChfYyA9IGNvbHVtbkRlZi5yZW5kZXJDb2x1bW5GaWx0ZXJNb2RlTWVudUl0ZW1zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChjb2x1bW5EZWYsIHtcbiAgICAgICAgICAgICAgICBjb2x1bW46IGNvbHVtbixcbiAgICAgICAgICAgICAgICBpbnRlcm5hbEZpbHRlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgb25TZWxlY3RGaWx0ZXJNb2RlOiBoYW5kbGVTZWxlY3RGaWx0ZXJNb2RlLFxuICAgICAgICAgICAgICAgIHRhYmxlLFxuICAgICAgICAgICAgfSkpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IHJlbmRlckNvbHVtbkZpbHRlck1vZGVNZW51SXRlbXMgPT09IG51bGwgfHwgcmVuZGVyQ29sdW1uRmlsdGVyTW9kZU1lbnVJdGVtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVuZGVyQ29sdW1uRmlsdGVyTW9kZU1lbnVJdGVtcyh7XG4gICAgICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4sXG4gICAgICAgICAgICAgICAgaW50ZXJuYWxGaWx0ZXJPcHRpb25zLFxuICAgICAgICAgICAgICAgIG9uU2VsZWN0RmlsdGVyTW9kZTogaGFuZGxlU2VsZWN0RmlsdGVyTW9kZSxcbiAgICAgICAgICAgICAgICB0YWJsZSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA6IHJlbmRlckdsb2JhbEZpbHRlck1vZGVNZW51SXRlbXMgPT09IG51bGwgfHwgcmVuZGVyR2xvYmFsRmlsdGVyTW9kZU1lbnVJdGVtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVuZGVyR2xvYmFsRmlsdGVyTW9kZU1lbnVJdGVtcyh7XG4gICAgICAgICAgICAgICAgaW50ZXJuYWxGaWx0ZXJPcHRpb25zLFxuICAgICAgICAgICAgICAgIG9uU2VsZWN0RmlsdGVyTW9kZTogaGFuZGxlU2VsZWN0RmlsdGVyTW9kZSxcbiAgICAgICAgICAgICAgICB0YWJsZSxcbiAgICAgICAgICAgIH0pKSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogaW50ZXJuYWxGaWx0ZXJPcHRpb25zLm1hcCgoeyBkaXZpZGVyLCBsYWJlbCwgb3B0aW9uLCBzeW1ib2wgfSwgaW5kZXgpID0+IChqc3hzKE1lbnVJdGVtLCB7IGRpdmlkZXI6IGRpdmlkZXIsIG9uQ2xpY2s6ICgpID0+IGhhbmRsZVNlbGVjdEZpbHRlck1vZGUob3B0aW9uKSwgc2VsZWN0ZWQ6IG9wdGlvbiA9PT0gZmlsdGVyT3B0aW9uLCBzeDoge1xuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICBnYXA6ICcyY2gnLFxuICAgICAgICAgICAgICAgIG15OiAwLFxuICAgICAgICAgICAgICAgIHB5OiAnNnB4JyxcbiAgICAgICAgICAgIH0sIHZhbHVlOiBvcHRpb24sIGNoaWxkcmVuOiBbanN4KEJveCwgeyBzeDogeyBmb250U2l6ZTogJzEuMjVyZW0nLCB3aWR0aDogJzJjaCcgfSwgY2hpbGRyZW46IHN5bWJvbCB9KSwgbGFiZWxdIH0sIGluZGV4KSkpIH0pKSk7XG59O1xuXG5jb25zdCBjb21tb25NZW51SXRlbVN0eWxlcyA9IHtcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgIG15OiAwLFxuICAgIHB5OiAnNnB4Jyxcbn07XG5jb25zdCBjb21tb25MaXN0SXRlbVN0eWxlcyA9IHtcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICBkaXNwbGF5OiAnZmxleCcsXG59O1xuY29uc3QgTVJUX0NvbHVtbkFjdGlvbk1lbnUgPSAoX2EpID0+IHtcbiAgICB2YXIgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2w7XG4gICAgdmFyIHsgYW5jaG9yRWwsIGhlYWRlciwgc2V0QW5jaG9yRWwsIHRhYmxlIH0gPSBfYSwgcmVzdCA9IF9fcmVzdChfYSwgW1wiYW5jaG9yRWxcIiwgXCJoZWFkZXJcIiwgXCJzZXRBbmNob3JFbFwiLCBcInRhYmxlXCJdKTtcbiAgICBjb25zdCB7IGdldFN0YXRlLCBvcHRpb25zOiB7IGNvbHVtbkZpbHRlckRpc3BsYXlNb2RlLCBjb2x1bW5GaWx0ZXJNb2RlT3B0aW9ucywgZW5hYmxlQ29sdW1uRmlsdGVyTW9kZXMsIGVuYWJsZUNvbHVtbkZpbHRlcnMsIGVuYWJsZUNvbHVtblBpbm5pbmcsIGVuYWJsZUNvbHVtblJlc2l6aW5nLCBlbmFibGVHcm91cGluZywgZW5hYmxlSGlkaW5nLCBlbmFibGVTb3J0aW5nLCBlbmFibGVTb3J0aW5nUmVtb3ZhbCwgaWNvbnM6IHsgQXJyb3dSaWdodEljb24sIENsZWFyQWxsSWNvbiwgRHluYW1pY0ZlZWRJY29uLCBGaWx0ZXJMaXN0SWNvbiwgRmlsdGVyTGlzdE9mZkljb24sIFB1c2hQaW5JY29uLCBSZXN0YXJ0QWx0SWNvbiwgU29ydEljb24sIFZpZXdDb2x1bW5JY29uLCBWaXNpYmlsaXR5T2ZmSWNvbiwgfSwgbG9jYWxpemF0aW9uLCByZW5kZXJDb2x1bW5BY3Rpb25zTWVudUl0ZW1zLCB9LCByZWZzOiB7IGZpbHRlcklucHV0UmVmcyB9LCBzZXRDb2x1bW5PcmRlciwgc2V0Q29sdW1uU2l6aW5nSW5mbywgc2V0U2hvd0NvbHVtbkZpbHRlcnMsIHRvZ2dsZUFsbENvbHVtbnNWaXNpYmxlLCB9ID0gdGFibGU7XG4gICAgY29uc3QgeyBjb2x1bW4gfSA9IGhlYWRlcjtcbiAgICBjb25zdCB7IGNvbHVtbkRlZiB9ID0gY29sdW1uO1xuICAgIGNvbnN0IHsgY29sdW1uU2l6aW5nLCBjb2x1bW5WaXNpYmlsaXR5LCBkZW5zaXR5LCBzaG93Q29sdW1uRmlsdGVycyB9ID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBjb2x1bW5GaWx0ZXJWYWx1ZSA9IGNvbHVtbi5nZXRGaWx0ZXJWYWx1ZSgpO1xuICAgIGNvbnN0IFtmaWx0ZXJNZW51QW5jaG9yRWwsIHNldEZpbHRlck1lbnVBbmNob3JFbF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBoYW5kbGVDbGVhclNvcnQgPSAoKSA9PiB7XG4gICAgICAgIGNvbHVtbi5jbGVhclNvcnRpbmcoKTtcbiAgICAgICAgc2V0QW5jaG9yRWwobnVsbCk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVTb3J0QXNjID0gKCkgPT4ge1xuICAgICAgICBjb2x1bW4udG9nZ2xlU29ydGluZyhmYWxzZSk7XG4gICAgICAgIHNldEFuY2hvckVsKG51bGwpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlU29ydERlc2MgPSAoKSA9PiB7XG4gICAgICAgIGNvbHVtbi50b2dnbGVTb3J0aW5nKHRydWUpO1xuICAgICAgICBzZXRBbmNob3JFbChudWxsKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZVJlc2V0Q29sdW1uU2l6ZSA9ICgpID0+IHtcbiAgICAgICAgc2V0Q29sdW1uU2l6aW5nSW5mbygob2xkKSA9PiAoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvbGQpLCB7IGlzUmVzaXppbmdDb2x1bW46IGZhbHNlIH0pKSk7XG4gICAgICAgIGNvbHVtbi5yZXNldFNpemUoKTtcbiAgICAgICAgc2V0QW5jaG9yRWwobnVsbCk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVIaWRlQ29sdW1uID0gKCkgPT4ge1xuICAgICAgICBjb2x1bW4udG9nZ2xlVmlzaWJpbGl0eShmYWxzZSk7XG4gICAgICAgIHNldEFuY2hvckVsKG51bGwpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlUGluQ29sdW1uID0gKHBpbkRpcmVjdGlvbikgPT4ge1xuICAgICAgICBjb2x1bW4ucGluKHBpbkRpcmVjdGlvbik7XG4gICAgICAgIHNldEFuY2hvckVsKG51bGwpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlR3JvdXBCeUNvbHVtbiA9ICgpID0+IHtcbiAgICAgICAgY29sdW1uLnRvZ2dsZUdyb3VwaW5nKCk7XG4gICAgICAgIHNldENvbHVtbk9yZGVyKChvbGQpID0+IFsnbXJ0LXJvdy1leHBhbmQnLCAuLi5vbGRdKTtcbiAgICAgICAgc2V0QW5jaG9yRWwobnVsbCk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVDbGVhckZpbHRlciA9ICgpID0+IHtcbiAgICAgICAgY29sdW1uLnNldEZpbHRlclZhbHVlKCcnKTtcbiAgICAgICAgc2V0QW5jaG9yRWwobnVsbCk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVGaWx0ZXJCeUNvbHVtbiA9ICgpID0+IHtcbiAgICAgICAgc2V0U2hvd0NvbHVtbkZpbHRlcnModHJ1ZSk7XG4gICAgICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gZmlsdGVySW5wdXRSZWZzLmN1cnJlbnRbYCR7Y29sdW1uLmlkfS0wYF0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb2N1cygpOyB9KTtcbiAgICAgICAgc2V0QW5jaG9yRWwobnVsbCk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVTaG93QWxsQ29sdW1ucyA9ICgpID0+IHtcbiAgICAgICAgdG9nZ2xlQWxsQ29sdW1uc1Zpc2libGUodHJ1ZSk7XG4gICAgICAgIHNldEFuY2hvckVsKG51bGwpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlT3BlbkZpbHRlck1vZGVNZW51ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBzZXRGaWx0ZXJNZW51QW5jaG9yRWwoZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgfTtcbiAgICBjb25zdCBpc1NlbGVjdEZpbHRlciA9ICEhY29sdW1uRGVmLmZpbHRlclNlbGVjdE9wdGlvbnM7XG4gICAgY29uc3QgYWxsb3dlZENvbHVtbkZpbHRlck9wdGlvbnMgPSAoX2IgPSBjb2x1bW5EZWYgPT09IG51bGwgfHwgY29sdW1uRGVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb2x1bW5EZWYuY29sdW1uRmlsdGVyTW9kZU9wdGlvbnMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGNvbHVtbkZpbHRlck1vZGVPcHRpb25zO1xuICAgIGNvbnN0IHNob3dGaWx0ZXJNb2RlU3ViTWVudSA9IGVuYWJsZUNvbHVtbkZpbHRlck1vZGVzICYmXG4gICAgICAgIGNvbHVtbkRlZi5lbmFibGVDb2x1bW5GaWx0ZXJNb2RlcyAhPT0gZmFsc2UgJiZcbiAgICAgICAgIWlzU2VsZWN0RmlsdGVyICYmXG4gICAgICAgIChhbGxvd2VkQ29sdW1uRmlsdGVyT3B0aW9ucyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAhIShhbGxvd2VkQ29sdW1uRmlsdGVyT3B0aW9ucyA9PT0gbnVsbCB8fCBhbGxvd2VkQ29sdW1uRmlsdGVyT3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWxsb3dlZENvbHVtbkZpbHRlck9wdGlvbnMubGVuZ3RoKSk7XG4gICAgY29uc3QgaW50ZXJuYWxDb2x1bW5NZW51SXRlbXMgPSBbXG4gICAgICAgIC4uLihlbmFibGVTb3J0aW5nICYmIGNvbHVtbi5nZXRDYW5Tb3J0KClcbiAgICAgICAgICAgID8gW1xuICAgICAgICAgICAgICAgIGVuYWJsZVNvcnRpbmdSZW1vdmFsICE9PSBmYWxzZSAmJiAoanN4KE1lbnVJdGVtLCB7IGRpc2FibGVkOiAhY29sdW1uLmdldElzU29ydGVkKCksIG9uQ2xpY2s6IGhhbmRsZUNsZWFyU29ydCwgc3g6IGNvbW1vbk1lbnVJdGVtU3R5bGVzLCBjaGlsZHJlbjoganN4cyhCb3gsIHsgc3g6IGNvbW1vbkxpc3RJdGVtU3R5bGVzLCBjaGlsZHJlbjogW2pzeChMaXN0SXRlbUljb24sIHsgY2hpbGRyZW46IGpzeChDbGVhckFsbEljb24sIHt9KSB9KSwgbG9jYWxpemF0aW9uLmNsZWFyU29ydF0gfSkgfSwgMCkpLFxuICAgICAgICAgICAgICAgIGpzeChNZW51SXRlbSwgeyBkaXNhYmxlZDogY29sdW1uLmdldElzU29ydGVkKCkgPT09ICdhc2MnLCBvbkNsaWNrOiBoYW5kbGVTb3J0QXNjLCBzeDogY29tbW9uTWVudUl0ZW1TdHlsZXMsIGNoaWxkcmVuOiBqc3hzKEJveCwgeyBzeDogY29tbW9uTGlzdEl0ZW1TdHlsZXMsIGNoaWxkcmVuOiBbanN4KExpc3RJdGVtSWNvbiwgeyBjaGlsZHJlbjoganN4KFNvcnRJY29uLCB7IHN0eWxlOiB7IHRyYW5zZm9ybTogJ3JvdGF0ZSgxODBkZWcpIHNjYWxlWCgtMSknIH0gfSkgfSksIChfYyA9IGxvY2FsaXphdGlvbi5zb3J0QnlDb2x1bW5Bc2MpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5yZXBsYWNlKCd7Y29sdW1ufScsIFN0cmluZyhjb2x1bW5EZWYuaGVhZGVyKSldIH0pIH0sIDEpLFxuICAgICAgICAgICAgICAgIGpzeChNZW51SXRlbSwgeyBkaXNhYmxlZDogY29sdW1uLmdldElzU29ydGVkKCkgPT09ICdkZXNjJywgZGl2aWRlcjogZW5hYmxlQ29sdW1uRmlsdGVycyB8fCBlbmFibGVHcm91cGluZyB8fCBlbmFibGVIaWRpbmcsIG9uQ2xpY2s6IGhhbmRsZVNvcnREZXNjLCBzeDogY29tbW9uTWVudUl0ZW1TdHlsZXMsIGNoaWxkcmVuOiBqc3hzKEJveCwgeyBzeDogY29tbW9uTGlzdEl0ZW1TdHlsZXMsIGNoaWxkcmVuOiBbanN4KExpc3RJdGVtSWNvbiwgeyBjaGlsZHJlbjoganN4KFNvcnRJY29uLCB7fSkgfSksIChfZCA9IGxvY2FsaXphdGlvbi5zb3J0QnlDb2x1bW5EZXNjKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QucmVwbGFjZSgne2NvbHVtbn0nLCBTdHJpbmcoY29sdW1uRGVmLmhlYWRlcikpXSB9KSB9LCAyKSxcbiAgICAgICAgICAgIF1cbiAgICAgICAgICAgIDogW10pLFxuICAgICAgICAuLi4oZW5hYmxlQ29sdW1uRmlsdGVycyAmJiBjb2x1bW4uZ2V0Q2FuRmlsdGVyKClcbiAgICAgICAgICAgID8gW1xuICAgICAgICAgICAgICAgIGpzeChNZW51SXRlbSwgeyBkaXNhYmxlZDogIWNvbHVtbkZpbHRlclZhbHVlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoQXJyYXkuaXNBcnJheShjb2x1bW5GaWx0ZXJWYWx1ZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhY29sdW1uRmlsdGVyVmFsdWUuZmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUpLmxlbmd0aCksIG9uQ2xpY2s6IGhhbmRsZUNsZWFyRmlsdGVyLCBzeDogY29tbW9uTWVudUl0ZW1TdHlsZXMsIGNoaWxkcmVuOiBqc3hzKEJveCwgeyBzeDogY29tbW9uTGlzdEl0ZW1TdHlsZXMsIGNoaWxkcmVuOiBbanN4KExpc3RJdGVtSWNvbiwgeyBjaGlsZHJlbjoganN4KEZpbHRlckxpc3RPZmZJY29uLCB7fSkgfSksIGxvY2FsaXphdGlvbi5jbGVhckZpbHRlcl0gfSkgfSwgMyksXG4gICAgICAgICAgICAgICAgY29sdW1uRmlsdGVyRGlzcGxheU1vZGUgPT09ICdzdWJoZWFkZXInICYmIChqc3hzKE1lbnVJdGVtLCB7IGRpc2FibGVkOiBzaG93Q29sdW1uRmlsdGVycyAmJiAhZW5hYmxlQ29sdW1uRmlsdGVyTW9kZXMsIGRpdmlkZXI6IGVuYWJsZUdyb3VwaW5nIHx8IGVuYWJsZUhpZGluZywgb25DbGljazogc2hvd0NvbHVtbkZpbHRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gaGFuZGxlT3BlbkZpbHRlck1vZGVNZW51XG4gICAgICAgICAgICAgICAgICAgICAgICA6IGhhbmRsZUZpbHRlckJ5Q29sdW1uLCBzeDogY29tbW9uTWVudUl0ZW1TdHlsZXMsIGNoaWxkcmVuOiBbanN4cyhCb3gsIHsgc3g6IGNvbW1vbkxpc3RJdGVtU3R5bGVzLCBjaGlsZHJlbjogW2pzeChMaXN0SXRlbUljb24sIHsgY2hpbGRyZW46IGpzeChGaWx0ZXJMaXN0SWNvbiwge30pIH0pLCAoX2UgPSBsb2NhbGl6YXRpb24uZmlsdGVyQnlDb2x1bW4pID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5yZXBsYWNlKCd7Y29sdW1ufScsIFN0cmluZyhjb2x1bW5EZWYuaGVhZGVyKSldIH0pLCBzaG93RmlsdGVyTW9kZVN1Yk1lbnUgJiYgKGpzeChJY29uQnV0dG9uLCB7IG9uQ2xpY2s6IGhhbmRsZU9wZW5GaWx0ZXJNb2RlTWVudSwgb25Nb3VzZUVudGVyOiBoYW5kbGVPcGVuRmlsdGVyTW9kZU1lbnUsIHNpemU6IFwic21hbGxcIiwgc3g6IHsgcDogMCB9LCBjaGlsZHJlbjoganN4KEFycm93UmlnaHRJY29uLCB7fSkgfSkpXSB9LCA0KSksXG4gICAgICAgICAgICAgICAgc2hvd0ZpbHRlck1vZGVTdWJNZW51ICYmIChqc3goTVJUX0ZpbHRlck9wdGlvbk1lbnUsIHsgYW5jaG9yRWw6IGZpbHRlck1lbnVBbmNob3JFbCwgaGVhZGVyOiBoZWFkZXIsIG9uU2VsZWN0OiBoYW5kbGVGaWx0ZXJCeUNvbHVtbiwgc2V0QW5jaG9yRWw6IHNldEZpbHRlck1lbnVBbmNob3JFbCwgdGFibGU6IHRhYmxlIH0sIDUpKSxcbiAgICAgICAgICAgIF0uZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgICAgICA6IFtdKSxcbiAgICAgICAgLi4uKGVuYWJsZUdyb3VwaW5nICYmIGNvbHVtbi5nZXRDYW5Hcm91cCgpXG4gICAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgICBqc3goTWVudUl0ZW0sIHsgZGl2aWRlcjogZW5hYmxlQ29sdW1uUGlubmluZywgb25DbGljazogaGFuZGxlR3JvdXBCeUNvbHVtbiwgc3g6IGNvbW1vbk1lbnVJdGVtU3R5bGVzLCBjaGlsZHJlbjoganN4cyhCb3gsIHsgc3g6IGNvbW1vbkxpc3RJdGVtU3R5bGVzLCBjaGlsZHJlbjogW2pzeChMaXN0SXRlbUljb24sIHsgY2hpbGRyZW46IGpzeChEeW5hbWljRmVlZEljb24sIHt9KSB9KSwgKF9mID0gbG9jYWxpemF0aW9uW2NvbHVtbi5nZXRJc0dyb3VwZWQoKSA/ICd1bmdyb3VwQnlDb2x1bW4nIDogJ2dyb3VwQnlDb2x1bW4nXSkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLnJlcGxhY2UoJ3tjb2x1bW59JywgU3RyaW5nKGNvbHVtbkRlZi5oZWFkZXIpKV0gfSkgfSwgNiksXG4gICAgICAgICAgICBdXG4gICAgICAgICAgICA6IFtdKSxcbiAgICAgICAgLi4uKGVuYWJsZUNvbHVtblBpbm5pbmcgJiYgY29sdW1uLmdldENhblBpbigpXG4gICAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgICBqc3goTWVudUl0ZW0sIHsgZGlzYWJsZWQ6IGNvbHVtbi5nZXRJc1Bpbm5lZCgpID09PSAnbGVmdCcgfHwgIWNvbHVtbi5nZXRDYW5QaW4oKSwgb25DbGljazogKCkgPT4gaGFuZGxlUGluQ29sdW1uKCdsZWZ0JyksIHN4OiBjb21tb25NZW51SXRlbVN0eWxlcywgY2hpbGRyZW46IGpzeHMoQm94LCB7IHN4OiBjb21tb25MaXN0SXRlbVN0eWxlcywgY2hpbGRyZW46IFtqc3goTGlzdEl0ZW1JY29uLCB7IGNoaWxkcmVuOiBqc3goUHVzaFBpbkljb24sIHsgc3R5bGU6IHsgdHJhbnNmb3JtOiAncm90YXRlKDkwZGVnKScgfSB9KSB9KSwgbG9jYWxpemF0aW9uLnBpblRvTGVmdF0gfSkgfSwgNyksXG4gICAgICAgICAgICAgICAganN4KE1lbnVJdGVtLCB7IGRpc2FibGVkOiBjb2x1bW4uZ2V0SXNQaW5uZWQoKSA9PT0gJ3JpZ2h0JyB8fCAhY29sdW1uLmdldENhblBpbigpLCBvbkNsaWNrOiAoKSA9PiBoYW5kbGVQaW5Db2x1bW4oJ3JpZ2h0JyksIHN4OiBjb21tb25NZW51SXRlbVN0eWxlcywgY2hpbGRyZW46IGpzeHMoQm94LCB7IHN4OiBjb21tb25MaXN0SXRlbVN0eWxlcywgY2hpbGRyZW46IFtqc3goTGlzdEl0ZW1JY29uLCB7IGNoaWxkcmVuOiBqc3goUHVzaFBpbkljb24sIHsgc3R5bGU6IHsgdHJhbnNmb3JtOiAncm90YXRlKC05MGRlZyknIH0gfSkgfSksIGxvY2FsaXphdGlvbi5waW5Ub1JpZ2h0XSB9KSB9LCA4KSxcbiAgICAgICAgICAgICAgICBqc3goTWVudUl0ZW0sIHsgZGlzYWJsZWQ6ICFjb2x1bW4uZ2V0SXNQaW5uZWQoKSwgZGl2aWRlcjogZW5hYmxlSGlkaW5nLCBvbkNsaWNrOiAoKSA9PiBoYW5kbGVQaW5Db2x1bW4oZmFsc2UpLCBzeDogY29tbW9uTWVudUl0ZW1TdHlsZXMsIGNoaWxkcmVuOiBqc3hzKEJveCwgeyBzeDogY29tbW9uTGlzdEl0ZW1TdHlsZXMsIGNoaWxkcmVuOiBbanN4KExpc3RJdGVtSWNvbiwgeyBjaGlsZHJlbjoganN4KFB1c2hQaW5JY29uLCB7fSkgfSksIGxvY2FsaXphdGlvbi51bnBpbl0gfSkgfSwgOSksXG4gICAgICAgICAgICBdXG4gICAgICAgICAgICA6IFtdKSxcbiAgICAgICAgLi4uKGVuYWJsZUNvbHVtblJlc2l6aW5nICYmIGNvbHVtbi5nZXRDYW5SZXNpemUoKVxuICAgICAgICAgICAgPyBbXG4gICAgICAgICAgICAgICAganN4KE1lbnVJdGVtLCB7IGRpc2FibGVkOiAhY29sdW1uU2l6aW5nW2NvbHVtbi5pZF0sIG9uQ2xpY2s6IGhhbmRsZVJlc2V0Q29sdW1uU2l6ZSwgc3g6IGNvbW1vbk1lbnVJdGVtU3R5bGVzLCBjaGlsZHJlbjoganN4cyhCb3gsIHsgc3g6IGNvbW1vbkxpc3RJdGVtU3R5bGVzLCBjaGlsZHJlbjogW2pzeChMaXN0SXRlbUljb24sIHsgY2hpbGRyZW46IGpzeChSZXN0YXJ0QWx0SWNvbiwge30pIH0pLCBsb2NhbGl6YXRpb24ucmVzZXRDb2x1bW5TaXplXSB9KSB9LCAxMCksXG4gICAgICAgICAgICBdXG4gICAgICAgICAgICA6IFtdKSxcbiAgICAgICAgLi4uKGVuYWJsZUhpZGluZ1xuICAgICAgICAgICAgPyBbXG4gICAgICAgICAgICAgICAganN4KE1lbnVJdGVtLCB7IGRpc2FibGVkOiAhY29sdW1uLmdldENhbkhpZGUoKSwgb25DbGljazogaGFuZGxlSGlkZUNvbHVtbiwgc3g6IGNvbW1vbk1lbnVJdGVtU3R5bGVzLCBjaGlsZHJlbjoganN4cyhCb3gsIHsgc3g6IGNvbW1vbkxpc3RJdGVtU3R5bGVzLCBjaGlsZHJlbjogW2pzeChMaXN0SXRlbUljb24sIHsgY2hpbGRyZW46IGpzeChWaXNpYmlsaXR5T2ZmSWNvbiwge30pIH0pLCAoX2cgPSBsb2NhbGl6YXRpb24uaGlkZUNvbHVtbikgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLnJlcGxhY2UoJ3tjb2x1bW59JywgU3RyaW5nKGNvbHVtbkRlZi5oZWFkZXIpKV0gfSkgfSwgMTEpLFxuICAgICAgICAgICAgICAgIGpzeChNZW51SXRlbSwgeyBkaXNhYmxlZDogIU9iamVjdC52YWx1ZXMoY29sdW1uVmlzaWJpbGl0eSkuZmlsdGVyKCh2aXNpYmxlKSA9PiAhdmlzaWJsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5sZW5ndGgsIG9uQ2xpY2s6IGhhbmRsZVNob3dBbGxDb2x1bW5zLCBzeDogY29tbW9uTWVudUl0ZW1TdHlsZXMsIGNoaWxkcmVuOiBqc3hzKEJveCwgeyBzeDogY29tbW9uTGlzdEl0ZW1TdHlsZXMsIGNoaWxkcmVuOiBbanN4KExpc3RJdGVtSWNvbiwgeyBjaGlsZHJlbjoganN4KFZpZXdDb2x1bW5JY29uLCB7fSkgfSksIChfaCA9IGxvY2FsaXphdGlvbi5zaG93QWxsQ29sdW1ucykgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLnJlcGxhY2UoJ3tjb2x1bW59JywgU3RyaW5nKGNvbHVtbkRlZi5oZWFkZXIpKV0gfSkgfSwgMTIpLFxuICAgICAgICAgICAgXVxuICAgICAgICAgICAgOiBbXSksXG4gICAgXS5maWx0ZXIoQm9vbGVhbik7XG4gICAgcmV0dXJuIChqc3goTWVudSwgT2JqZWN0LmFzc2lnbih7IE1lbnVMaXN0UHJvcHM6IHtcbiAgICAgICAgICAgIGRlbnNlOiBkZW5zaXR5ID09PSAnY29tcGFjdCcsXG4gICAgICAgIH0sIGFuY2hvckVsOiBhbmNob3JFbCwgb25DbG9zZTogKCkgPT4gc2V0QW5jaG9yRWwobnVsbCksIG9wZW46ICEhYW5jaG9yRWwgfSwgcmVzdCwgeyBjaGlsZHJlbjogKF9sID0gKF9rID0gKF9qID0gY29sdW1uRGVmLnJlbmRlckNvbHVtbkFjdGlvbnNNZW51SXRlbXMpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai5jYWxsKGNvbHVtbkRlZiwge1xuICAgICAgICAgICAgY2xvc2VNZW51OiAoKSA9PiBzZXRBbmNob3JFbChudWxsKSxcbiAgICAgICAgICAgIGNvbHVtbixcbiAgICAgICAgICAgIGludGVybmFsQ29sdW1uTWVudUl0ZW1zLFxuICAgICAgICAgICAgdGFibGUsXG4gICAgICAgIH0pKSAhPT0gbnVsbCAmJiBfayAhPT0gdm9pZCAwID8gX2sgOiByZW5kZXJDb2x1bW5BY3Rpb25zTWVudUl0ZW1zID09PSBudWxsIHx8IHJlbmRlckNvbHVtbkFjdGlvbnNNZW51SXRlbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlbmRlckNvbHVtbkFjdGlvbnNNZW51SXRlbXMoe1xuICAgICAgICAgICAgY2xvc2VNZW51OiAoKSA9PiBzZXRBbmNob3JFbChudWxsKSxcbiAgICAgICAgICAgIGNvbHVtbixcbiAgICAgICAgICAgIGludGVybmFsQ29sdW1uTWVudUl0ZW1zLFxuICAgICAgICAgICAgdGFibGUsXG4gICAgICAgIH0pKSAhPT0gbnVsbCAmJiBfbCAhPT0gdm9pZCAwID8gX2wgOiBpbnRlcm5hbENvbHVtbk1lbnVJdGVtcyB9KSkpO1xufTtcblxuY29uc3QgTVJUX1RhYmxlSGVhZENlbGxDb2x1bW5BY3Rpb25zQnV0dG9uID0gKF9hKSA9PiB7XG4gICAgdmFyIF9iO1xuICAgIHZhciB7IGhlYWRlciwgdGFibGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJoZWFkZXJcIiwgXCJ0YWJsZVwiXSk7XG4gICAgY29uc3QgeyBvcHRpb25zOiB7IGljb25zOiB7IE1vcmVWZXJ0SWNvbiB9LCBsb2NhbGl6YXRpb24sIG11aUNvbHVtbkFjdGlvbnNCdXR0b25Qcm9wcywgfSwgfSA9IHRhYmxlO1xuICAgIGNvbnN0IHsgY29sdW1uIH0gPSBoZWFkZXI7XG4gICAgY29uc3QgeyBjb2x1bW5EZWYgfSA9IGNvbHVtbjtcbiAgICBjb25zdCBbYW5jaG9yRWwsIHNldEFuY2hvckVsXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBzZXRBbmNob3JFbChldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICB9O1xuICAgIGNvbnN0IGljb25CdXR0b25Qcm9wcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwYXJzZUZyb21WYWx1ZXNPckZ1bmMobXVpQ29sdW1uQWN0aW9uc0J1dHRvblByb3BzLCB7XG4gICAgICAgIGNvbHVtbixcbiAgICAgICAgdGFibGUsXG4gICAgfSkpLCBwYXJzZUZyb21WYWx1ZXNPckZ1bmMoY29sdW1uRGVmLm11aUNvbHVtbkFjdGlvbnNCdXR0b25Qcm9wcywge1xuICAgICAgICBjb2x1bW4sXG4gICAgICAgIHRhYmxlLFxuICAgIH0pKSwgcmVzdCk7XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4KFRvb2x0aXAsIHsgZW50ZXJEZWxheTogMTAwMCwgZW50ZXJOZXh0RGVsYXk6IDEwMDAsIHBsYWNlbWVudDogXCJ0b3BcIiwgdGl0bGU6IChfYiA9IGljb25CdXR0b25Qcm9wcyA9PT0gbnVsbCB8fCBpY29uQnV0dG9uUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGljb25CdXR0b25Qcm9wcy50aXRsZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbG9jYWxpemF0aW9uLmNvbHVtbkFjdGlvbnMsIGNoaWxkcmVuOiBqc3goSWNvbkJ1dHRvbiwgT2JqZWN0LmFzc2lnbih7IFwiYXJpYS1sYWJlbFwiOiBsb2NhbGl6YXRpb24uY29sdW1uQWN0aW9ucywgb25DbGljazogaGFuZGxlQ2xpY2ssIHNpemU6IFwic21hbGxcIiB9LCBpY29uQnV0dG9uUHJvcHMsIHsgc3g6ICh0aGVtZSkgPT4gKE9iamVjdC5hc3NpZ24oeyAnJjpob3Zlcic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgaGVpZ2h0OiAnMnJlbScsIG06ICctOHB4IC00cHgnLCBvcGFjaXR5OiAwLjMsIHRyYW5zaXRpb246ICdhbGwgMTUwbXMnLCB3aWR0aDogJzJyZW0nIH0sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhpY29uQnV0dG9uUHJvcHMgPT09IG51bGwgfHwgaWNvbkJ1dHRvblByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpY29uQnV0dG9uUHJvcHMuc3gsIHRoZW1lKSkpLCB0aXRsZTogdW5kZWZpbmVkLCBjaGlsZHJlbjoganN4KE1vcmVWZXJ0SWNvbiwgeyBzdHlsZTogeyB0cmFuc2Zvcm06ICdzY2FsZSgwLjkpJyB9IH0pIH0pKSB9KSwgYW5jaG9yRWwgJiYgKGpzeChNUlRfQ29sdW1uQWN0aW9uTWVudSwgeyBhbmNob3JFbDogYW5jaG9yRWwsIGhlYWRlcjogaGVhZGVyLCBzZXRBbmNob3JFbDogc2V0QW5jaG9yRWwsIHRhYmxlOiB0YWJsZSB9KSldIH0pKTtcbn07XG5cbmNvbnN0IE1SVF9GaWx0ZXJDaGVja2JveCA9IChfYSkgPT4ge1xuICAgIHZhciBfYiwgX2MsIF9kO1xuICAgIHZhciB7IGNvbHVtbiwgdGFibGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJjb2x1bW5cIiwgXCJ0YWJsZVwiXSk7XG4gICAgY29uc3QgeyBnZXRTdGF0ZSwgb3B0aW9uczogeyBsb2NhbGl6YXRpb24sIG11aUZpbHRlckNoZWNrYm94UHJvcHMgfSwgfSA9IHRhYmxlO1xuICAgIGNvbnN0IHsgZGVuc2l0eSB9ID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCB7IGNvbHVtbkRlZiB9ID0gY29sdW1uO1xuICAgIGNvbnN0IGNoZWNrYm94UHJvcHMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKG11aUZpbHRlckNoZWNrYm94UHJvcHMsIHtcbiAgICAgICAgY29sdW1uLFxuICAgICAgICB0YWJsZSxcbiAgICB9KSksIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhjb2x1bW5EZWYubXVpRmlsdGVyQ2hlY2tib3hQcm9wcywge1xuICAgICAgICBjb2x1bW4sXG4gICAgICAgIHRhYmxlLFxuICAgIH0pKSwgcmVzdCk7XG4gICAgY29uc3QgZmlsdGVyTGFiZWwgPSAoX2IgPSBsb2NhbGl6YXRpb24uZmlsdGVyQnlDb2x1bW4pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5yZXBsYWNlKCd7Y29sdW1ufScsIGNvbHVtbkRlZi5oZWFkZXIpO1xuICAgIHJldHVybiAoanN4KFRvb2x0aXAsIHsgZW50ZXJEZWxheTogMTAwMCwgZW50ZXJOZXh0RGVsYXk6IDEwMDAsIHRpdGxlOiAoX2MgPSBjaGVja2JveFByb3BzID09PSBudWxsIHx8IGNoZWNrYm94UHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoZWNrYm94UHJvcHMudGl0bGUpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGZpbHRlckxhYmVsLCBjaGlsZHJlbjoganN4KEZvcm1Db250cm9sTGFiZWwsIHsgY29udHJvbDoganN4KENoZWNrYm94LCBPYmplY3QuYXNzaWduKHsgY2hlY2tlZDogY29sdW1uLmdldEZpbHRlclZhbHVlKCkgPT09ICd0cnVlJywgY29sb3I6IGNvbHVtbi5nZXRGaWx0ZXJWYWx1ZSgpID09PSB1bmRlZmluZWQgPyAnZGVmYXVsdCcgOiAncHJpbWFyeScsIGluZGV0ZXJtaW5hdGU6IGNvbHVtbi5nZXRGaWx0ZXJWYWx1ZSgpID09PSB1bmRlZmluZWQsIHNpemU6IGRlbnNpdHkgPT09ICdjb21wYWN0JyA/ICdzbWFsbCcgOiAnbWVkaXVtJyB9LCBjaGVja2JveFByb3BzLCB7IG9uQ2hhbmdlOiAoZSwgY2hlY2tlZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5zZXRGaWx0ZXJWYWx1ZShjb2x1bW4uZ2V0RmlsdGVyVmFsdWUoKSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICd0cnVlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBjb2x1bW4uZ2V0RmlsdGVyVmFsdWUoKSA9PT0gJ3RydWUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnZmFsc2UnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSBjaGVja2JveFByb3BzID09PSBudWxsIHx8IGNoZWNrYm94UHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoZWNrYm94UHJvcHMub25DaGFuZ2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGNoZWNrYm94UHJvcHMsIGUsIGNoZWNrZWQpO1xuICAgICAgICAgICAgICAgIH0sIG9uQ2xpY2s6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gY2hlY2tib3hQcm9wcyA9PT0gbnVsbCB8fCBjaGVja2JveFByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjaGVja2JveFByb3BzLm9uQ2xpY2spID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGNoZWNrYm94UHJvcHMsIGUpO1xuICAgICAgICAgICAgICAgIH0sIHN4OiAodGhlbWUpID0+IChPYmplY3QuYXNzaWduKHsgaGVpZ2h0OiAnMi41cmVtJywgd2lkdGg6ICcyLjVyZW0nIH0sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhjaGVja2JveFByb3BzID09PSBudWxsIHx8IGNoZWNrYm94UHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoZWNrYm94UHJvcHMuc3gsIHRoZW1lKSkpIH0pKSwgZGlzYWJsZVR5cG9ncmFwaHk6IHRydWUsIGxhYmVsOiAoX2QgPSBjaGVja2JveFByb3BzLnRpdGxlKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBmaWx0ZXJMYWJlbCwgc3g6IHsgY29sb3I6ICd0ZXh0LnNlY29uZGFyeScsIGZvbnRXZWlnaHQ6ICdub3JtYWwnLCBtdDogJy00cHgnIH0sIHRpdGxlOiB1bmRlZmluZWQgfSkgfSkpO1xufTtcblxuY29uc3QgTVJUX0ZpbHRlclRleHRGaWVsZCA9IChfYSkgPT4ge1xuICAgIHZhciBfYiwgX2MsIF9kLCBfZiwgX2csIF9oLCBfaiwgX2ssIF9sLCBfbSwgX28sIF9wLCBfcTtcbiAgICB2YXIgeyBoZWFkZXIsIHJhbmdlRmlsdGVySW5kZXgsIHRhYmxlIH0gPSBfYSwgcmVzdCA9IF9fcmVzdChfYSwgW1wiaGVhZGVyXCIsIFwicmFuZ2VGaWx0ZXJJbmRleFwiLCBcInRhYmxlXCJdKTtcbiAgICBjb25zdCB7IG9wdGlvbnM6IHsgY29sdW1uRmlsdGVyTW9kZU9wdGlvbnMsIGVuYWJsZUNvbHVtbkZpbHRlck1vZGVzLCBpY29uczogeyBDbG9zZUljb24sIEZpbHRlckxpc3RJY29uIH0sIGxvY2FsaXphdGlvbiwgbWFudWFsRmlsdGVyaW5nLCBtdWlGaWx0ZXJBdXRvY29tcGxldGVQcm9wcywgbXVpRmlsdGVyRGF0ZVBpY2tlclByb3BzLCBtdWlGaWx0ZXJUZXh0RmllbGRQcm9wcywgfSwgcmVmczogeyBmaWx0ZXJJbnB1dFJlZnMgfSwgc2V0Q29sdW1uRmlsdGVyRm5zLCB9ID0gdGFibGU7XG4gICAgY29uc3QgeyBjb2x1bW4gfSA9IGhlYWRlcjtcbiAgICBjb25zdCB7IGNvbHVtbkRlZiB9ID0gY29sdW1uO1xuICAgIGNvbnN0IHsgZmlsdGVyVmFyaWFudCB9ID0gY29sdW1uRGVmO1xuICAgIGNvbnN0IHRleHRGaWVsZFByb3BzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhtdWlGaWx0ZXJUZXh0RmllbGRQcm9wcywgeyBjb2x1bW4sIHRhYmxlIH0pKSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKGNvbHVtbkRlZi5tdWlGaWx0ZXJUZXh0RmllbGRQcm9wcywge1xuICAgICAgICBjb2x1bW4sXG4gICAgICAgIHRhYmxlLFxuICAgIH0pKSwgcmVzdCk7XG4gICAgY29uc3QgYXV0b2NvbXBsZXRlUHJvcHMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhtdWlGaWx0ZXJBdXRvY29tcGxldGVQcm9wcywgeyBjb2x1bW4sIHRhYmxlIH0pKSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKGNvbHVtbkRlZi5tdWlGaWx0ZXJBdXRvY29tcGxldGVQcm9wcywge1xuICAgICAgICBjb2x1bW4sXG4gICAgICAgIHRhYmxlLFxuICAgIH0pKTtcbiAgICBjb25zdCBkYXRlUGlja2VyUHJvcHMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhtdWlGaWx0ZXJEYXRlUGlja2VyUHJvcHMsIHsgY29sdW1uLCB0YWJsZSB9KSksIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhjb2x1bW5EZWYubXVpRmlsdGVyRGF0ZVBpY2tlclByb3BzLCB7XG4gICAgICAgIGNvbHVtbixcbiAgICAgICAgdGFibGUsXG4gICAgfSkpO1xuICAgIGNvbnN0IGlzRGF0ZUZpbHRlciA9IGZpbHRlclZhcmlhbnQgPT09IG51bGwgfHwgZmlsdGVyVmFyaWFudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZmlsdGVyVmFyaWFudC5zdGFydHNXaXRoKCdkYXRlJyk7XG4gICAgY29uc3QgaXNBdXRvY29tcGxldGVGaWx0ZXIgPSBmaWx0ZXJWYXJpYW50ID09PSAnYXV0b2NvbXBsZXRlJztcbiAgICBjb25zdCBpc1JhbmdlRmlsdGVyID0gKGZpbHRlclZhcmlhbnQgPT09IG51bGwgfHwgZmlsdGVyVmFyaWFudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZmlsdGVyVmFyaWFudC5pbmNsdWRlcygncmFuZ2UnKSkgfHwgcmFuZ2VGaWx0ZXJJbmRleCAhPT0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IGlzU2VsZWN0RmlsdGVyID0gZmlsdGVyVmFyaWFudCA9PT0gJ3NlbGVjdCc7XG4gICAgY29uc3QgaXNNdWx0aVNlbGVjdEZpbHRlciA9IGZpbHRlclZhcmlhbnQgPT09ICdtdWx0aS1zZWxlY3QnO1xuICAgIGNvbnN0IGlzVGV4dGJveEZpbHRlciA9IFsnYXV0b2NvbXBsZXRlJywgJ3RleHQnXS5pbmNsdWRlcyhmaWx0ZXJWYXJpYW50KSB8fFxuICAgICAgICAoIWlzU2VsZWN0RmlsdGVyICYmICFpc011bHRpU2VsZWN0RmlsdGVyKTtcbiAgICBjb25zdCBjdXJyZW50RmlsdGVyT3B0aW9uID0gY29sdW1uRGVmLl9maWx0ZXJGbjtcbiAgICBjb25zdCBmaWx0ZXJDaGlwTGFiZWwgPSBbJ2VtcHR5JywgJ25vdEVtcHR5J10uaW5jbHVkZXMoY3VycmVudEZpbHRlck9wdGlvbilcbiAgICAgICAgPyAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIGxvY2FsaXphdGlvbltgZmlsdGVyJHsoKF9jID0gKF9iID0gY3VycmVudEZpbHRlck9wdGlvbiA9PT0gbnVsbCB8fCBjdXJyZW50RmlsdGVyT3B0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJyZW50RmlsdGVyT3B0aW9uLmNoYXJBdCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoY3VycmVudEZpbHRlck9wdGlvbiwgMCkpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy50b1VwcGVyQ2FzZSgpKSArXG4gICAgICAgICAgICAgICAgKGN1cnJlbnRGaWx0ZXJPcHRpb24gPT09IG51bGwgfHwgY3VycmVudEZpbHRlck9wdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogY3VycmVudEZpbHRlck9wdGlvbi5zbGljZSgxKSl9YF1cbiAgICAgICAgOiAnJztcbiAgICBjb25zdCBmaWx0ZXJQbGFjZWhvbGRlciA9ICFpc1JhbmdlRmlsdGVyXG4gICAgICAgID8gKF9kID0gdGV4dEZpZWxkUHJvcHMgPT09IG51bGwgfHwgdGV4dEZpZWxkUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRleHRGaWVsZFByb3BzLnBsYWNlaG9sZGVyKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAoX2YgPSBsb2NhbGl6YXRpb24uZmlsdGVyQnlDb2x1bW4pID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5yZXBsYWNlKCd7Y29sdW1ufScsIFN0cmluZyhjb2x1bW5EZWYuaGVhZGVyKSlcbiAgICAgICAgOiByYW5nZUZpbHRlckluZGV4ID09PSAwXG4gICAgICAgICAgICA/IGxvY2FsaXphdGlvbi5taW5cbiAgICAgICAgICAgIDogcmFuZ2VGaWx0ZXJJbmRleCA9PT0gMVxuICAgICAgICAgICAgICAgID8gbG9jYWxpemF0aW9uLm1heFxuICAgICAgICAgICAgICAgIDogJyc7XG4gICAgY29uc3QgYWxsb3dlZENvbHVtbkZpbHRlck9wdGlvbnMgPSAoX2cgPSBjb2x1bW5EZWYgPT09IG51bGwgfHwgY29sdW1uRGVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb2x1bW5EZWYuY29sdW1uRmlsdGVyTW9kZU9wdGlvbnMpICE9PSBudWxsICYmIF9nICE9PSB2b2lkIDAgPyBfZyA6IGNvbHVtbkZpbHRlck1vZGVPcHRpb25zO1xuICAgIGNvbnN0IHNob3dDaGFuZ2VNb2RlQnV0dG9uID0gZW5hYmxlQ29sdW1uRmlsdGVyTW9kZXMgJiZcbiAgICAgICAgY29sdW1uRGVmLmVuYWJsZUNvbHVtbkZpbHRlck1vZGVzICE9PSBmYWxzZSAmJlxuICAgICAgICAhcmFuZ2VGaWx0ZXJJbmRleCAmJlxuICAgICAgICAoYWxsb3dlZENvbHVtbkZpbHRlck9wdGlvbnMgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgISEoYWxsb3dlZENvbHVtbkZpbHRlck9wdGlvbnMgPT09IG51bGwgfHwgYWxsb3dlZENvbHVtbkZpbHRlck9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFsbG93ZWRDb2x1bW5GaWx0ZXJPcHRpb25zLmxlbmd0aCkpO1xuICAgIGNvbnN0IGZhY2V0ZWRVbmlxdWVWYWx1ZXMgPSBjb2x1bW4uZ2V0RmFjZXRlZFVuaXF1ZVZhbHVlcygpO1xuICAgIGNvbnN0IFthbmNob3JFbCwgc2V0QW5jaG9yRWxdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2ZpbHRlclZhbHVlLCBzZXRGaWx0ZXJWYWx1ZV0gPSB1c2VTdGF0ZSgoKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiBpc011bHRpU2VsZWN0RmlsdGVyXG4gICAgICAgICAgICA/IGNvbHVtbi5nZXRGaWx0ZXJWYWx1ZSgpIHx8IFtdXG4gICAgICAgICAgICA6IGlzUmFuZ2VGaWx0ZXJcbiAgICAgICAgICAgICAgICA/ICgoX2EgPSBjb2x1bW4uZ2V0RmlsdGVyVmFsdWUoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW3JhbmdlRmlsdGVySW5kZXhdKSB8fCAnJ1xuICAgICAgICAgICAgICAgIDogKF9iID0gY29sdW1uLmdldEZpbHRlclZhbHVlKCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICcnO1xuICAgIH0pO1xuICAgIGNvbnN0IGhhbmRsZUNoYW5nZURlYm91bmNlZCA9IHVzZUNhbGxiYWNrKGRlYm91bmNlKChuZXdWYWx1ZSkgPT4ge1xuICAgICAgICBpZiAoaXNSYW5nZUZpbHRlcikge1xuICAgICAgICAgICAgY29sdW1uLnNldEZpbHRlclZhbHVlKChvbGQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdGaWx0ZXJWYWx1ZXMgPSBvbGQgIT09IG51bGwgJiYgb2xkICE9PSB2b2lkIDAgPyBvbGQgOiBbJycsICcnXTtcbiAgICAgICAgICAgICAgICBuZXdGaWx0ZXJWYWx1ZXNbcmFuZ2VGaWx0ZXJJbmRleF0gPSBuZXdWYWx1ZSAhPT0gbnVsbCAmJiBuZXdWYWx1ZSAhPT0gdm9pZCAwID8gbmV3VmFsdWUgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld0ZpbHRlclZhbHVlcztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29sdW1uLnNldEZpbHRlclZhbHVlKG5ld1ZhbHVlICE9PSBudWxsICYmIG5ld1ZhbHVlICE9PSB2b2lkIDAgPyBuZXdWYWx1ZSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICB9LCBpc1RleHRib3hGaWx0ZXIgPyAobWFudWFsRmlsdGVyaW5nID8gNDAwIDogMjAwKSA6IDEpLCBbXSk7XG4gICAgY29uc3QgaGFuZGxlQ2hhbmdlID0gKG5ld1ZhbHVlKSA9PiB7XG4gICAgICAgIHNldEZpbHRlclZhbHVlKG5ld1ZhbHVlICE9PSBudWxsICYmIG5ld1ZhbHVlICE9PSB2b2lkIDAgPyBuZXdWYWx1ZSA6ICcnKTtcbiAgICAgICAgaGFuZGxlQ2hhbmdlRGVib3VuY2VkKG5ld1ZhbHVlKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZVRleHRGaWVsZENoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdGV4dEZpZWxkUHJvcHMudHlwZSA9PT0gJ2RhdGUnXG4gICAgICAgICAgICA/IGV2ZW50LnRhcmdldC52YWx1ZUFzRGF0ZVxuICAgICAgICAgICAgOiB0ZXh0RmllbGRQcm9wcy50eXBlID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgICAgID8gZXZlbnQudGFyZ2V0LnZhbHVlQXNOdW1iZXJcbiAgICAgICAgICAgICAgICA6IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICAgICAgaGFuZGxlQ2hhbmdlKG5ld1ZhbHVlKTtcbiAgICAgICAgKF9hID0gdGV4dEZpZWxkUHJvcHMgPT09IG51bGwgfHwgdGV4dEZpZWxkUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRleHRGaWVsZFByb3BzLm9uQ2hhbmdlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0ZXh0RmllbGRQcm9wcywgZXZlbnQpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQ2xlYXIgPSAoKSA9PiB7XG4gICAgICAgIGlmIChpc011bHRpU2VsZWN0RmlsdGVyKSB7XG4gICAgICAgICAgICBzZXRGaWx0ZXJWYWx1ZShbXSk7XG4gICAgICAgICAgICBjb2x1bW4uc2V0RmlsdGVyVmFsdWUoW10pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUmFuZ2VGaWx0ZXIpIHtcbiAgICAgICAgICAgIHNldEZpbHRlclZhbHVlKCcnKTtcbiAgICAgICAgICAgIGNvbHVtbi5zZXRGaWx0ZXJWYWx1ZSgob2xkKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3RmlsdGVyVmFsdWVzID0gKEFycmF5LmlzQXJyYXkob2xkKSAmJiBvbGQpIHx8IFsnJywgJyddO1xuICAgICAgICAgICAgICAgIG5ld0ZpbHRlclZhbHVlc1tyYW5nZUZpbHRlckluZGV4XSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3RmlsdGVyVmFsdWVzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZXRGaWx0ZXJWYWx1ZSgnJyk7XG4gICAgICAgICAgICBjb2x1bW4uc2V0RmlsdGVyVmFsdWUodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQ2xlYXJFbXB0eUZpbHRlckNoaXAgPSAoKSA9PiB7XG4gICAgICAgIHNldEZpbHRlclZhbHVlKCcnKTtcbiAgICAgICAgY29sdW1uLnNldEZpbHRlclZhbHVlKHVuZGVmaW5lZCk7XG4gICAgICAgIHNldENvbHVtbkZpbHRlckZucygocHJldikgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHByZXYpLCB7IFtoZWFkZXIuaWRdOiAoX2EgPSBhbGxvd2VkQ29sdW1uRmlsdGVyT3B0aW9ucyA9PT0gbnVsbCB8fCBhbGxvd2VkQ29sdW1uRmlsdGVyT3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWxsb3dlZENvbHVtbkZpbHRlck9wdGlvbnNbMF0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICdmdXp6eScgfSkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUZpbHRlck1lbnVPcGVuID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHNldEFuY2hvckVsKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuICAgIH07XG4gICAgY29uc3QgaXNNb3VudGVkID0gdXNlUmVmKGZhbHNlKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNNb3VudGVkLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbHRlclZhbHVlID0gY29sdW1uLmdldEZpbHRlclZhbHVlKCk7XG4gICAgICAgICAgICBpZiAoZmlsdGVyVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGhhbmRsZUNsZWFyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc1JhbmdlRmlsdGVyICYmIHJhbmdlRmlsdGVySW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNldEZpbHRlclZhbHVlKGZpbHRlclZhbHVlW3JhbmdlRmlsdGVySW5kZXhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldEZpbHRlclZhbHVlKGZpbHRlclZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpc01vdW50ZWQuY3VycmVudCA9IHRydWU7XG4gICAgfSwgW2NvbHVtbi5nZXRGaWx0ZXJWYWx1ZSgpXSk7XG4gICAgaWYgKGNvbHVtbkRlZi5GaWx0ZXIpIHtcbiAgICAgICAgcmV0dXJuIChqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IChfaCA9IGNvbHVtbkRlZi5GaWx0ZXIpID09PSBudWxsIHx8IF9oID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaC5jYWxsKGNvbHVtbkRlZiwgeyBjb2x1bW4sIGhlYWRlciwgcmFuZ2VGaWx0ZXJJbmRleCwgdGFibGUgfSkgfSkpO1xuICAgIH1cbiAgICBjb25zdCBkcm9wZG93bk9wdGlvbnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9hID0gY29sdW1uRGVmLmZpbHRlclNlbGVjdE9wdGlvbnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICgoaXNTZWxlY3RGaWx0ZXIgfHwgaXNNdWx0aVNlbGVjdEZpbHRlciB8fCBpc0F1dG9jb21wbGV0ZUZpbHRlcikgJiZcbiAgICAgICAgICAgIGZhY2V0ZWRVbmlxdWVWYWx1ZXNcbiAgICAgICAgICAgID8gQXJyYXkuZnJvbShmYWNldGVkVW5pcXVlVmFsdWVzLmtleXMoKSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5sb2NhbGVDb21wYXJlKGIpKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgIH0sIFtcbiAgICAgICAgY29sdW1uRGVmLmZpbHRlclNlbGVjdE9wdGlvbnMsXG4gICAgICAgIGZhY2V0ZWRVbmlxdWVWYWx1ZXMsXG4gICAgICAgIGlzTXVsdGlTZWxlY3RGaWx0ZXIsXG4gICAgICAgIGlzU2VsZWN0RmlsdGVyLFxuICAgIF0pO1xuICAgIGNvbnN0IGVuZEFkb3JubWVudCA9ICFpc0F1dG9jb21wbGV0ZUZpbHRlciAmJiAhaXNEYXRlRmlsdGVyICYmICFmaWx0ZXJDaGlwTGFiZWwgPyAoanN4KElucHV0QWRvcm5tZW50LCB7IHBvc2l0aW9uOiBcImVuZFwiLCBzeDogeyBtcjogaXNTZWxlY3RGaWx0ZXIgfHwgaXNNdWx0aVNlbGVjdEZpbHRlciA/ICcyMHB4JyA6IHVuZGVmaW5lZCB9LCBjaGlsZHJlbjoganN4KFRvb2x0aXAsIHsgcGxhY2VtZW50OiBcInJpZ2h0XCIsIHRpdGxlOiAoX2ogPSBsb2NhbGl6YXRpb24uY2xlYXJGaWx0ZXIpICE9PSBudWxsICYmIF9qICE9PSB2b2lkIDAgPyBfaiA6ICcnLCBjaGlsZHJlbjoganN4KFwic3BhblwiLCB7IGNoaWxkcmVuOiBqc3goSWNvbkJ1dHRvbiwgeyBcImFyaWEtbGFiZWxcIjogbG9jYWxpemF0aW9uLmNsZWFyRmlsdGVyLCBkaXNhYmxlZDogISgoX2sgPSBmaWx0ZXJWYWx1ZSA9PT0gbnVsbCB8fCBmaWx0ZXJWYWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZmlsdGVyVmFsdWUudG9TdHJpbmcoKSkgPT09IG51bGwgfHwgX2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9rLmxlbmd0aCksIG9uQ2xpY2s6IGhhbmRsZUNsZWFyLCBzaXplOiBcInNtYWxsXCIsIHN4OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcycmVtJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3NjYWxlKDAuOSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcycmVtJyxcbiAgICAgICAgICAgICAgICAgICAgfSwgY2hpbGRyZW46IGpzeChDbG9zZUljb24sIHt9KSB9KSB9KSB9KSB9KSkgOiBudWxsO1xuICAgIGNvbnN0IHN0YXJ0QWRvcm5tZW50ID0gc2hvd0NoYW5nZU1vZGVCdXR0b24gPyAoanN4cyhJbnB1dEFkb3JubWVudCwgeyBwb3NpdGlvbjogXCJzdGFydFwiLCBjaGlsZHJlbjogW2pzeChUb29sdGlwLCB7IHRpdGxlOiBsb2NhbGl6YXRpb24uY2hhbmdlRmlsdGVyTW9kZSwgY2hpbGRyZW46IGpzeChcInNwYW5cIiwgeyBjaGlsZHJlbjoganN4KEljb25CdXR0b24sIHsgXCJhcmlhLWxhYmVsXCI6IGxvY2FsaXphdGlvbi5jaGFuZ2VGaWx0ZXJNb2RlLCBvbkNsaWNrOiBoYW5kbGVGaWx0ZXJNZW51T3Blbiwgc2l6ZTogXCJzbWFsbFwiLCBzeDogeyBoZWlnaHQ6ICcxLjc1cmVtJywgd2lkdGg6ICcxLjc1cmVtJyB9LCBjaGlsZHJlbjoganN4KEZpbHRlckxpc3RJY29uLCB7fSkgfSkgfSkgfSksIGZpbHRlckNoaXBMYWJlbCAmJiAoanN4KENoaXAsIHsgbGFiZWw6IGZpbHRlckNoaXBMYWJlbCwgb25EZWxldGU6IGhhbmRsZUNsZWFyRW1wdHlGaWx0ZXJDaGlwIH0pKV0gfSkpIDogbnVsbDtcbiAgICBjb25zdCBjb21tb25UZXh0RmllbGRQcm9wcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IEZvcm1IZWxwZXJUZXh0UHJvcHM6IHtcbiAgICAgICAgICAgIHN4OiB7XG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcwLjc1cmVtJyxcbiAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiAnMC44cmVtJyxcbiAgICAgICAgICAgICAgICB3aGl0ZVNwYWNlOiAnbm93cmFwJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sIElucHV0UHJvcHM6IGVuZEFkb3JubWVudCAvL2hhY2sgYmVjYXVzZSBtdWkgbG9va3MgZm9yIHByZXNlbnNlIG9mIGVuZEFkb3JubWVudCBrZXkgaW5zdGVhZCBvZiB1bmRlZmluZWRcbiAgICAgICAgICAgID8geyBlbmRBZG9ybm1lbnQsIHN0YXJ0QWRvcm5tZW50IH1cbiAgICAgICAgICAgIDogeyBzdGFydEFkb3JubWVudCB9LCBmdWxsV2lkdGg6IHRydWUsIGhlbHBlclRleHQ6IHNob3dDaGFuZ2VNb2RlQnV0dG9uID8gKGpzeChcImxhYmVsXCIsIHsgY2hpbGRyZW46IGxvY2FsaXphdGlvbi5maWx0ZXJNb2RlLnJlcGxhY2UoJ3tmaWx0ZXJUeXBlfScsIFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgbG9jYWxpemF0aW9uW2BmaWx0ZXIkeygoX2wgPSBjdXJyZW50RmlsdGVyT3B0aW9uID09PSBudWxsIHx8IGN1cnJlbnRGaWx0ZXJPcHRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnRGaWx0ZXJPcHRpb24uY2hhckF0KDApKSA9PT0gbnVsbCB8fCBfbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2wudG9VcHBlckNhc2UoKSkgK1xuICAgICAgICAgICAgICAgIChjdXJyZW50RmlsdGVyT3B0aW9uID09PSBudWxsIHx8IGN1cnJlbnRGaWx0ZXJPcHRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnRGaWx0ZXJPcHRpb24uc2xpY2UoMSkpfWBdKSB9KSkgOiBudWxsLCBpbnB1dFByb3BzOiB7XG4gICAgICAgICAgICAnYXJpYS1sYWJlbCc6IGZpbHRlclBsYWNlaG9sZGVyLFxuICAgICAgICAgICAgYXV0b0NvbXBsZXRlOiAnbmV3LXBhc3N3b3JkJyxcbiAgICAgICAgICAgIGRpc2FibGVkOiAhIWZpbHRlckNoaXBMYWJlbCxcbiAgICAgICAgICAgIHN4OiB7XG4gICAgICAgICAgICAgICAgdGV4dE92ZXJmbG93OiAnZWxsaXBzaXMnLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBmaWx0ZXJDaGlwTGFiZWwgPyAwIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRpdGxlOiBmaWx0ZXJQbGFjZWhvbGRlcixcbiAgICAgICAgfSwgaW5wdXRSZWY6IChpbnB1dFJlZikgPT4ge1xuICAgICAgICAgICAgZmlsdGVySW5wdXRSZWZzLmN1cnJlbnRbYCR7Y29sdW1uLmlkfS0ke3JhbmdlRmlsdGVySW5kZXggIT09IG51bGwgJiYgcmFuZ2VGaWx0ZXJJbmRleCAhPT0gdm9pZCAwID8gcmFuZ2VGaWx0ZXJJbmRleCA6IDB9YF0gPVxuICAgICAgICAgICAgICAgIGlucHV0UmVmO1xuICAgICAgICAgICAgaWYgKHRleHRGaWVsZFByb3BzLmlucHV0UmVmKSB7XG4gICAgICAgICAgICAgICAgdGV4dEZpZWxkUHJvcHMuaW5wdXRSZWYgPSBpbnB1dFJlZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgbWFyZ2luOiAnbm9uZScsIG9uQ2xpY2s6IChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpLCBwbGFjZWhvbGRlcjogZmlsdGVyQ2hpcExhYmVsIHx8IGlzU2VsZWN0RmlsdGVyIHx8IGlzTXVsdGlTZWxlY3RGaWx0ZXJcbiAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICA6IGZpbHRlclBsYWNlaG9sZGVyLCB2YXJpYW50OiAnc3RhbmRhcmQnIH0sIHRleHRGaWVsZFByb3BzKSwgeyBzeDogKHRoZW1lKSA9PiAoT2JqZWN0LmFzc2lnbih7IG1pbldpZHRoOiBpc0RhdGVGaWx0ZXJcbiAgICAgICAgICAgICAgICA/ICcxNjBweCdcbiAgICAgICAgICAgICAgICA6IGVuYWJsZUNvbHVtbkZpbHRlck1vZGVzICYmIHJhbmdlRmlsdGVySW5kZXggPT09IDBcbiAgICAgICAgICAgICAgICAgICAgPyAnMTEwcHgnXG4gICAgICAgICAgICAgICAgICAgIDogaXNSYW5nZUZpbHRlclxuICAgICAgICAgICAgICAgICAgICAgICAgPyAnMTAwcHgnXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICFmaWx0ZXJDaGlwTGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICcxMjBweCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdhdXRvJywgbXg6ICctMnB4JywgcDogMCwgd2lkdGg6ICdjYWxjKDEwMCUgKyA0cHgpJyB9LCBwYXJzZUZyb21WYWx1ZXNPckZ1bmModGV4dEZpZWxkUHJvcHMgPT09IG51bGwgfHwgdGV4dEZpZWxkUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRleHRGaWVsZFByb3BzLnN4LCB0aGVtZSkpKSB9KTtcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtpc0RhdGVGaWx0ZXIgPyAoanN4KERhdGVQaWNrZXIsIE9iamVjdC5hc3NpZ24oeyBvbkNoYW5nZTogKG5ld0RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ2hhbmdlKG5ld0RhdGUpO1xuICAgICAgICAgICAgICAgIH0sIHZhbHVlOiBmaWx0ZXJWYWx1ZSB8fCBudWxsIH0sIGRhdGVQaWNrZXJQcm9wcywgeyBzbG90UHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGQ6IE9iamVjdC5hc3NpZ24oeyBjbGVhcmFibGU6IHRydWUsIG9uQ2xlYXI6ICgpID0+IGhhbmRsZUNsZWFyKCkgfSwgKF9tID0gZGF0ZVBpY2tlclByb3BzID09PSBudWxsIHx8IGRhdGVQaWNrZXJQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0ZVBpY2tlclByb3BzLnNsb3RQcm9wcykgPT09IG51bGwgfHwgX20gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tLmZpZWxkKSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dEZpZWxkOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNvbW1vblRleHRGaWVsZFByb3BzKSwgKF9vID0gZGF0ZVBpY2tlclByb3BzID09PSBudWxsIHx8IGRhdGVQaWNrZXJQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0ZVBpY2tlclByb3BzLnNsb3RQcm9wcykgPT09IG51bGwgfHwgX28gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vLnRleHRGaWVsZCksXG4gICAgICAgICAgICAgICAgfSB9KSkpIDogaXNBdXRvY29tcGxldGVGaWx0ZXIgPyAoanN4KEF1dG9jb21wbGV0ZSwgT2JqZWN0LmFzc2lnbih7IGZyZWVTb2xvOiB0cnVlLCBnZXRPcHRpb25MYWJlbDogKG9wdGlvbikgPT4gZ2V0VmFsdWVBbmRMYWJlbChvcHRpb24pLmxhYmVsLCBvbkNoYW5nZTogKF9lLCBuZXdWYWx1ZSkgPT4gaGFuZGxlQ2hhbmdlKGdldFZhbHVlQW5kTGFiZWwobmV3VmFsdWUpLnZhbHVlKSwgb3B0aW9uczogKF9wID0gZHJvcGRvd25PcHRpb25zID09PSBudWxsIHx8IGRyb3Bkb3duT3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZHJvcGRvd25PcHRpb25zLm1hcCgob3B0aW9uKSA9PiBnZXRWYWx1ZUFuZExhYmVsKG9wdGlvbikpKSAhPT0gbnVsbCAmJiBfcCAhPT0gdm9pZCAwID8gX3AgOiBbXSB9LCBhdXRvY29tcGxldGVQcm9wcywgeyByZW5kZXJJbnB1dDogKGJ1aWx0aW5UZXh0RmllbGRQcm9wcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoanN4KFRleHRGaWVsZCwgT2JqZWN0LmFzc2lnbih7fSwgYnVpbHRpblRleHRGaWVsZFByb3BzLCBjb21tb25UZXh0RmllbGRQcm9wcywgeyBJbnB1dFByb3BzOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGJ1aWx0aW5UZXh0RmllbGRQcm9wcy5JbnB1dFByb3BzKSwgeyBzdGFydEFkb3JubWVudDogKF9hID0gY29tbW9uVGV4dEZpZWxkUHJvcHMgPT09IG51bGwgfHwgY29tbW9uVGV4dEZpZWxkUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbW1vblRleHRGaWVsZFByb3BzLklucHV0UHJvcHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdGFydEFkb3JubWVudCB9KSwgaW5wdXRQcm9wczogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBidWlsdGluVGV4dEZpZWxkUHJvcHMuaW5wdXRQcm9wcyksIGNvbW1vblRleHRGaWVsZFByb3BzID09PSBudWxsIHx8IGNvbW1vblRleHRGaWVsZFByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb21tb25UZXh0RmllbGRQcm9wcy5pbnB1dFByb3BzKSwgb25DaGFuZ2U6IGhhbmRsZVRleHRGaWVsZENoYW5nZSB9KSkpO1xuICAgICAgICAgICAgICAgIH0sIHZhbHVlOiBmaWx0ZXJWYWx1ZSB9KSkpIDogKGpzeChUZXh0RmllbGQsIE9iamVjdC5hc3NpZ24oeyBTZWxlY3RQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5RW1wdHk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG11bHRpcGxlOiBpc011bHRpU2VsZWN0RmlsdGVyLFxuICAgICAgICAgICAgICAgICAgICByZW5kZXJWYWx1ZTogaXNNdWx0aVNlbGVjdEZpbHRlclxuICAgICAgICAgICAgICAgICAgICAgICAgPyAoc2VsZWN0ZWQpID0+ICEoc2VsZWN0ZWQgPT09IG51bGwgfHwgc2VsZWN0ZWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGVkLmxlbmd0aCkgPyAoanN4KEJveCwgeyBzeDogeyBvcGFjaXR5OiAwLjUgfSwgY2hpbGRyZW46IGZpbHRlclBsYWNlaG9sZGVyIH0pKSA6IChqc3goQm94LCB7IHN4OiB7IGRpc3BsYXk6ICdmbGV4JywgZmxleFdyYXA6ICd3cmFwJywgZ2FwOiAnMnB4JyB9LCBjaGlsZHJlbjogc2VsZWN0ZWQgPT09IG51bGwgfHwgc2VsZWN0ZWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGVkLm1hcCgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRWYWx1ZSA9IGRyb3Bkb3duT3B0aW9ucyA9PT0gbnVsbCB8fCBkcm9wZG93bk9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRyb3Bkb3duT3B0aW9ucy5maW5kKChvcHRpb24pID0+IGdldFZhbHVlQW5kTGFiZWwob3B0aW9uKS52YWx1ZSA9PT0gdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGpzeChDaGlwLCB7IGxhYmVsOiBnZXRWYWx1ZUFuZExhYmVsKHNlbGVjdGVkVmFsdWUpLmxhYmVsIH0sIHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgfSkpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB9LCBvbkNoYW5nZTogaGFuZGxlVGV4dEZpZWxkQ2hhbmdlLCBzZWxlY3Q6IGlzU2VsZWN0RmlsdGVyIHx8IGlzTXVsdGlTZWxlY3RGaWx0ZXIgfSwgY29tbW9uVGV4dEZpZWxkUHJvcHMsIHsgdmFsdWU6IGZpbHRlclZhbHVlICE9PSBudWxsICYmIGZpbHRlclZhbHVlICE9PSB2b2lkIDAgPyBmaWx0ZXJWYWx1ZSA6ICcnLCBjaGlsZHJlbjogKGlzU2VsZWN0RmlsdGVyIHx8IGlzTXVsdGlTZWxlY3RGaWx0ZXIpICYmIFtcbiAgICAgICAgICAgICAgICAgICAganN4KE1lbnVJdGVtLCB7IGRpc2FibGVkOiB0cnVlLCBkaXZpZGVyOiB0cnVlLCBoaWRkZW46IHRydWUsIHZhbHVlOiBcIlwiLCBjaGlsZHJlbjoganN4KEJveCwgeyBzeDogeyBvcGFjaXR5OiAwLjUgfSwgY2hpbGRyZW46IGZpbHRlclBsYWNlaG9sZGVyIH0pIH0sIFwicFwiKSxcbiAgICAgICAgICAgICAgICAgICAgLi4uW1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9xID0gdGV4dEZpZWxkUHJvcHMuY2hpbGRyZW4pICE9PSBudWxsICYmIF9xICE9PSB2b2lkIDAgPyBfcSA6IGRyb3Bkb3duT3B0aW9ucyA9PT0gbnVsbCB8fCBkcm9wZG93bk9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRyb3Bkb3duT3B0aW9ucy5tYXAoKG9wdGlvbiwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBsYWJlbCwgdmFsdWUgfSA9IGdldFZhbHVlQW5kTGFiZWwob3B0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGpzeHMoTWVudUl0ZW0sIHsgc3g6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiAnMC41cmVtJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG06IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHZhbHVlOiB2YWx1ZSwgY2hpbGRyZW46IFtpc011bHRpU2VsZWN0RmlsdGVyICYmIChqc3goQ2hlY2tib3gsIHsgY2hlY2tlZDogKChfYSA9IGNvbHVtbi5nZXRGaWx0ZXJWYWx1ZSgpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSkuaW5jbHVkZXModmFsdWUpLCBzeDogeyBtcjogJzAuNXJlbScgfSB9KSksIGxhYmVsLCAnICcsICFjb2x1bW5EZWYuZmlsdGVyU2VsZWN0T3B0aW9ucyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAoJHtmYWNldGVkVW5pcXVlVmFsdWVzLmdldCh2YWx1ZSl9KWBdIH0sIGAke2luZGV4fS0ke3ZhbHVlfWApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIF0gfSkpKSwganN4KE1SVF9GaWx0ZXJPcHRpb25NZW51LCB7IGFuY2hvckVsOiBhbmNob3JFbCwgaGVhZGVyOiBoZWFkZXIsIHNldEFuY2hvckVsOiBzZXRBbmNob3JFbCwgc2V0RmlsdGVyVmFsdWU6IHNldEZpbHRlclZhbHVlLCB0YWJsZTogdGFibGUgfSldIH0pKTtcbn07XG5cbmNvbnN0IE1SVF9GaWx0ZXJSYW5nZUZpZWxkcyA9IChfYSkgPT4ge1xuICAgIHZhciB7IGhlYWRlciwgdGFibGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJoZWFkZXJcIiwgXCJ0YWJsZVwiXSk7XG4gICAgcmV0dXJuIChqc3hzKEJveCwgT2JqZWN0LmFzc2lnbih7fSwgcmVzdCwgeyBzeDogKHRoZW1lKSA9PiAoT2JqZWN0LmFzc2lnbih7IGRpc3BsYXk6ICdncmlkJywgZ2FwOiAnMXJlbScsIGdyaWRUZW1wbGF0ZUNvbHVtbnM6ICcxZnIgMWZyJyB9LCBwYXJzZUZyb21WYWx1ZXNPckZ1bmMocmVzdCA9PT0gbnVsbCB8fCByZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXN0LnN4LCB0aGVtZSkpKSwgY2hpbGRyZW46IFtqc3goTVJUX0ZpbHRlclRleHRGaWVsZCwgeyBoZWFkZXI6IGhlYWRlciwgcmFuZ2VGaWx0ZXJJbmRleDogMCwgdGFibGU6IHRhYmxlIH0pLCBqc3goTVJUX0ZpbHRlclRleHRGaWVsZCwgeyBoZWFkZXI6IGhlYWRlciwgcmFuZ2VGaWx0ZXJJbmRleDogMSwgdGFibGU6IHRhYmxlIH0pXSB9KSkpO1xufTtcblxuY29uc3QgTVJUX0ZpbHRlclJhbmdlU2xpZGVyID0gKF9hKSA9PiB7XG4gICAgdmFyIF9iLCBfYztcbiAgICB2YXIgeyBoZWFkZXIsIHRhYmxlIH0gPSBfYSwgcmVzdCA9IF9fcmVzdChfYSwgW1wiaGVhZGVyXCIsIFwidGFibGVcIl0pO1xuICAgIGNvbnN0IHsgb3B0aW9uczogeyBlbmFibGVDb2x1bW5GaWx0ZXJNb2RlcywgbG9jYWxpemF0aW9uLCBtdWlGaWx0ZXJTbGlkZXJQcm9wcyB9LCByZWZzOiB7IGZpbHRlcklucHV0UmVmcyB9LCB9ID0gdGFibGU7XG4gICAgY29uc3QgeyBjb2x1bW4gfSA9IGhlYWRlcjtcbiAgICBjb25zdCB7IGNvbHVtbkRlZiB9ID0gY29sdW1uO1xuICAgIGNvbnN0IGN1cnJlbnRGaWx0ZXJPcHRpb24gPSBjb2x1bW5EZWYuX2ZpbHRlckZuO1xuICAgIGNvbnN0IHNob3dDaGFuZ2VNb2RlQnV0dG9uID0gZW5hYmxlQ29sdW1uRmlsdGVyTW9kZXMgJiYgY29sdW1uRGVmLmVuYWJsZUNvbHVtbkZpbHRlck1vZGVzICE9PSBmYWxzZTtcbiAgICBjb25zdCBzbGlkZXJQcm9wcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwYXJzZUZyb21WYWx1ZXNPckZ1bmMobXVpRmlsdGVyU2xpZGVyUHJvcHMsIHsgY29sdW1uLCB0YWJsZSB9KSksIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhjb2x1bW5EZWYubXVpRmlsdGVyU2xpZGVyUHJvcHMsIHsgY29sdW1uLCB0YWJsZSB9KSksIHJlc3QpO1xuICAgIGxldCBbbWluLCBtYXhdID0gc2xpZGVyUHJvcHMubWluICE9PSB1bmRlZmluZWQgJiYgc2xpZGVyUHJvcHMubWF4ICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBbc2xpZGVyUHJvcHMubWluLCBzbGlkZXJQcm9wcy5tYXhdXG4gICAgICAgIDogKF9iID0gY29sdW1uLmdldEZhY2V0ZWRNaW5NYXhWYWx1ZXMoKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogWzAsIDFdO1xuICAgIC8vZml4IHBvdGVudGlhbCBUYW5TdGFjayBUYWJsZSBidWdzIHdoZXJlIG1pbiBvciBtYXggaXMgYW4gYXJyYXlcbiAgICBpZiAoQXJyYXkuaXNBcnJheShtaW4pKVxuICAgICAgICBtaW4gPSBtaW5bMF07XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobWF4KSlcbiAgICAgICAgbWF4ID0gbWF4WzBdO1xuICAgIGlmIChtaW4gPT09IG51bGwpXG4gICAgICAgIG1pbiA9IDA7XG4gICAgaWYgKG1heCA9PT0gbnVsbClcbiAgICAgICAgbWF4ID0gMTtcbiAgICBjb25zdCBbZmlsdGVyVmFsdWVzLCBzZXRGaWx0ZXJWYWx1ZXNdID0gdXNlU3RhdGUoW21pbiwgbWF4XSk7XG4gICAgY29uc3QgY29sdW1uRmlsdGVyVmFsdWUgPSBjb2x1bW4uZ2V0RmlsdGVyVmFsdWUoKTtcbiAgICBjb25zdCBpc01vdW50ZWQgPSB1c2VSZWYoZmFsc2UpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpc01vdW50ZWQuY3VycmVudCkge1xuICAgICAgICAgICAgaWYgKGNvbHVtbkZpbHRlclZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzZXRGaWx0ZXJWYWx1ZXMoW21pbiwgbWF4XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNvbHVtbkZpbHRlclZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHNldEZpbHRlclZhbHVlcyhjb2x1bW5GaWx0ZXJWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaXNNb3VudGVkLmN1cnJlbnQgPSB0cnVlO1xuICAgIH0sIFtjb2x1bW5GaWx0ZXJWYWx1ZSwgbWluLCBtYXhdKTtcbiAgICByZXR1cm4gKGpzeHMoU3RhY2ssIHsgY2hpbGRyZW46IFtqc3goU2xpZGVyLCBPYmplY3QuYXNzaWduKHsgZGlzYWJsZVN3YXA6IHRydWUsIG1heDogbWF4LCBtaW46IG1pbiwgb25DaGFuZ2U6IChfZXZlbnQsIHZhbHVlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRGaWx0ZXJWYWx1ZXModmFsdWVzKTtcbiAgICAgICAgICAgICAgICB9LCBvbkNoYW5nZUNvbW1pdHRlZDogKF9ldmVudCwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVbMF0gPD0gbWluICYmIHZhbHVlWzFdID49IG1heCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgdGhlIHVzZXIgaGFzIHNlbGVjdGVkIHRoZSBlbnRpcmUgcmFuZ2UsIHJlbW92ZSB0aGUgZmlsdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uLnNldEZpbHRlclZhbHVlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4uc2V0RmlsdGVyVmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgdmFsdWU6IGZpbHRlclZhbHVlcywgdmFsdWVMYWJlbERpc3BsYXk6IFwiYXV0b1wiIH0sIHNsaWRlclByb3BzLCB7IHNsb3RQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmOiAobm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVySW5wdXRSZWZzLmN1cnJlbnRbYCR7Y29sdW1uLmlkfS0wYF0gPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoX2IgPSAoX2EgPSBzbGlkZXJQcm9wcyA9PT0gbnVsbCB8fCBzbGlkZXJQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2xpZGVyUHJvcHMuc2xvdFByb3BzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaW5wdXQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5yZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVyUHJvcHMuc2xvdFByb3BzLmlucHV0LnJlZiA9IG5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sIHN4OiAodGhlbWUpID0+IChPYmplY3QuYXNzaWduKHsgbTogJ2F1dG8nLCBtdDogIXNob3dDaGFuZ2VNb2RlQnV0dG9uID8gJzEwcHgnIDogJzZweCcsIHB4OiAnNHB4Jywgd2lkdGg6ICdjYWxjKDEwMCUgLSA4cHgpJyB9LCBwYXJzZUZyb21WYWx1ZXNPckZ1bmMoc2xpZGVyUHJvcHMgPT09IG51bGwgfHwgc2xpZGVyUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNsaWRlclByb3BzLnN4LCB0aGVtZSkpKSB9KSksIHNob3dDaGFuZ2VNb2RlQnV0dG9uID8gKGpzeChGb3JtSGVscGVyVGV4dCwgeyBzeDoge1xuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzAuNzVyZW0nLFxuICAgICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiAnMC44cmVtJyxcbiAgICAgICAgICAgICAgICAgICAgbTogJy0zcHggLTZweCcsXG4gICAgICAgICAgICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxuICAgICAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBsb2NhbGl6YXRpb24uZmlsdGVyTW9kZS5yZXBsYWNlKCd7ZmlsdGVyVHlwZX0nLCBcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgbG9jYWxpemF0aW9uW2BmaWx0ZXIkeygoX2MgPSBjdXJyZW50RmlsdGVyT3B0aW9uID09PSBudWxsIHx8IGN1cnJlbnRGaWx0ZXJPcHRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnRGaWx0ZXJPcHRpb24uY2hhckF0KDApKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudG9VcHBlckNhc2UoKSkgK1xuICAgICAgICAgICAgICAgICAgICAoY3VycmVudEZpbHRlck9wdGlvbiA9PT0gbnVsbCB8fCBjdXJyZW50RmlsdGVyT3B0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJyZW50RmlsdGVyT3B0aW9uLnNsaWNlKDEpKX1gXSkgfSkpIDogbnVsbF0gfSkpO1xufTtcblxuY29uc3QgTVJUX1RhYmxlSGVhZENlbGxGaWx0ZXJDb250YWluZXIgPSAoX2EpID0+IHtcbiAgICB2YXIgX2I7XG4gICAgdmFyIHsgaGVhZGVyLCB0YWJsZSB9ID0gX2EsIHJlc3QgPSBfX3Jlc3QoX2EsIFtcImhlYWRlclwiLCBcInRhYmxlXCJdKTtcbiAgICBjb25zdCB7IGdldFN0YXRlLCBvcHRpb25zOiB7IGNvbHVtbkZpbHRlckRpc3BsYXlNb2RlIH0sIH0gPSB0YWJsZTtcbiAgICBjb25zdCB7IHNob3dDb2x1bW5GaWx0ZXJzIH0gPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHsgY29sdW1uIH0gPSBoZWFkZXI7XG4gICAgY29uc3QgeyBjb2x1bW5EZWYgfSA9IGNvbHVtbjtcbiAgICByZXR1cm4gKGpzeChDb2xsYXBzZSwgT2JqZWN0LmFzc2lnbih7IGluOiBzaG93Q29sdW1uRmlsdGVycyB8fCBjb2x1bW5GaWx0ZXJEaXNwbGF5TW9kZSA9PT0gJ3BvcG92ZXInLCBtb3VudE9uRW50ZXI6IHRydWUsIHVubW91bnRPbkV4aXQ6IHRydWUgfSwgcmVzdCwgeyBjaGlsZHJlbjogY29sdW1uRGVmLmZpbHRlclZhcmlhbnQgPT09ICdjaGVja2JveCcgPyAoanN4KE1SVF9GaWx0ZXJDaGVja2JveCwgeyBjb2x1bW46IGNvbHVtbiwgdGFibGU6IHRhYmxlIH0pKSA6IGNvbHVtbkRlZi5maWx0ZXJWYXJpYW50ID09PSAncmFuZ2Utc2xpZGVyJyA/IChqc3goTVJUX0ZpbHRlclJhbmdlU2xpZGVyLCB7IGhlYWRlcjogaGVhZGVyLCB0YWJsZTogdGFibGUgfSkpIDogKChfYiA9IGNvbHVtbkRlZi5maWx0ZXJWYXJpYW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaW5jbHVkZXMoJ3JhbmdlJykpIHx8XG4gICAgICAgICAgICBbJ2JldHdlZW4nLCAnYmV0d2VlbkluY2x1c2l2ZScsICdpbk51bWJlclJhbmdlJ10uaW5jbHVkZXMoY29sdW1uRGVmLl9maWx0ZXJGbikgPyAoanN4KE1SVF9GaWx0ZXJSYW5nZUZpZWxkcywgeyBoZWFkZXI6IGhlYWRlciwgdGFibGU6IHRhYmxlIH0pKSA6IChqc3goTVJUX0ZpbHRlclRleHRGaWVsZCwgeyBoZWFkZXI6IGhlYWRlciwgdGFibGU6IHRhYmxlIH0pKSB9KSkpO1xufTtcblxuY29uc3QgTVJUX1RhYmxlSGVhZENlbGxGaWx0ZXJMYWJlbCA9IChfYSkgPT4ge1xuICAgIHZhciBfYiwgX2MsIF9kO1xuICAgIHZhciB7IGhlYWRlciwgdGFibGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJoZWFkZXJcIiwgXCJ0YWJsZVwiXSk7XG4gICAgY29uc3QgeyBvcHRpb25zOiB7IGNvbHVtbkZpbHRlckRpc3BsYXlNb2RlLCBpY29uczogeyBGaWx0ZXJBbHRJY29uIH0sIGxvY2FsaXphdGlvbiwgfSwgcmVmczogeyBmaWx0ZXJJbnB1dFJlZnMgfSwgc2V0U2hvd0NvbHVtbkZpbHRlcnMsIH0gPSB0YWJsZTtcbiAgICBjb25zdCB7IGNvbHVtbiB9ID0gaGVhZGVyO1xuICAgIGNvbnN0IHsgY29sdW1uRGVmIH0gPSBjb2x1bW47XG4gICAgY29uc3QgZmlsdGVyVmFsdWUgPSBjb2x1bW4uZ2V0RmlsdGVyVmFsdWUoKTtcbiAgICBjb25zdCBbYW5jaG9yRWwsIHNldEFuY2hvckVsXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IGlzRmlsdGVyQWN0aXZlID0gKEFycmF5LmlzQXJyYXkoZmlsdGVyVmFsdWUpICYmIGZpbHRlclZhbHVlLnNvbWUoQm9vbGVhbikpIHx8XG4gICAgICAgICghIWZpbHRlclZhbHVlICYmICFBcnJheS5pc0FycmF5KGZpbHRlclZhbHVlKSk7XG4gICAgY29uc3QgaXNSYW5nZUZpbHRlciA9ICgoX2IgPSBjb2x1bW5EZWYuZmlsdGVyVmFyaWFudCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmluY2x1ZGVzKCdyYW5nZScpKSB8fFxuICAgICAgICBbJ2JldHdlZW4nLCAnYmV0d2VlbkluY2x1c2l2ZScsICdpbk51bWJlclJhbmdlJ10uaW5jbHVkZXMoY29sdW1uRGVmLl9maWx0ZXJGbik7XG4gICAgY29uc3QgY3VycmVudEZpbHRlck9wdGlvbiA9IGNvbHVtbkRlZi5fZmlsdGVyRm47XG4gICAgY29uc3QgZmlsdGVyVG9vbHRpcCA9IGNvbHVtbkZpbHRlckRpc3BsYXlNb2RlID09PSAncG9wb3ZlcicgJiYgIWlzRmlsdGVyQWN0aXZlXG4gICAgICAgID8gKF9jID0gbG9jYWxpemF0aW9uLmZpbHRlckJ5Q29sdW1uKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MucmVwbGFjZSgne2NvbHVtbn0nLCBTdHJpbmcoY29sdW1uRGVmLmhlYWRlcikpXG4gICAgICAgIDogbG9jYWxpemF0aW9uLmZpbHRlcmluZ0J5Q29sdW1uXG4gICAgICAgICAgICAucmVwbGFjZSgne2NvbHVtbn0nLCBTdHJpbmcoY29sdW1uRGVmLmhlYWRlcikpXG4gICAgICAgICAgICAucmVwbGFjZSgne2ZpbHRlclR5cGV9JywgY3VycmVudEZpbHRlck9wdGlvblxuICAgICAgICAgICAgPyAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgbG9jYWxpemF0aW9uW2BmaWx0ZXIkeygoX2QgPSBjdXJyZW50RmlsdGVyT3B0aW9uID09PSBudWxsIHx8IGN1cnJlbnRGaWx0ZXJPcHRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnRGaWx0ZXJPcHRpb24uY2hhckF0KDApKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QudG9VcHBlckNhc2UoKSkgK1xuICAgICAgICAgICAgICAgICAgICAoY3VycmVudEZpbHRlck9wdGlvbiA9PT0gbnVsbCB8fCBjdXJyZW50RmlsdGVyT3B0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJyZW50RmlsdGVyT3B0aW9uLnNsaWNlKDEpKX1gXVxuICAgICAgICAgICAgOiAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKCd7ZmlsdGVyVmFsdWV9JywgYFwiJHtBcnJheS5pc0FycmF5KGZpbHRlclZhbHVlKVxuICAgICAgICAgICAgPyBmaWx0ZXJWYWx1ZS5qb2luKGBcIiAke2lzUmFuZ2VGaWx0ZXIgPyBsb2NhbGl6YXRpb24uYW5kIDogbG9jYWxpemF0aW9uLm9yfSBcImApXG4gICAgICAgICAgICA6IGZpbHRlclZhbHVlfVwiYClcbiAgICAgICAgICAgIC5yZXBsYWNlKCdcIiBcIicsICcnKTtcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtqc3goR3JvdywgeyBpbjogY29sdW1uRmlsdGVyRGlzcGxheU1vZGUgPT09ICdwb3BvdmVyJyB8fFxuICAgICAgICAgICAgICAgICAgICAoISFmaWx0ZXJWYWx1ZSAmJiAhaXNSYW5nZUZpbHRlcikgfHxcbiAgICAgICAgICAgICAgICAgICAgKGlzUmFuZ2VGaWx0ZXIgJiYgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICAgICAgKCEhKGZpbHRlclZhbHVlID09PSBudWxsIHx8IGZpbHRlclZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmaWx0ZXJWYWx1ZVswXSkgfHwgISEoZmlsdGVyVmFsdWUgPT09IG51bGwgfHwgZmlsdGVyVmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZpbHRlclZhbHVlWzFdKSkpLCB1bm1vdW50T25FeGl0OiB0cnVlLCBjaGlsZHJlbjoganN4KEJveCwgeyBjb21wb25lbnQ6IFwic3BhblwiLCBzeDogeyBmbGV4OiAnMCAwJyB9LCBjaGlsZHJlbjoganN4KFRvb2x0aXAsIHsgcGxhY2VtZW50OiBcInRvcFwiLCB0aXRsZTogZmlsdGVyVG9vbHRpcCwgY2hpbGRyZW46IGpzeChJY29uQnV0dG9uLCBPYmplY3QuYXNzaWduKHsgZGlzYWJsZVJpcHBsZTogdHJ1ZSwgb25DbGljazogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2x1bW5GaWx0ZXJEaXNwbGF5TW9kZSA9PT0gJ3BvcG92ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBbmNob3JFbChldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dDb2x1bW5GaWx0ZXJzKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX2EgPSBmaWx0ZXJJbnB1dFJlZnMuY3VycmVudFtgJHtjb2x1bW4uaWR9LTBgXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX2IgPSBmaWx0ZXJJbnB1dFJlZnMuY3VycmVudFtgJHtjb2x1bW4uaWR9LTBgXSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNlbGVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgc2l6ZTogXCJzbWFsbFwiIH0sIHJlc3QsIHsgc3g6ICh0aGVtZSkgPT4gKE9iamVjdC5hc3NpZ24oeyBoZWlnaHQ6ICcxNnB4JywgbWw6ICc0cHgnLCBvcGFjaXR5OiBpc0ZpbHRlckFjdGl2ZSA/IDEgOiAwLjMsIHA6ICc4cHgnLCB0cmFuc2Zvcm06ICdzY2FsZSgwLjc1KScsIHRyYW5zaXRpb246ICdhbGwgMTUwbXMgZWFzZS1pbi1vdXQnLCB3aWR0aDogJzE2cHgnIH0sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhyZXN0ID09PSBudWxsIHx8IHJlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3Quc3gsIHRoZW1lKSkpLCBjaGlsZHJlbjoganN4KEZpbHRlckFsdEljb24sIHt9KSB9KSkgfSkgfSkgfSksIGpzeChQb3BvdmVyLCB7IGFuY2hvckVsOiBhbmNob3JFbCwgYW5jaG9yT3JpZ2luOiB7XG4gICAgICAgICAgICAgICAgICAgIGhvcml6b250YWw6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogJ3RvcCcsXG4gICAgICAgICAgICAgICAgfSwgb25DbGljazogKGV2ZW50KSA9PiBldmVudC5zdG9wUHJvcGFnYXRpb24oKSwgb25DbG9zZTogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0QW5jaG9yRWwobnVsbCk7XG4gICAgICAgICAgICAgICAgfSwgb25LZXlEb3duOiAoZXZlbnQpID0+IGV2ZW50LmtleSA9PT0gJ0VudGVyJyAmJiBzZXRBbmNob3JFbChudWxsKSwgb3BlbjogISFhbmNob3JFbCwgdHJhbnNmb3JtT3JpZ2luOiB7XG4gICAgICAgICAgICAgICAgICAgIGhvcml6b250YWw6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogJ2JvdHRvbScsXG4gICAgICAgICAgICAgICAgfSwgY2hpbGRyZW46IGpzeChCb3gsIHsgc3g6IHsgcDogJzFyZW0nIH0sIGNoaWxkcmVuOiBqc3goTVJUX1RhYmxlSGVhZENlbGxGaWx0ZXJDb250YWluZXIsIHsgaGVhZGVyOiBoZWFkZXIsIHRhYmxlOiB0YWJsZSB9KSB9KSB9KV0gfSkpO1xufTtcblxuY29uc3QgTVJUX1RhYmxlSGVhZENlbGxHcmFiSGFuZGxlID0gKF9hKSA9PiB7XG4gICAgdmFyIHsgY29sdW1uLCB0YWJsZSwgdGFibGVIZWFkQ2VsbFJlZiB9ID0gX2EsIHJlc3QgPSBfX3Jlc3QoX2EsIFtcImNvbHVtblwiLCBcInRhYmxlXCIsIFwidGFibGVIZWFkQ2VsbFJlZlwiXSk7XG4gICAgY29uc3QgeyBnZXRTdGF0ZSwgb3B0aW9uczogeyBlbmFibGVDb2x1bW5PcmRlcmluZywgbXVpQ29sdW1uRHJhZ0hhbmRsZVByb3BzIH0sIHNldENvbHVtbk9yZGVyLCBzZXREcmFnZ2luZ0NvbHVtbiwgc2V0SG92ZXJlZENvbHVtbiwgfSA9IHRhYmxlO1xuICAgIGNvbnN0IHsgY29sdW1uRGVmIH0gPSBjb2x1bW47XG4gICAgY29uc3QgeyBjb2x1bW5PcmRlciwgZHJhZ2dpbmdDb2x1bW4sIGhvdmVyZWRDb2x1bW4gfSA9IGdldFN0YXRlKCk7XG4gICAgY29uc3QgaWNvbkJ1dHRvblByb3BzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhtdWlDb2x1bW5EcmFnSGFuZGxlUHJvcHMsIHsgY29sdW1uLCB0YWJsZSB9KSksIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhjb2x1bW5EZWYubXVpQ29sdW1uRHJhZ0hhbmRsZVByb3BzLCB7XG4gICAgICAgIGNvbHVtbixcbiAgICAgICAgdGFibGUsXG4gICAgfSkpLCByZXN0KTtcbiAgICBjb25zdCBoYW5kbGVEcmFnU3RhcnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSBpY29uQnV0dG9uUHJvcHMgPT09IG51bGwgfHwgaWNvbkJ1dHRvblByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpY29uQnV0dG9uUHJvcHMub25EcmFnU3RhcnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGljb25CdXR0b25Qcm9wcywgZXZlbnQpO1xuICAgICAgICBzZXREcmFnZ2luZ0NvbHVtbihjb2x1bW4pO1xuICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlKHRhYmxlSGVhZENlbGxSZWYuY3VycmVudCwgMCwgMCk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVEcmFnRW5kID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gaWNvbkJ1dHRvblByb3BzID09PSBudWxsIHx8IGljb25CdXR0b25Qcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaWNvbkJ1dHRvblByb3BzLm9uRHJhZ0VuZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoaWNvbkJ1dHRvblByb3BzLCBldmVudCk7XG4gICAgICAgIGlmICgoaG92ZXJlZENvbHVtbiA9PT0gbnVsbCB8fCBob3ZlcmVkQ29sdW1uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBob3ZlcmVkQ29sdW1uLmlkKSA9PT0gJ2Ryb3Atem9uZScpIHtcbiAgICAgICAgICAgIGNvbHVtbi50b2dnbGVHcm91cGluZygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGVuYWJsZUNvbHVtbk9yZGVyaW5nICYmXG4gICAgICAgICAgICBob3ZlcmVkQ29sdW1uICYmXG4gICAgICAgICAgICAoaG92ZXJlZENvbHVtbiA9PT0gbnVsbCB8fCBob3ZlcmVkQ29sdW1uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBob3ZlcmVkQ29sdW1uLmlkKSAhPT0gKGRyYWdnaW5nQ29sdW1uID09PSBudWxsIHx8IGRyYWdnaW5nQ29sdW1uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkcmFnZ2luZ0NvbHVtbi5pZCkpIHtcbiAgICAgICAgICAgIHNldENvbHVtbk9yZGVyKHJlb3JkZXJDb2x1bW4oY29sdW1uLCBob3ZlcmVkQ29sdW1uLCBjb2x1bW5PcmRlcikpO1xuICAgICAgICB9XG4gICAgICAgIHNldERyYWdnaW5nQ29sdW1uKG51bGwpO1xuICAgICAgICBzZXRIb3ZlcmVkQ29sdW1uKG51bGwpO1xuICAgIH07XG4gICAgcmV0dXJuIChqc3goTVJUX0dyYWJIYW5kbGVCdXR0b24sIHsgaWNvbkJ1dHRvblByb3BzOiBpY29uQnV0dG9uUHJvcHMsIG9uRHJhZ0VuZDogaGFuZGxlRHJhZ0VuZCwgb25EcmFnU3RhcnQ6IGhhbmRsZURyYWdTdGFydCwgdGFibGU6IHRhYmxlIH0pKTtcbn07XG5cbmNvbnN0IE1SVF9UYWJsZUhlYWRDZWxsUmVzaXplSGFuZGxlID0gKF9hKSA9PiB7XG4gICAgdmFyIF9iO1xuICAgIHZhciB7IGhlYWRlciwgdGFibGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJoZWFkZXJcIiwgXCJ0YWJsZVwiXSk7XG4gICAgY29uc3QgeyBnZXRTdGF0ZSwgb3B0aW9uczogeyBjb2x1bW5SZXNpemVNb2RlIH0sIHNldENvbHVtblNpemluZ0luZm8sIH0gPSB0YWJsZTtcbiAgICBjb25zdCB7IGRlbnNpdHkgfSA9IGdldFN0YXRlKCk7XG4gICAgY29uc3QgeyBjb2x1bW4gfSA9IGhlYWRlcjtcbiAgICByZXR1cm4gKGpzeChCb3gsIHsgY2xhc3NOYW1lOiBcIk11aS1UYWJsZUhlYWRDZWxsLVJlc2l6ZUhhbmRsZS1XcmFwcGVyXCIsIG9uRG91YmxlQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgIHNldENvbHVtblNpemluZ0luZm8oKG9sZCkgPT4gKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb2xkKSwgeyBpc1Jlc2l6aW5nQ29sdW1uOiBmYWxzZSB9KSkpO1xuICAgICAgICAgICAgY29sdW1uLnJlc2V0U2l6ZSgpO1xuICAgICAgICB9LCBvbk1vdXNlRG93bjogaGVhZGVyLmdldFJlc2l6ZUhhbmRsZXIoKSwgb25Ub3VjaFN0YXJ0OiBoZWFkZXIuZ2V0UmVzaXplSGFuZGxlcigpLCBzdHlsZToge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiBjb2x1bW4uZ2V0SXNSZXNpemluZygpICYmIGNvbHVtblJlc2l6ZU1vZGUgPT09ICdvbkVuZCdcbiAgICAgICAgICAgICAgICA/IGB0cmFuc2xhdGVYKCR7KF9iID0gZ2V0U3RhdGUoKS5jb2x1bW5TaXppbmdJbmZvLmRlbHRhT2Zmc2V0KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAwfXB4KWBcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgfSwgc3g6ICh0aGVtZSkgPT4gKHtcbiAgICAgICAgICAgICcmOmFjdGl2ZSA+IGhyJzoge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5pbmZvLm1haW4sXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogaGVhZGVyLnN1YkhlYWRlcnMubGVuZ3RoIHx8IGNvbHVtblJlc2l6ZU1vZGUgPT09ICdvbkVuZCcgPyAxIDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjdXJzb3I6ICdjb2wtcmVzaXplJyxcbiAgICAgICAgICAgIG1yOiBkZW5zaXR5ID09PSAnY29tcGFjdCdcbiAgICAgICAgICAgICAgICA/ICctMTJweCdcbiAgICAgICAgICAgICAgICA6IGRlbnNpdHkgPT09ICdjb21mb3J0YWJsZSdcbiAgICAgICAgICAgICAgICAgICAgPyAnLTIwcHgnXG4gICAgICAgICAgICAgICAgICAgIDogJy0yOHB4JyxcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgcHg6ICc0cHgnLFxuICAgICAgICAgICAgcmlnaHQ6IGNvbHVtbi5jb2x1bW5EZWYuY29sdW1uRGVmVHlwZSA9PT0gJ2Rpc3BsYXknID8gJzRweCcgOiAnMCcsXG4gICAgICAgIH0pLCBjaGlsZHJlbjoganN4KERpdmlkZXIsIHsgY2xhc3NOYW1lOiBcIk11aS1UYWJsZUhlYWRDZWxsLVJlc2l6ZUhhbmRsZS1EaXZpZGVyXCIsIGZsZXhJdGVtOiB0cnVlLCBvcmllbnRhdGlvbjogXCJ2ZXJ0aWNhbFwiLCBzeDogKHRoZW1lKSA9PiAoT2JqZWN0LmFzc2lnbih7IGJvcmRlclJhZGl1czogJzJweCcsIGJvcmRlcldpZHRoOiAnMnB4JywgaGVpZ2h0OiAnMjRweCcsIHRvdWNoQWN0aW9uOiAnbm9uZScsIHRyYW5zaXRpb246IGNvbHVtbi5nZXRJc1Jlc2l6aW5nKClcbiAgICAgICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgOiAnYWxsIDE1MG1zIGVhc2UtaW4tb3V0JywgdXNlclNlbGVjdDogJ25vbmUnLCB6SW5kZXg6IDQgfSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKHJlc3QgPT09IG51bGwgfHwgcmVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzdC5zeCwgdGhlbWUpKSkgfSkgfSkpO1xufTtcblxuY29uc3QgTVJUX1RhYmxlSGVhZENlbGxTb3J0TGFiZWwgPSAoX2EpID0+IHtcbiAgICB2YXIgeyBoZWFkZXIsIHRhYmxlIH0gPSBfYSwgcmVzdCA9IF9fcmVzdChfYSwgW1wiaGVhZGVyXCIsIFwidGFibGVcIl0pO1xuICAgIGNvbnN0IHsgZ2V0U3RhdGUsIG9wdGlvbnM6IHsgaWNvbnM6IHsgQXJyb3dEb3dud2FyZEljb24sIFN5bmNBbHRJY29uIH0sIGxvY2FsaXphdGlvbiwgfSwgfSA9IHRhYmxlO1xuICAgIGNvbnN0IHsgY29sdW1uIH0gPSBoZWFkZXI7XG4gICAgY29uc3QgeyBjb2x1bW5EZWYgfSA9IGNvbHVtbjtcbiAgICBjb25zdCB7IGlzTG9hZGluZywgc2hvd1NrZWxldG9ucywgc29ydGluZyB9ID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBpc1NvcnRlZCA9ICEhY29sdW1uLmdldElzU29ydGVkKCk7XG4gICAgY29uc3Qgc29ydFRvb2x0aXAgPSBpc0xvYWRpbmcgfHwgc2hvd1NrZWxldG9uc1xuICAgICAgICA/ICcnXG4gICAgICAgIDogY29sdW1uLmdldElzU29ydGVkKClcbiAgICAgICAgICAgID8gY29sdW1uLmdldElzU29ydGVkKCkgPT09ICdkZXNjJ1xuICAgICAgICAgICAgICAgID8gbG9jYWxpemF0aW9uLnNvcnRlZEJ5Q29sdW1uRGVzYy5yZXBsYWNlKCd7Y29sdW1ufScsIGNvbHVtbkRlZi5oZWFkZXIpXG4gICAgICAgICAgICAgICAgOiBsb2NhbGl6YXRpb24uc29ydGVkQnlDb2x1bW5Bc2MucmVwbGFjZSgne2NvbHVtbn0nLCBjb2x1bW5EZWYuaGVhZGVyKVxuICAgICAgICAgICAgOiBjb2x1bW4uZ2V0TmV4dFNvcnRpbmdPcmRlcigpID09PSAnZGVzYydcbiAgICAgICAgICAgICAgICA/IGxvY2FsaXphdGlvbi5zb3J0QnlDb2x1bW5EZXNjLnJlcGxhY2UoJ3tjb2x1bW59JywgY29sdW1uRGVmLmhlYWRlcilcbiAgICAgICAgICAgICAgICA6IGxvY2FsaXphdGlvbi5zb3J0QnlDb2x1bW5Bc2MucmVwbGFjZSgne2NvbHVtbn0nLCBjb2x1bW5EZWYuaGVhZGVyKTtcbiAgICByZXR1cm4gKGpzeChUb29sdGlwLCB7IHBsYWNlbWVudDogXCJ0b3BcIiwgdGl0bGU6IHNvcnRUb29sdGlwLCBjaGlsZHJlbjoganN4KEJhZGdlLCB7IGJhZGdlQ29udGVudDogc29ydGluZy5sZW5ndGggPiAxID8gY29sdW1uLmdldFNvcnRJbmRleCgpICsgMSA6IDAsIG92ZXJsYXA6IFwiY2lyY3VsYXJcIiwgY2hpbGRyZW46IGpzeChUYWJsZVNvcnRMYWJlbCwgT2JqZWN0LmFzc2lnbih7IEljb25Db21wb25lbnQ6ICFpc1NvcnRlZFxuICAgICAgICAgICAgICAgICAgICA/IChwcm9wcykgPT4gKGpzeChTeW5jQWx0SWNvbiwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHsgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICdyb3RhdGUoLTkwZGVnKSBzY2FsZVgoMC45KSB0cmFuc2xhdGVYKC0xcHgpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSkpKVxuICAgICAgICAgICAgICAgICAgICA6IEFycm93RG93bndhcmRJY29uLCBhY3RpdmU6IHRydWUsIFwiYXJpYS1sYWJlbFwiOiBzb3J0VG9vbHRpcCwgZGlyZWN0aW9uOiBpc1NvcnRlZCA/IGNvbHVtbi5nZXRJc1NvcnRlZCgpIDogdW5kZWZpbmVkLCBvbkNsaWNrOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IGhlYWRlci5jb2x1bW4uZ2V0VG9nZ2xlU29ydGluZ0hhbmRsZXIoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hKGUpO1xuICAgICAgICAgICAgICAgIH0gfSwgcmVzdCwgeyBzeDogKHRoZW1lKSA9PiAoT2JqZWN0LmFzc2lnbih7ICcuTXVpVGFibGVTb3J0TGFiZWwtaWNvbic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBgJHt0aGVtZS5wYWxldHRlLm1vZGUgPT09ICdkYXJrJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGhlbWUucGFsZXR0ZS50ZXh0LnByaW1hcnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoZW1lLnBhbGV0dGUudGV4dC5zZWNvbmRhcnl9ICFpbXBvcnRhbnRgLFxuICAgICAgICAgICAgICAgICAgICB9LCBmbGV4OiAnMCAwJywgb3BhY2l0eTogaXNTb3J0ZWQgPyAxIDogMC4zLCB0cmFuc2l0aW9uOiAnYWxsIDE1MG1zIGVhc2UtaW4tb3V0Jywgd2lkdGg6ICczY2gnIH0sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhyZXN0ID09PSBudWxsIHx8IHJlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3Quc3gsIHRoZW1lKSkpIH0pKSB9KSB9KSk7XG59O1xuXG5jb25zdCBNUlRfVGFibGVIZWFkQ2VsbCA9IChfYSkgPT4ge1xuICAgIHZhciBfYiwgX2MsIF9kLCBfZiwgX2csIF9oO1xuICAgIHZhciB7IGhlYWRlciwgdGFibGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJoZWFkZXJcIiwgXCJ0YWJsZVwiXSk7XG4gICAgY29uc3QgdGhlbWUgPSB1c2VUaGVtZSgpO1xuICAgIGNvbnN0IHsgZ2V0U3RhdGUsIG9wdGlvbnM6IHsgY29sdW1uRmlsdGVyRGlzcGxheU1vZGUsIGNvbHVtblJlc2l6ZU1vZGUsIGVuYWJsZUNvbHVtbkFjdGlvbnMsIGVuYWJsZUNvbHVtbkRyYWdnaW5nLCBlbmFibGVDb2x1bW5PcmRlcmluZywgZW5hYmxlR3JvdXBpbmcsIGVuYWJsZU11bHRpU29ydCwgbGF5b3V0TW9kZSwgbXVpVGFibGVIZWFkQ2VsbFByb3BzLCB9LCByZWZzOiB7IHRhYmxlSGVhZENlbGxSZWZzIH0sIHNldEhvdmVyZWRDb2x1bW4sIH0gPSB0YWJsZTtcbiAgICBjb25zdCB7IGNvbHVtblNpemluZ0luZm8sIGRlbnNpdHksIGRyYWdnaW5nQ29sdW1uLCBncm91cGluZywgaG92ZXJlZENvbHVtbiwgc2hvd0NvbHVtbkZpbHRlcnMsIH0gPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHsgY29sdW1uIH0gPSBoZWFkZXI7XG4gICAgY29uc3QgeyBjb2x1bW5EZWYgfSA9IGNvbHVtbjtcbiAgICBjb25zdCB7IGNvbHVtbkRlZlR5cGUgfSA9IGNvbHVtbkRlZjtcbiAgICBjb25zdCB0YWJsZUNlbGxQcm9wcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwYXJzZUZyb21WYWx1ZXNPckZ1bmMobXVpVGFibGVIZWFkQ2VsbFByb3BzLCB7IGNvbHVtbiwgdGFibGUgfSkpLCBwYXJzZUZyb21WYWx1ZXNPckZ1bmMoY29sdW1uRGVmLm11aVRhYmxlSGVhZENlbGxQcm9wcywge1xuICAgICAgICBjb2x1bW4sXG4gICAgICAgIHRhYmxlLFxuICAgIH0pKSwgcmVzdCk7XG4gICAgY29uc3QgeyBkcmFnZ2luZ0JvcmRlckNvbG9yIH0gPSBnZXRNUlRUaGVtZSh0YWJsZSwgdGhlbWUpO1xuICAgIGNvbnN0IHNob3dDb2x1bW5BY3Rpb25zID0gKGVuYWJsZUNvbHVtbkFjdGlvbnMgfHwgY29sdW1uRGVmLmVuYWJsZUNvbHVtbkFjdGlvbnMpICYmXG4gICAgICAgIGNvbHVtbkRlZi5lbmFibGVDb2x1bW5BY3Rpb25zICE9PSBmYWxzZTtcbiAgICBjb25zdCBzaG93RHJhZ0hhbmRsZSA9IGVuYWJsZUNvbHVtbkRyYWdnaW5nICE9PSBmYWxzZSAmJlxuICAgICAgICBjb2x1bW5EZWYuZW5hYmxlQ29sdW1uRHJhZ2dpbmcgIT09IGZhbHNlICYmXG4gICAgICAgIChlbmFibGVDb2x1bW5EcmFnZ2luZyB8fFxuICAgICAgICAgICAgKGVuYWJsZUNvbHVtbk9yZGVyaW5nICYmIGNvbHVtbkRlZi5lbmFibGVDb2x1bW5PcmRlcmluZyAhPT0gZmFsc2UpIHx8XG4gICAgICAgICAgICAoZW5hYmxlR3JvdXBpbmcgJiZcbiAgICAgICAgICAgICAgICBjb2x1bW5EZWYuZW5hYmxlR3JvdXBpbmcgIT09IGZhbHNlICYmXG4gICAgICAgICAgICAgICAgIWdyb3VwaW5nLmluY2x1ZGVzKGNvbHVtbi5pZCkpKTtcbiAgICBjb25zdCBoZWFkZXJQTCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBsZXQgcGwgPSAwO1xuICAgICAgICBpZiAoY29sdW1uLmdldENhblNvcnQoKSlcbiAgICAgICAgICAgIHBsICs9IDE7XG4gICAgICAgIGlmIChzaG93Q29sdW1uQWN0aW9ucylcbiAgICAgICAgICAgIHBsICs9IDEuNzU7XG4gICAgICAgIGlmIChzaG93RHJhZ0hhbmRsZSlcbiAgICAgICAgICAgIHBsICs9IDEuNTtcbiAgICAgICAgcmV0dXJuIHBsO1xuICAgIH0sIFtzaG93Q29sdW1uQWN0aW9ucywgc2hvd0RyYWdIYW5kbGVdKTtcbiAgICBjb25zdCBkcmFnZ2luZ0JvcmRlcnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgY29uc3Qgc2hvd1Jlc2l6ZUJvcmRlciA9IGNvbHVtblNpemluZ0luZm8uaXNSZXNpemluZ0NvbHVtbiA9PT0gY29sdW1uLmlkICYmXG4gICAgICAgICAgICBjb2x1bW5SZXNpemVNb2RlID09PSAnb25DaGFuZ2UnICYmXG4gICAgICAgICAgICAhaGVhZGVyLnN1YkhlYWRlcnMubGVuZ3RoO1xuICAgICAgICBjb25zdCBib3JkZXJTdHlsZSA9IHNob3dSZXNpemVCb3JkZXJcbiAgICAgICAgICAgID8gYDJweCBzb2xpZCAke2RyYWdnaW5nQm9yZGVyQ29sb3J9ICFpbXBvcnRhbnRgXG4gICAgICAgICAgICA6IChkcmFnZ2luZ0NvbHVtbiA9PT0gbnVsbCB8fCBkcmFnZ2luZ0NvbHVtbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogZHJhZ2dpbmdDb2x1bW4uaWQpID09PSBjb2x1bW4uaWRcbiAgICAgICAgICAgICAgICA/IGAxcHggZGFzaGVkICR7dGhlbWUucGFsZXR0ZS5ncmV5WzUwMF19YFxuICAgICAgICAgICAgICAgIDogKGhvdmVyZWRDb2x1bW4gPT09IG51bGwgfHwgaG92ZXJlZENvbHVtbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogaG92ZXJlZENvbHVtbi5pZCkgPT09IGNvbHVtbi5pZFxuICAgICAgICAgICAgICAgICAgICA/IGAycHggZGFzaGVkICR7ZHJhZ2dpbmdCb3JkZXJDb2xvcn1gXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBpZiAoc2hvd1Jlc2l6ZUJvcmRlcikge1xuICAgICAgICAgICAgcmV0dXJuIHsgYm9yZGVyUmlnaHQ6IGJvcmRlclN0eWxlIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZHJhZ2dpbmdCb3JkZXJzID0gYm9yZGVyU3R5bGVcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIGJvcmRlckxlZnQ6IGJvcmRlclN0eWxlLFxuICAgICAgICAgICAgICAgIGJvcmRlclJpZ2h0OiBib3JkZXJTdHlsZSxcbiAgICAgICAgICAgICAgICBib3JkZXJUb3A6IGJvcmRlclN0eWxlLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBkcmFnZ2luZ0JvcmRlcnM7XG4gICAgfSwgW2RyYWdnaW5nQ29sdW1uLCBob3ZlcmVkQ29sdW1uLCBjb2x1bW5TaXppbmdJbmZvLmlzUmVzaXppbmdDb2x1bW5dKTtcbiAgICBjb25zdCBoYW5kbGVEcmFnRW50ZXIgPSAoX2UpID0+IHtcbiAgICAgICAgaWYgKGVuYWJsZUdyb3VwaW5nICYmIChob3ZlcmVkQ29sdW1uID09PSBudWxsIHx8IGhvdmVyZWRDb2x1bW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhvdmVyZWRDb2x1bW4uaWQpID09PSAnZHJvcC16b25lJykge1xuICAgICAgICAgICAgc2V0SG92ZXJlZENvbHVtbihudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5hYmxlQ29sdW1uT3JkZXJpbmcgJiYgZHJhZ2dpbmdDb2x1bW4gJiYgY29sdW1uRGVmVHlwZSAhPT0gJ2dyb3VwJykge1xuICAgICAgICAgICAgc2V0SG92ZXJlZENvbHVtbihjb2x1bW5EZWYuZW5hYmxlQ29sdW1uT3JkZXJpbmcgIT09IGZhbHNlID8gY29sdW1uIDogbnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGhlYWRlckVsZW1lbnQgPSAoX2IgPSBwYXJzZUZyb21WYWx1ZXNPckZ1bmMoY29sdW1uRGVmLkhlYWRlciwge1xuICAgICAgICBjb2x1bW4sXG4gICAgICAgIGhlYWRlcixcbiAgICAgICAgdGFibGUsXG4gICAgfSkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGNvbHVtbkRlZi5oZWFkZXI7XG4gICAgcmV0dXJuIChqc3hzKFRhYmxlQ2VsbCwgT2JqZWN0LmFzc2lnbih7IGFsaWduOiBjb2x1bW5EZWZUeXBlID09PSAnZ3JvdXAnID8gJ2NlbnRlcicgOiAnbGVmdCcsIGNvbFNwYW46IGhlYWRlci5jb2xTcGFuLCBvbkRyYWdFbnRlcjogaGFuZGxlRHJhZ0VudGVyLCByZWY6IChub2RlKSA9PiB7XG4gICAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgICAgIHRhYmxlSGVhZENlbGxSZWZzLmN1cnJlbnRbY29sdW1uLmlkXSA9IG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gfSwgdGFibGVDZWxsUHJvcHMsIHsgc3g6ICh0aGVtZSkgPT4gKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7ICcmIDpob3Zlcic6IHtcbiAgICAgICAgICAgICAgICAnLk11aUJ1dHRvbkJhc2Utcm9vdCc6IHtcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSwgZmxleERpcmVjdGlvbjogKGxheW91dE1vZGUgPT09IG51bGwgfHwgbGF5b3V0TW9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGF5b3V0TW9kZS5zdGFydHNXaXRoKCdncmlkJykpID8gJ2NvbHVtbicgOiB1bmRlZmluZWQsIGZvbnRXZWlnaHQ6ICdib2xkJywgb3ZlcmZsb3c6ICd2aXNpYmxlJywgcDogZGVuc2l0eSA9PT0gJ2NvbXBhY3QnXG4gICAgICAgICAgICAgICAgPyAnMC41cmVtJ1xuICAgICAgICAgICAgICAgIDogZGVuc2l0eSA9PT0gJ2NvbWZvcnRhYmxlJ1xuICAgICAgICAgICAgICAgICAgICA/IGNvbHVtbkRlZlR5cGUgPT09ICdkaXNwbGF5J1xuICAgICAgICAgICAgICAgICAgICAgICAgPyAnMC43NXJlbSdcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJzFyZW0nXG4gICAgICAgICAgICAgICAgICAgIDogY29sdW1uRGVmVHlwZSA9PT0gJ2Rpc3BsYXknXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICcxcmVtIDEuMjVyZW0nXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICcxLjVyZW0nLCBwYjogY29sdW1uRGVmVHlwZSA9PT0gJ2Rpc3BsYXknXG4gICAgICAgICAgICAgICAgPyAwXG4gICAgICAgICAgICAgICAgOiBzaG93Q29sdW1uRmlsdGVycyB8fCBkZW5zaXR5ID09PSAnY29tcGFjdCdcbiAgICAgICAgICAgICAgICAgICAgPyAnMC40cmVtJ1xuICAgICAgICAgICAgICAgICAgICA6ICcwLjZyZW0nLCBwdDogY29sdW1uRGVmVHlwZSA9PT0gJ2dyb3VwJyB8fCBkZW5zaXR5ID09PSAnY29tcGFjdCdcbiAgICAgICAgICAgICAgICA/ICcwLjI1cmVtJ1xuICAgICAgICAgICAgICAgIDogZGVuc2l0eSA9PT0gJ2NvbWZvcnRhYmxlJ1xuICAgICAgICAgICAgICAgICAgICA/ICcuNzVyZW0nXG4gICAgICAgICAgICAgICAgICAgIDogJzEuMjVyZW0nLCB1c2VyU2VsZWN0OiBlbmFibGVNdWx0aVNvcnQgJiYgY29sdW1uLmdldENhblNvcnQoKSA/ICdub25lJyA6IHVuZGVmaW5lZCwgdmVydGljYWxBbGlnbjogJ3RvcCcsIHpJbmRleDogY29sdW1uLmdldElzUmVzaXppbmcoKSB8fCAoZHJhZ2dpbmdDb2x1bW4gPT09IG51bGwgfHwgZHJhZ2dpbmdDb2x1bW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRyYWdnaW5nQ29sdW1uLmlkKSA9PT0gY29sdW1uLmlkXG4gICAgICAgICAgICAgICAgPyAzXG4gICAgICAgICAgICAgICAgOiBjb2x1bW4uZ2V0SXNQaW5uZWQoKSAmJiBjb2x1bW5EZWZUeXBlICE9PSAnZ3JvdXAnXG4gICAgICAgICAgICAgICAgICAgID8gMlxuICAgICAgICAgICAgICAgICAgICA6IDEgfSwgZ2V0Q29tbW9uTVJUQ2VsbFN0eWxlcyh7XG4gICAgICAgICAgICBjb2x1bW4sXG4gICAgICAgICAgICBoZWFkZXIsXG4gICAgICAgICAgICB0YWJsZSxcbiAgICAgICAgICAgIHRhYmxlQ2VsbFByb3BzLFxuICAgICAgICAgICAgdGhlbWUsXG4gICAgICAgIH0pKSwgZHJhZ2dpbmdCb3JkZXJzKSksIGNoaWxkcmVuOiBbaGVhZGVyLmlzUGxhY2Vob2xkZXJcbiAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICA6IChfYyA9IHRhYmxlQ2VsbFByb3BzLmNoaWxkcmVuKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAoanN4cyhCb3gsIHsgY2xhc3NOYW1lOiBcIk11aS1UYWJsZUhlYWRDZWxsLUNvbnRlbnRcIiwgc3g6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogKHRhYmxlQ2VsbFByb3BzID09PSBudWxsIHx8IHRhYmxlQ2VsbFByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YWJsZUNlbGxQcm9wcy5hbGlnbikgPT09ICdyaWdodCcgPyAncm93LXJldmVyc2UnIDogJ3JvdycsXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogY29sdW1uRGVmVHlwZSA9PT0gJ2dyb3VwJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0YWJsZUNlbGxQcm9wcyA9PT0gbnVsbCB8fCB0YWJsZUNlbGxQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGFibGVDZWxsUHJvcHMuYWxpZ24pID09PSAnY2VudGVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2NlbnRlcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGNvbHVtbi5nZXRDYW5SZXNpemUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdzcGFjZS1iZXR3ZWVuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdmbGV4LXN0YXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgfSwgY2hpbGRyZW46IFtqc3hzKEJveCwgeyBjbGFzc05hbWU6IFwiTXVpLVRhYmxlSGVhZENlbGwtQ29udGVudC1MYWJlbHNcIiwgb25DbGljazogY29sdW1uLmdldFRvZ2dsZVNvcnRpbmdIYW5kbGVyKCksIHN4OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IGNvbHVtbi5nZXRDYW5Tb3J0KCkgJiYgY29sdW1uRGVmVHlwZSAhPT0gJ2dyb3VwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAncG9pbnRlcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICh0YWJsZUNlbGxQcm9wcyA9PT0gbnVsbCB8fCB0YWJsZUNlbGxQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGFibGVDZWxsUHJvcHMuYWxpZ24pID09PSAncmlnaHQnID8gJ3Jvdy1yZXZlcnNlJyA6ICdyb3cnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogY29sdW1uRGVmVHlwZSA9PT0gJ2RhdGEnID8gJ2hpZGRlbicgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsOiAodGFibGVDZWxsUHJvcHMgPT09IG51bGwgfHwgdGFibGVDZWxsUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRhYmxlQ2VsbFByb3BzLmFsaWduKSA9PT0gJ2NlbnRlcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYCR7aGVhZGVyUEx9cmVtYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgY2hpbGRyZW46IFtqc3goQm94LCB7IGNsYXNzTmFtZTogXCJNdWktVGFibGVIZWFkQ2VsbC1Db250ZW50LVdyYXBwZXJcIiwgc3g6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dE92ZXJmbG93OiAnY2xpcCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogYCR7TWF0aC5taW4oKF9mID0gKF9kID0gY29sdW1uRGVmLmhlYWRlcikgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmxlbmd0aCkgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogMCwgNCl9Y2hgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiBjb2x1bW5EZWZUeXBlID09PSAnZGF0YScgPyAnaGlkZGVuJyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0T3ZlcmZsb3c6ICdlbGxpcHNpcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpdGVTcGFjZTogKChfaCA9IChfZyA9IGNvbHVtbkRlZi5oZWFkZXIpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5sZW5ndGgpICE9PSBudWxsICYmIF9oICE9PSB2b2lkIDAgPyBfaCA6IDApIDwgMjBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnbm93cmFwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdub3JtYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGl0bGU6IGNvbHVtbkRlZlR5cGUgPT09ICdkYXRhJyA/IGNvbHVtbkRlZi5oZWFkZXIgOiB1bmRlZmluZWQsIGNoaWxkcmVuOiBoZWFkZXJFbGVtZW50IH0pLCBjb2x1bW4uZ2V0Q2FuRmlsdGVyKCkgJiYgKGpzeChNUlRfVGFibGVIZWFkQ2VsbEZpbHRlckxhYmVsLCB7IGhlYWRlcjogaGVhZGVyLCB0YWJsZTogdGFibGUgfSkpLCBjb2x1bW4uZ2V0Q2FuU29ydCgpICYmIChqc3goTVJUX1RhYmxlSGVhZENlbGxTb3J0TGFiZWwsIHsgaGVhZGVyOiBoZWFkZXIsIHRhYmxlOiB0YWJsZSB9KSldIH0pLCBjb2x1bW5EZWZUeXBlICE9PSAnZ3JvdXAnICYmIChqc3hzKEJveCwgeyBjbGFzc05hbWU6IFwiTXVpLVRhYmxlSGVhZENlbGwtQ29udGVudC1BY3Rpb25zXCIsIHN4OiB7IHdoaXRlU3BhY2U6ICdub3dyYXAnIH0sIGNoaWxkcmVuOiBbc2hvd0RyYWdIYW5kbGUgJiYgKGpzeChNUlRfVGFibGVIZWFkQ2VsbEdyYWJIYW5kbGUsIHsgY29sdW1uOiBjb2x1bW4sIHRhYmxlOiB0YWJsZSwgdGFibGVIZWFkQ2VsbFJlZjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IHRhYmxlSGVhZENlbGxSZWZzLmN1cnJlbnRbY29sdW1uLmlkXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSkpLCBzaG93Q29sdW1uQWN0aW9ucyAmJiAoanN4KE1SVF9UYWJsZUhlYWRDZWxsQ29sdW1uQWN0aW9uc0J1dHRvbiwgeyBoZWFkZXI6IGhlYWRlciwgdGFibGU6IHRhYmxlIH0pKV0gfSkpLCBjb2x1bW4uZ2V0Q2FuUmVzaXplKCkgJiYgKGpzeChNUlRfVGFibGVIZWFkQ2VsbFJlc2l6ZUhhbmRsZSwgeyBoZWFkZXI6IGhlYWRlciwgdGFibGU6IHRhYmxlIH0pKV0gfSkpLCBjb2x1bW5GaWx0ZXJEaXNwbGF5TW9kZSA9PT0gJ3N1YmhlYWRlcicgJiYgY29sdW1uLmdldENhbkZpbHRlcigpICYmIChqc3goTVJUX1RhYmxlSGVhZENlbGxGaWx0ZXJDb250YWluZXIsIHsgaGVhZGVyOiBoZWFkZXIsIHRhYmxlOiB0YWJsZSB9KSldIH0pKSk7XG59O1xuXG5jb25zdCBNUlRfVGFibGVIZWFkUm93ID0gKF9hKSA9PiB7XG4gICAgdmFyIHsgaGVhZGVyR3JvdXAsIHRhYmxlLCB2aXJ0dWFsQ29sdW1ucywgdmlydHVhbFBhZGRpbmdMZWZ0LCB2aXJ0dWFsUGFkZGluZ1JpZ2h0IH0gPSBfYSwgcmVzdCA9IF9fcmVzdChfYSwgW1wiaGVhZGVyR3JvdXBcIiwgXCJ0YWJsZVwiLCBcInZpcnR1YWxDb2x1bW5zXCIsIFwidmlydHVhbFBhZGRpbmdMZWZ0XCIsIFwidmlydHVhbFBhZGRpbmdSaWdodFwiXSk7XG4gICAgY29uc3QgeyBvcHRpb25zOiB7IGxheW91dE1vZGUsIG11aVRhYmxlSGVhZFJvd1Byb3BzIH0sIH0gPSB0YWJsZTtcbiAgICBjb25zdCB0YWJsZVJvd1Byb3BzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwYXJzZUZyb21WYWx1ZXNPckZ1bmMobXVpVGFibGVIZWFkUm93UHJvcHMsIHtcbiAgICAgICAgaGVhZGVyR3JvdXAsXG4gICAgICAgIHRhYmxlLFxuICAgIH0pKSwgeyByZXN0IH0pO1xuICAgIHJldHVybiAoanN4cyhUYWJsZVJvdywgT2JqZWN0LmFzc2lnbih7fSwgdGFibGVSb3dQcm9wcywgeyBzeDogKHRoZW1lKSA9PiAoT2JqZWN0LmFzc2lnbih7IGJhY2tncm91bmRDb2xvcjogZ2V0TVJUVGhlbWUodGFibGUsIHRoZW1lKS5iYXNlQmFja2dyb3VuZENvbG9yLCBib3hTaGFkb3c6IGA0cHggMCA4cHggJHthbHBoYSQxKHRoZW1lLnBhbGV0dGUuY29tbW9uLmJsYWNrLCAwLjEpfWAsIGRpc3BsYXk6IChsYXlvdXRNb2RlID09PSBudWxsIHx8IGxheW91dE1vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxheW91dE1vZGUuc3RhcnRzV2l0aCgnZ3JpZCcpKSA/ICdmbGV4JyA6IHVuZGVmaW5lZCwgdG9wOiAwIH0sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyh0YWJsZVJvd1Byb3BzID09PSBudWxsIHx8IHRhYmxlUm93UHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRhYmxlUm93UHJvcHMuc3gsIHRoZW1lKSkpLCBjaGlsZHJlbjogW3ZpcnR1YWxQYWRkaW5nTGVmdCA/IChqc3goXCJ0aFwiLCB7IHN0eWxlOiB7IGRpc3BsYXk6ICdmbGV4Jywgd2lkdGg6IHZpcnR1YWxQYWRkaW5nTGVmdCB9IH0pKSA6IG51bGwsICh2aXJ0dWFsQ29sdW1ucyAhPT0gbnVsbCAmJiB2aXJ0dWFsQ29sdW1ucyAhPT0gdm9pZCAwID8gdmlydHVhbENvbHVtbnMgOiBoZWFkZXJHcm91cC5oZWFkZXJzKS5tYXAoKGhlYWRlck9yVmlydHVhbEhlYWRlcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlciA9IHZpcnR1YWxDb2x1bW5zXG4gICAgICAgICAgICAgICAgICAgID8gaGVhZGVyR3JvdXAuaGVhZGVyc1toZWFkZXJPclZpcnR1YWxIZWFkZXIuaW5kZXhdXG4gICAgICAgICAgICAgICAgICAgIDogaGVhZGVyT3JWaXJ0dWFsSGVhZGVyO1xuICAgICAgICAgICAgICAgIHJldHVybiBoZWFkZXIgPyAoanN4KE1SVF9UYWJsZUhlYWRDZWxsLCB7IGhlYWRlcjogaGVhZGVyLCB0YWJsZTogdGFibGUgfSwgaGVhZGVyLmlkKSkgOiBudWxsO1xuICAgICAgICAgICAgfSksIHZpcnR1YWxQYWRkaW5nUmlnaHQgPyAoanN4KFwidGhcIiwgeyBzdHlsZTogeyBkaXNwbGF5OiAnZmxleCcsIHdpZHRoOiB2aXJ0dWFsUGFkZGluZ1JpZ2h0IH0gfSkpIDogbnVsbF0gfSkpKTtcbn07XG5cbmNvbnN0IE1SVF9MaW5lYXJQcm9ncmVzc0JhciA9IChfYSkgPT4ge1xuICAgIHZhciB7IGlzVG9wVG9vbGJhciwgdGFibGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJpc1RvcFRvb2xiYXJcIiwgXCJ0YWJsZVwiXSk7XG4gICAgY29uc3QgeyBnZXRTdGF0ZSwgb3B0aW9uczogeyBtdWlMaW5lYXJQcm9ncmVzc1Byb3BzIH0sIH0gPSB0YWJsZTtcbiAgICBjb25zdCB7IGlzU2F2aW5nLCBzaG93UHJvZ3Jlc3NCYXJzIH0gPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGxpbmVhclByb2dyZXNzUHJvcHMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhtdWlMaW5lYXJQcm9ncmVzc1Byb3BzLCB7XG4gICAgICAgIGlzVG9wVG9vbGJhcixcbiAgICAgICAgdGFibGUsXG4gICAgfSkpLCByZXN0KTtcbiAgICByZXR1cm4gKGpzeChDb2xsYXBzZSwgeyBpbjogc2hvd1Byb2dyZXNzQmFycyAhPT0gZmFsc2UgJiYgKHNob3dQcm9ncmVzc0JhcnMgfHwgaXNTYXZpbmcpLCBtb3VudE9uRW50ZXI6IHRydWUsIHN4OiB7XG4gICAgICAgICAgICBib3R0b206IGlzVG9wVG9vbGJhciA/IDAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIHRvcDogIWlzVG9wVG9vbGJhciA/IDAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICB9LCB1bm1vdW50T25FeGl0OiB0cnVlLCBjaGlsZHJlbjoganN4KExpbmVhclByb2dyZXNzLCBPYmplY3QuYXNzaWduKHsgXCJhcmlhLWJ1c3lcIjogXCJ0cnVlXCIsIFwiYXJpYS1sYWJlbFwiOiBcIkxvYWRpbmdcIiwgc3g6IHsgcG9zaXRpb246ICdyZWxhdGl2ZScgfSB9LCBsaW5lYXJQcm9ncmVzc1Byb3BzKSkgfSkpO1xufTtcblxuY29uc3QgZGVmYXVsdFJvd3NQZXJQYWdlID0gWzUsIDEwLCAxNSwgMjAsIDI1LCAzMCwgNTAsIDEwMF07XG5jb25zdCBNUlRfVGFibGVQYWdpbmF0aW9uID0gKF9hKSA9PiB7XG4gICAgdmFyIHsgcG9zaXRpb24gPSAnYm90dG9tJywgdGFibGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJwb3NpdGlvblwiLCBcInRhYmxlXCJdKTtcbiAgICBjb25zdCB7IGdldFByZVBhZ2luYXRpb25Sb3dNb2RlbCwgZ2V0U3RhdGUsIG9wdGlvbnM6IHsgZW5hYmxlVG9vbGJhckludGVybmFsQWN0aW9ucywgaWNvbnM6IHsgQ2hldnJvbkxlZnRJY29uLCBDaGV2cm9uUmlnaHRJY29uLCBGaXJzdFBhZ2VJY29uLCBMYXN0UGFnZUljb24gfSwgbG9jYWxpemF0aW9uLCBtdWlQYWdpbmF0aW9uUHJvcHMsIHBhZ2luYXRpb25EaXNwbGF5TW9kZSwgcm93Q291bnQsIH0sIHNldFBhZ2VJbmRleCwgc2V0UGFnZVNpemUsIH0gPSB0YWJsZTtcbiAgICBjb25zdCB7IHBhZ2luYXRpb246IHsgcGFnZUluZGV4ID0gMCwgcGFnZVNpemUgPSAxMCB9LCBzaG93R2xvYmFsRmlsdGVyLCB9ID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBwYWdpbmF0aW9uUHJvcHMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhtdWlQYWdpbmF0aW9uUHJvcHMsIHtcbiAgICAgICAgdGFibGUsXG4gICAgfSkpLCByZXN0KTtcbiAgICBjb25zdCB0b3RhbFJvd0NvdW50ID0gcm93Q291bnQgIT09IG51bGwgJiYgcm93Q291bnQgIT09IHZvaWQgMCA/IHJvd0NvdW50IDogZ2V0UHJlUGFnaW5hdGlvblJvd01vZGVsKCkucm93cy5sZW5ndGg7XG4gICAgY29uc3QgbnVtYmVyT2ZQYWdlcyA9IE1hdGguY2VpbCh0b3RhbFJvd0NvdW50IC8gcGFnZVNpemUpO1xuICAgIGNvbnN0IHNob3dGaXJzdExhc3RQYWdlQnV0dG9ucyA9IG51bWJlck9mUGFnZXMgPiAyO1xuICAgIGNvbnN0IGZpcnN0Um93SW5kZXggPSBwYWdlSW5kZXggKiBwYWdlU2l6ZTtcbiAgICBjb25zdCBsYXN0Um93SW5kZXggPSBNYXRoLm1pbihwYWdlSW5kZXggKiBwYWdlU2l6ZSArIHBhZ2VTaXplLCB0b3RhbFJvd0NvdW50KTtcbiAgICBjb25zdCBfYiA9IHBhZ2luYXRpb25Qcm9wcyAhPT0gbnVsbCAmJiBwYWdpbmF0aW9uUHJvcHMgIT09IHZvaWQgMCA/IHBhZ2luYXRpb25Qcm9wcyA6IHt9LCB7IHJvd3NQZXJQYWdlT3B0aW9ucyA9IGRlZmF1bHRSb3dzUGVyUGFnZSwgc2hvd0ZpcnN0QnV0dG9uID0gc2hvd0ZpcnN0TGFzdFBhZ2VCdXR0b25zLCBzaG93TGFzdEJ1dHRvbiA9IHNob3dGaXJzdExhc3RQYWdlQnV0dG9ucywgc2hvd1Jvd3NQZXJQYWdlID0gdHJ1ZSB9ID0gX2IsIF9yZXN0ID0gX19yZXN0KF9iLCBbXCJyb3dzUGVyUGFnZU9wdGlvbnNcIiwgXCJzaG93Rmlyc3RCdXR0b25cIiwgXCJzaG93TGFzdEJ1dHRvblwiLCBcInNob3dSb3dzUGVyUGFnZVwiXSk7XG4gICAgcmV0dXJuIChqc3hzKEJveCwgeyBzeDoge1xuICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICBmbGV4V3JhcDogJ3dyYXAnLFxuICAgICAgICAgICAgZ2FwOiAnOHB4JyxcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiB7IG1kOiAnc3BhY2UtYmV0d2VlbicsIHNtOiAnY2VudGVyJyB9LFxuICAgICAgICAgICAganVzdGlmeVNlbGY6ICdmbGV4LWVuZCcsXG4gICAgICAgICAgICBtdDogcG9zaXRpb24gPT09ICd0b3AnICYmXG4gICAgICAgICAgICAgICAgZW5hYmxlVG9vbGJhckludGVybmFsQWN0aW9ucyAmJlxuICAgICAgICAgICAgICAgICFzaG93R2xvYmFsRmlsdGVyXG4gICAgICAgICAgICAgICAgPyAnM3JlbSdcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgICAgcHg6ICc4cHgnLFxuICAgICAgICAgICAgcHk6ICcxMnB4JyxcbiAgICAgICAgICAgIHpJbmRleDogMixcbiAgICAgICAgfSwgY2hpbGRyZW46IFtzaG93Um93c1BlclBhZ2UgJiYgKGpzeHMoQm94LCB7IHN4OiB7IGFsaWduSXRlbXM6ICdjZW50ZXInLCBkaXNwbGF5OiAnZmxleCcsIGdhcDogJzhweCcgfSwgY2hpbGRyZW46IFtqc3goSW5wdXRMYWJlbCwgeyBodG1sRm9yOiBcIm1ydC1yb3dzLXBlci1wYWdlXCIsIHN4OiB7IG1iOiAwIH0sIGNoaWxkcmVuOiBsb2NhbGl6YXRpb24ucm93c1BlclBhZ2UgfSksIGpzeChTZWxlY3QsIHsgZGlzYWJsZVVuZGVybGluZTogdHJ1ZSwgaWQ6IFwibXJ0LXJvd3MtcGVyLXBhZ2VcIiwgaW5wdXRQcm9wczogeyAnYXJpYS1sYWJlbCc6IGxvY2FsaXphdGlvbi5yb3dzUGVyUGFnZSB9LCBsYWJlbDogbG9jYWxpemF0aW9uLnJvd3NQZXJQYWdlLCBvbkNoYW5nZTogKGV2ZW50KSA9PiBzZXRQYWdlU2l6ZSgrZXZlbnQudGFyZ2V0LnZhbHVlKSwgc3g6IHsgbWI6IDAgfSwgdmFsdWU6IHBhZ2VTaXplLCB2YXJpYW50OiBcInN0YW5kYXJkXCIsIGNoaWxkcmVuOiByb3dzUGVyUGFnZU9wdGlvbnMubWFwKCh2YWx1ZSkgPT4gKGpzeChNZW51SXRlbSwgeyBzeDogeyBtOiAwIH0sIHZhbHVlOiB2YWx1ZSwgY2hpbGRyZW46IHZhbHVlIH0sIHZhbHVlKSkpIH0pXSB9KSksIHBhZ2luYXRpb25EaXNwbGF5TW9kZSA9PT0gJ3BhZ2VzJyA/IChqc3goUGFnaW5hdGlvbiwgT2JqZWN0LmFzc2lnbih7IGNvdW50OiBudW1iZXJPZlBhZ2VzLCBvbkNoYW5nZTogKF9lLCBuZXdQYWdlSW5kZXgpID0+IHNldFBhZ2VJbmRleChuZXdQYWdlSW5kZXggLSAxKSwgcGFnZTogcGFnZUluZGV4ICsgMSwgcmVuZGVySXRlbTogKGl0ZW0pID0+IChqc3goUGFnaW5hdGlvbkl0ZW0sIE9iamVjdC5hc3NpZ24oeyBzbG90czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3Q6IEZpcnN0UGFnZUljb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0OiBMYXN0UGFnZUljb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0OiBDaGV2cm9uUmlnaHRJY29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXM6IENoZXZyb25MZWZ0SWNvbixcbiAgICAgICAgICAgICAgICAgICAgfSB9LCBpdGVtKSkpLCBzaG93Rmlyc3RCdXR0b246IHNob3dGaXJzdEJ1dHRvbiwgc2hvd0xhc3RCdXR0b246IHNob3dMYXN0QnV0dG9uIH0sIF9yZXN0KSkpIDogcGFnaW5hdGlvbkRpc3BsYXlNb2RlID09PSAnZGVmYXVsdCcgPyAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW2pzeChUeXBvZ3JhcGh5LCB7IGFsaWduOiBcImNlbnRlclwiLCBzeDogeyBtYjogMCwgbWluV2lkdGg6ICc4Y2gnLCBteDogJzRweCcgfSwgdmFyaWFudDogXCJib2R5MlwiLCBjaGlsZHJlbjogYCR7bGFzdFJvd0luZGV4ID09PSAwID8gMCA6IChmaXJzdFJvd0luZGV4ICsgMSkudG9Mb2NhbGVTdHJpbmcoKX0tJHtsYXN0Um93SW5kZXgudG9Mb2NhbGVTdHJpbmcoKX0gJHtsb2NhbGl6YXRpb24ub2Z9ICR7dG90YWxSb3dDb3VudC50b0xvY2FsZVN0cmluZygpfWAgfSksIGpzeHMoQm94LCB7IGdhcDogXCJ4c1wiLCBjaGlsZHJlbjogW3Nob3dGaXJzdEJ1dHRvbiAmJiAoanN4KEljb25CdXR0b24sIHsgXCJhcmlhLWxhYmVsXCI6IGxvY2FsaXphdGlvbi5nb1RvRmlyc3RQYWdlLCBkaXNhYmxlZDogcGFnZUluZGV4IDw9IDAsIG9uQ2xpY2s6ICgpID0+IHNldFBhZ2VJbmRleCgwKSwgc2l6ZTogXCJzbWFsbFwiLCBjaGlsZHJlbjoganN4KEZpcnN0UGFnZUljb24sIHt9KSB9KSksIGpzeChJY29uQnV0dG9uLCB7IFwiYXJpYS1sYWJlbFwiOiBsb2NhbGl6YXRpb24uZ29Ub1ByZXZpb3VzUGFnZSwgZGlzYWJsZWQ6IHBhZ2VJbmRleCA8PSAwLCBvbkNsaWNrOiAoKSA9PiBzZXRQYWdlSW5kZXgocGFnZUluZGV4IC0gMSksIHNpemU6IFwic21hbGxcIiwgY2hpbGRyZW46IGpzeChDaGV2cm9uTGVmdEljb24sIHt9KSB9KSwganN4KEljb25CdXR0b24sIHsgXCJhcmlhLWxhYmVsXCI6IGxvY2FsaXphdGlvbi5nb1RvTmV4dFBhZ2UsIGRpc2FibGVkOiBsYXN0Um93SW5kZXggPj0gdG90YWxSb3dDb3VudCwgb25DbGljazogKCkgPT4gc2V0UGFnZUluZGV4KHBhZ2VJbmRleCArIDEpLCBzaXplOiBcInNtYWxsXCIsIGNoaWxkcmVuOiBqc3goQ2hldnJvblJpZ2h0SWNvbiwge30pIH0pLCBzaG93TGFzdEJ1dHRvbiAmJiAoanN4KEljb25CdXR0b24sIHsgXCJhcmlhLWxhYmVsXCI6IGxvY2FsaXphdGlvbi5nb1RvTGFzdFBhZ2UsIGRpc2FibGVkOiBsYXN0Um93SW5kZXggPj0gdG90YWxSb3dDb3VudCwgb25DbGljazogKCkgPT4gc2V0UGFnZUluZGV4KG51bWJlck9mUGFnZXMgLSAxKSwgc2l6ZTogXCJzbWFsbFwiLCBjaGlsZHJlbjoganN4KExhc3RQYWdlSWNvbiwge30pIH0pKV0gfSldIH0pKSA6IG51bGxdIH0pKTtcbn07XG5cbmNvbnN0IE1SVF9HbG9iYWxGaWx0ZXJUZXh0RmllbGQgPSAoX2EpID0+IHtcbiAgICB2YXIgX2I7XG4gICAgdmFyIHsgdGFibGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJ0YWJsZVwiXSk7XG4gICAgY29uc3QgeyBnZXRTdGF0ZSwgb3B0aW9uczogeyBlbmFibGVHbG9iYWxGaWx0ZXJNb2RlcywgaWNvbnM6IHsgQ2xvc2VJY29uLCBTZWFyY2hJY29uIH0sIGxvY2FsaXphdGlvbiwgbWFudWFsRmlsdGVyaW5nLCBtdWlTZWFyY2hUZXh0RmllbGRQcm9wcywgfSwgcmVmczogeyBzZWFyY2hJbnB1dFJlZiB9LCBzZXRHbG9iYWxGaWx0ZXIsIH0gPSB0YWJsZTtcbiAgICBjb25zdCB7IGdsb2JhbEZpbHRlciwgc2hvd0dsb2JhbEZpbHRlciB9ID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCB0ZXh0RmllbGRQcm9wcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKG11aVNlYXJjaFRleHRGaWVsZFByb3BzLCB7XG4gICAgICAgIHRhYmxlLFxuICAgIH0pKSwgcmVzdCk7XG4gICAgY29uc3QgaXNNb3VudGVkID0gdXNlUmVmKGZhbHNlKTtcbiAgICBjb25zdCBbYW5jaG9yRWwsIHNldEFuY2hvckVsXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtzZWFyY2hWYWx1ZSwgc2V0U2VhcmNoVmFsdWVdID0gdXNlU3RhdGUoZ2xvYmFsRmlsdGVyICE9PSBudWxsICYmIGdsb2JhbEZpbHRlciAhPT0gdm9pZCAwID8gZ2xvYmFsRmlsdGVyIDogJycpO1xuICAgIGNvbnN0IGhhbmRsZUNoYW5nZURlYm91bmNlZCA9IHVzZUNhbGxiYWNrKGRlYm91bmNlKChldmVudCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHNldEdsb2JhbEZpbHRlcigoX2EgPSBldmVudC50YXJnZXQudmFsdWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHVuZGVmaW5lZCk7XG4gICAgfSwgbWFudWFsRmlsdGVyaW5nID8gNTAwIDogMjUwKSwgW10pO1xuICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgICBzZXRTZWFyY2hWYWx1ZShldmVudC50YXJnZXQudmFsdWUpO1xuICAgICAgICBoYW5kbGVDaGFuZ2VEZWJvdW5jZWQoZXZlbnQpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlR2xvYmFsRmlsdGVyTWVudU9wZW4gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgc2V0QW5jaG9yRWwoZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVDbGVhciA9ICgpID0+IHtcbiAgICAgICAgc2V0U2VhcmNoVmFsdWUoJycpO1xuICAgICAgICBzZXRHbG9iYWxGaWx0ZXIodW5kZWZpbmVkKTtcbiAgICB9O1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpc01vdW50ZWQuY3VycmVudCkge1xuICAgICAgICAgICAgaWYgKGdsb2JhbEZpbHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlQ2xlYXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldFNlYXJjaFZhbHVlKGdsb2JhbEZpbHRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaXNNb3VudGVkLmN1cnJlbnQgPSB0cnVlO1xuICAgIH0sIFtnbG9iYWxGaWx0ZXJdKTtcbiAgICByZXR1cm4gKGpzeHMoQ29sbGFwc2UsIHsgaW46IHNob3dHbG9iYWxGaWx0ZXIsIG1vdW50T25FbnRlcjogdHJ1ZSwgb3JpZW50YXRpb246IFwiaG9yaXpvbnRhbFwiLCB1bm1vdW50T25FeGl0OiB0cnVlLCBjaGlsZHJlbjogW2pzeChUZXh0RmllbGQsIE9iamVjdC5hc3NpZ24oeyBJbnB1dFByb3BzOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBlbmRBZG9ybm1lbnQ6IChqc3goSW5wdXRBZG9ybm1lbnQsIHsgcG9zaXRpb246IFwiZW5kXCIsIGNoaWxkcmVuOiBqc3goVG9vbHRpcCwgeyB0aXRsZTogKF9iID0gbG9jYWxpemF0aW9uLmNsZWFyU2VhcmNoKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnJywgY2hpbGRyZW46IGpzeChcInNwYW5cIiwgeyBjaGlsZHJlbjoganN4KEljb25CdXR0b24sIHsgXCJhcmlhLWxhYmVsXCI6IGxvY2FsaXphdGlvbi5jbGVhclNlYXJjaCwgZGlzYWJsZWQ6ICEoc2VhcmNoVmFsdWUgPT09IG51bGwgfHwgc2VhcmNoVmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlYXJjaFZhbHVlLmxlbmd0aCksIG9uQ2xpY2s6IGhhbmRsZUNsZWFyLCBzaXplOiBcInNtYWxsXCIsIGNoaWxkcmVuOiBqc3goQ2xvc2VJY29uLCB7fSkgfSkgfSkgfSkgfSkpLCBzdGFydEFkb3JubWVudDogZW5hYmxlR2xvYmFsRmlsdGVyTW9kZXMgPyAoanN4KElucHV0QWRvcm5tZW50LCB7IHBvc2l0aW9uOiBcInN0YXJ0XCIsIGNoaWxkcmVuOiBqc3goVG9vbHRpcCwgeyB0aXRsZTogbG9jYWxpemF0aW9uLmNoYW5nZVNlYXJjaE1vZGUsIGNoaWxkcmVuOiBqc3goSWNvbkJ1dHRvbiwgeyBcImFyaWEtbGFiZWxcIjogbG9jYWxpemF0aW9uLmNoYW5nZVNlYXJjaE1vZGUsIG9uQ2xpY2s6IGhhbmRsZUdsb2JhbEZpbHRlck1lbnVPcGVuLCBzaXplOiBcInNtYWxsXCIsIHN4OiB7IGhlaWdodDogJzEuNzVyZW0nLCB3aWR0aDogJzEuNzVyZW0nIH0sIGNoaWxkcmVuOiBqc3goU2VhcmNoSWNvbiwge30pIH0pIH0pIH0pKSA6IChqc3goU2VhcmNoSWNvbiwgeyBzdHlsZTogeyBtYXJnaW5SaWdodDogJzRweCcgfSB9KSkgfSwgdGV4dEZpZWxkUHJvcHMuSW5wdXRQcm9wcyksIHsgc3g6ICh0aGVtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChPYmplY3QuYXNzaWduKHsgbWI6IDAgfSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKChfYSA9IHRleHRGaWVsZFByb3BzID09PSBudWxsIHx8IHRleHRGaWVsZFByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0ZXh0RmllbGRQcm9wcy5JbnB1dFByb3BzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3gsIHRoZW1lKSkpO1xuICAgICAgICAgICAgICAgICAgICB9IH0pLCBpbnB1dFByb3BzOiBPYmplY3QuYXNzaWduKHsgYXV0b0NvbXBsZXRlOiAnbmV3LXBhc3N3b3JkJyB9LCB0ZXh0RmllbGRQcm9wcy5pbnB1dFByb3BzKSwgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSwgcGxhY2Vob2xkZXI6IGxvY2FsaXphdGlvbi5zZWFyY2gsIHNpemU6IFwic21hbGxcIiwgdmFsdWU6IHNlYXJjaFZhbHVlICE9PSBudWxsICYmIHNlYXJjaFZhbHVlICE9PSB2b2lkIDAgPyBzZWFyY2hWYWx1ZSA6ICcnLCB2YXJpYW50OiBcIm91dGxpbmVkXCIgfSwgdGV4dEZpZWxkUHJvcHMsIHsgaW5wdXRSZWY6IChpbnB1dFJlZikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWFyY2hJbnB1dFJlZi5jdXJyZW50ID0gaW5wdXRSZWY7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0RmllbGRQcm9wcyA9PT0gbnVsbCB8fCB0ZXh0RmllbGRQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGV4dEZpZWxkUHJvcHMuaW5wdXRSZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRGaWVsZFByb3BzLmlucHV0UmVmID0gaW5wdXRSZWY7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IH0pKSwganN4KE1SVF9GaWx0ZXJPcHRpb25NZW51LCB7IGFuY2hvckVsOiBhbmNob3JFbCwgb25TZWxlY3Q6IGhhbmRsZUNsZWFyLCBzZXRBbmNob3JFbDogc2V0QW5jaG9yRWwsIHRhYmxlOiB0YWJsZSB9KV0gfSkpO1xufTtcblxuY29uc3QgTVJUX1NlbGVjdENoZWNrYm94ID0gKF9hKSA9PiB7XG4gICAgdmFyIF9iO1xuICAgIHZhciB7IHJvdywgc2VsZWN0QWxsLCB0YWJsZSB9ID0gX2EsIHJlc3QgPSBfX3Jlc3QoX2EsIFtcInJvd1wiLCBcInNlbGVjdEFsbFwiLCBcInRhYmxlXCJdKTtcbiAgICBjb25zdCB7IGdldFN0YXRlLCBvcHRpb25zOiB7IGVuYWJsZU11bHRpUm93U2VsZWN0aW9uLCBlbmFibGVSb3dQaW5uaW5nLCBsb2NhbGl6YXRpb24sIG11aVNlbGVjdEFsbENoZWNrYm94UHJvcHMsIG11aVNlbGVjdENoZWNrYm94UHJvcHMsIHJvd1Bpbm5pbmdEaXNwbGF5TW9kZSwgc2VsZWN0QWxsTW9kZSwgfSwgfSA9IHRhYmxlO1xuICAgIGNvbnN0IHsgZGVuc2l0eSwgaXNMb2FkaW5nIH0gPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGNoZWNrYm94UHJvcHMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sICghcm93XG4gICAgICAgID8gcGFyc2VGcm9tVmFsdWVzT3JGdW5jKG11aVNlbGVjdEFsbENoZWNrYm94UHJvcHMsIHsgdGFibGUgfSlcbiAgICAgICAgOiBwYXJzZUZyb21WYWx1ZXNPckZ1bmMobXVpU2VsZWN0Q2hlY2tib3hQcm9wcywgeyByb3csIHRhYmxlIH0pKSksIHJlc3QpO1xuICAgIGNvbnN0IGFsbFJvd3NTZWxlY3RlZCA9IHNlbGVjdEFsbFxuICAgICAgICA/IHNlbGVjdEFsbE1vZGUgPT09ICdwYWdlJ1xuICAgICAgICAgICAgPyB0YWJsZS5nZXRJc0FsbFBhZ2VSb3dzU2VsZWN0ZWQoKVxuICAgICAgICAgICAgOiB0YWJsZS5nZXRJc0FsbFJvd3NTZWxlY3RlZCgpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IGNvbW1vblByb3BzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgY2hlY2tlZDogc2VsZWN0QWxsID8gYWxsUm93c1NlbGVjdGVkIDogcm93ID09PSBudWxsIHx8IHJvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcm93LmdldElzU2VsZWN0ZWQoKSwgZGlzYWJsZWQ6IGlzTG9hZGluZyB8fCAocm93ICYmICFyb3cuZ2V0Q2FuU2VsZWN0KCkpLCBpbnB1dFByb3BzOiB7XG4gICAgICAgICAgICAnYXJpYS1sYWJlbCc6IHNlbGVjdEFsbFxuICAgICAgICAgICAgICAgID8gbG9jYWxpemF0aW9uLnRvZ2dsZVNlbGVjdEFsbFxuICAgICAgICAgICAgICAgIDogbG9jYWxpemF0aW9uLnRvZ2dsZVNlbGVjdFJvdyxcbiAgICAgICAgfSwgb25DaGFuZ2U6IChldmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICByb3dcbiAgICAgICAgICAgICAgICA/IHJvdy5nZXRUb2dnbGVTZWxlY3RlZEhhbmRsZXIoKShldmVudClcbiAgICAgICAgICAgICAgICA6IHNlbGVjdEFsbE1vZGUgPT09ICdhbGwnXG4gICAgICAgICAgICAgICAgICAgID8gdGFibGUuZ2V0VG9nZ2xlQWxsUm93c1NlbGVjdGVkSGFuZGxlcigpKGV2ZW50KVxuICAgICAgICAgICAgICAgICAgICA6IHRhYmxlLmdldFRvZ2dsZUFsbFBhZ2VSb3dzU2VsZWN0ZWRIYW5kbGVyKCkoZXZlbnQpO1xuICAgICAgICAgICAgaWYgKGVuYWJsZVJvd1Bpbm5pbmcgJiYgKHJvd1Bpbm5pbmdEaXNwbGF5TW9kZSA9PT0gbnVsbCB8fCByb3dQaW5uaW5nRGlzcGxheU1vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJvd1Bpbm5pbmdEaXNwbGF5TW9kZS5pbmNsdWRlcygnc2VsZWN0JykpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJvdykge1xuICAgICAgICAgICAgICAgICAgICByb3cucGluKCFyb3cuZ2V0SXNQaW5uZWQoKSAmJiBldmVudC50YXJnZXQuY2hlY2tlZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyAocm93UGlubmluZ0Rpc3BsYXlNb2RlID09PSBudWxsIHx8IHJvd1Bpbm5pbmdEaXNwbGF5TW9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcm93UGlubmluZ0Rpc3BsYXlNb2RlLmluY2x1ZGVzKCdib3R0b20nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdib3R0b20nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAndG9wJ1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0YWJsZS5zZXRSb3dQaW5uaW5nKHsgYm90dG9tOiBbXSwgdG9wOiBbXSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHNpemU6IChkZW5zaXR5ID09PSAnY29tcGFjdCcgPyAnc21hbGwnIDogJ21lZGl1bScpIH0sIGNoZWNrYm94UHJvcHMpLCB7IG9uQ2xpY2s6IChlKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgKF9hID0gY2hlY2tib3hQcm9wcyA9PT0gbnVsbCB8fCBjaGVja2JveFByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjaGVja2JveFByb3BzLm9uQ2xpY2spID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGNoZWNrYm94UHJvcHMsIGUpO1xuICAgICAgICB9LCBzeDogKHRoZW1lKSA9PiAoT2JqZWN0LmFzc2lnbih7IGhlaWdodDogZGVuc2l0eSA9PT0gJ2NvbXBhY3QnID8gJzEuNzVyZW0nIDogJzIuNXJlbScsIG06IGRlbnNpdHkgIT09ICdjb21wYWN0JyA/ICctMC40cmVtJyA6IHVuZGVmaW5lZCwgd2lkdGg6IGRlbnNpdHkgPT09ICdjb21wYWN0JyA/ICcxLjc1cmVtJyA6ICcyLjVyZW0nLCB6SW5kZXg6IDAgfSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKGNoZWNrYm94UHJvcHMgPT09IG51bGwgfHwgY2hlY2tib3hQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2hlY2tib3hQcm9wcy5zeCwgdGhlbWUpKSksIHRpdGxlOiB1bmRlZmluZWQgfSk7XG4gICAgcmV0dXJuIChqc3goVG9vbHRpcCwgeyBlbnRlckRlbGF5OiAxMDAwLCBlbnRlck5leHREZWxheTogMTAwMCwgdGl0bGU6IChfYiA9IGNoZWNrYm94UHJvcHMgPT09IG51bGwgfHwgY2hlY2tib3hQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2hlY2tib3hQcm9wcy50aXRsZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogKHNlbGVjdEFsbFxuICAgICAgICAgICAgPyBsb2NhbGl6YXRpb24udG9nZ2xlU2VsZWN0QWxsXG4gICAgICAgICAgICA6IGxvY2FsaXphdGlvbi50b2dnbGVTZWxlY3RSb3cpLCBjaGlsZHJlbjogZW5hYmxlTXVsdGlSb3dTZWxlY3Rpb24gPT09IGZhbHNlID8gKGpzeChSYWRpbywgT2JqZWN0LmFzc2lnbih7fSwgY29tbW9uUHJvcHMpKSkgOiAoanN4KENoZWNrYm94LCBPYmplY3QuYXNzaWduKHsgaW5kZXRlcm1pbmF0ZTogc2VsZWN0QWxsXG4gICAgICAgICAgICAgICAgPyB0YWJsZS5nZXRJc1NvbWVSb3dzU2VsZWN0ZWQoKSAmJiAhYWxsUm93c1NlbGVjdGVkXG4gICAgICAgICAgICAgICAgOiByb3cgPT09IG51bGwgfHwgcm93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByb3cuZ2V0SXNTb21lU2VsZWN0ZWQoKSB9LCBjb21tb25Qcm9wcykpKSB9KSk7XG59O1xuXG5jb25zdCBNUlRfVG9vbGJhckFsZXJ0QmFubmVyID0gKF9hKSA9PiB7XG4gICAgdmFyIF9iLCBfYywgX2Q7XG4gICAgdmFyIHsgc3RhY2tBbGVydEJhbm5lciwgdGFibGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJzdGFja0FsZXJ0QmFubmVyXCIsIFwidGFibGVcIl0pO1xuICAgIGNvbnN0IHsgZ2V0UHJlUGFnaW5hdGlvblJvd01vZGVsLCBnZXRTZWxlY3RlZFJvd01vZGVsLCBnZXRTdGF0ZSwgb3B0aW9uczogeyBlbmFibGVSb3dTZWxlY3Rpb24sIGVuYWJsZVNlbGVjdEFsbCwgbG9jYWxpemF0aW9uLCBtdWlUb29sYmFyQWxlcnRCYW5uZXJDaGlwUHJvcHMsIG11aVRvb2xiYXJBbGVydEJhbm5lclByb3BzLCBwb3NpdGlvblRvb2xiYXJBbGVydEJhbm5lciwgcmVuZGVyVG9vbGJhckFsZXJ0QmFubmVyQ29udGVudCwgcm93Q291bnQsIH0sIHJlZnM6IHsgdGFibGVQYXBlclJlZiB9LCB9ID0gdGFibGU7XG4gICAgY29uc3QgeyBkZW5zaXR5LCBncm91cGluZywgc2hvd0FsZXJ0QmFubmVyIH0gPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGFsZXJ0UHJvcHMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhtdWlUb29sYmFyQWxlcnRCYW5uZXJQcm9wcywge1xuICAgICAgICB0YWJsZSxcbiAgICB9KSksIHJlc3QpO1xuICAgIGNvbnN0IGNoaXBQcm9wcyA9IHBhcnNlRnJvbVZhbHVlc09yRnVuYyhtdWlUb29sYmFyQWxlcnRCYW5uZXJDaGlwUHJvcHMsIHtcbiAgICAgICAgdGFibGUsXG4gICAgfSk7XG4gICAgY29uc3Qgc2VsZWN0ZWRBbGVydCA9IGdldFNlbGVjdGVkUm93TW9kZWwoKS5yb3dzLmxlbmd0aCA+IDBcbiAgICAgICAgPyAoX2MgPSAoX2IgPSBsb2NhbGl6YXRpb24uc2VsZWN0ZWRDb3VudE9mUm93Q291bnRSb3dzU2VsZWN0ZWQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5yZXBsYWNlKCd7c2VsZWN0ZWRDb3VudH0nLCBnZXRTZWxlY3RlZFJvd01vZGVsKCkucm93cy5sZW5ndGgudG9TdHJpbmcoKSkpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5yZXBsYWNlKCd7cm93Q291bnR9JywgKHJvd0NvdW50ICE9PSBudWxsICYmIHJvd0NvdW50ICE9PSB2b2lkIDAgPyByb3dDb3VudCA6IGdldFByZVBhZ2luYXRpb25Sb3dNb2RlbCgpLnJvd3MubGVuZ3RoKS50b1N0cmluZygpKVxuICAgICAgICA6IG51bGw7XG4gICAgY29uc3QgZ3JvdXBlZEFsZXJ0ID0gZ3JvdXBpbmcubGVuZ3RoID4gMCA/IChqc3hzKFwic3BhblwiLCB7IGNoaWxkcmVuOiBbbG9jYWxpemF0aW9uLmdyb3VwZWRCeSwgJyAnLCBncm91cGluZy5tYXAoKGNvbHVtbklkLCBpbmRleCkgPT4gKGpzeHMoRnJhZ21lbnQkMSwgeyBjaGlsZHJlbjogW2luZGV4ID4gMCA/IGxvY2FsaXphdGlvbi50aGVuQnkgOiAnJywganN4KENoaXAsIE9iamVjdC5hc3NpZ24oeyBsYWJlbDogdGFibGUuZ2V0Q29sdW1uKGNvbHVtbklkKS5jb2x1bW5EZWYuaGVhZGVyLCBvbkRlbGV0ZTogKCkgPT4gdGFibGUuZ2V0Q29sdW1uKGNvbHVtbklkKS50b2dnbGVHcm91cGluZygpIH0sIGNoaXBQcm9wcykpXSB9LCBgJHtpbmRleH0tJHtjb2x1bW5JZH1gKSkpXSB9KSkgOiBudWxsO1xuICAgIHJldHVybiAoanN4KENvbGxhcHNlLCB7IGluOiBzaG93QWxlcnRCYW5uZXIgfHwgISFzZWxlY3RlZEFsZXJ0IHx8ICEhZ3JvdXBlZEFsZXJ0LCB0aW1lb3V0OiBzdGFja0FsZXJ0QmFubmVyID8gMjAwIDogMCwgY2hpbGRyZW46IGpzeChBbGVydCwgT2JqZWN0LmFzc2lnbih7IGNvbG9yOiBcImluZm9cIiwgaWNvbjogZmFsc2UgfSwgYWxlcnRQcm9wcywgeyBzeDogKHRoZW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICByZXR1cm4gKE9iamVjdC5hc3NpZ24oeyAnJiAuTXVpQWxlcnQtbWVzc2FnZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFdpZHRoOiBgY2FsYygkeyhfYiA9IChfYSA9IHRhYmxlUGFwZXJSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsaWVudFdpZHRoKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAzNjB9cHggLSAxcmVtKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICB9LCBib3JkZXJSYWRpdXM6IDAsIGZvbnRTaXplOiAnMXJlbScsIGxlZnQ6IDAsIG1iOiBzdGFja0FsZXJ0QmFubmVyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IDBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcG9zaXRpb25Ub29sYmFyQWxlcnRCYW5uZXIgPT09ICdib3R0b20nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnLTFyZW0nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsIHA6IDAsIHBvc2l0aW9uOiAncmVsYXRpdmUnLCByaWdodDogMCwgdG9wOiAwLCB3aWR0aDogJzEwMCUnLCB6SW5kZXg6IDIgfSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKGFsZXJ0UHJvcHMgPT09IG51bGwgfHwgYWxlcnRQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWxlcnRQcm9wcy5zeCwgdGhlbWUpKSk7XG4gICAgICAgICAgICB9LCBjaGlsZHJlbjogKF9kID0gcmVuZGVyVG9vbGJhckFsZXJ0QmFubmVyQ29udGVudCA9PT0gbnVsbCB8fCByZW5kZXJUb29sYmFyQWxlcnRCYW5uZXJDb250ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZW5kZXJUb29sYmFyQWxlcnRCYW5uZXJDb250ZW50KHtcbiAgICAgICAgICAgICAgICBncm91cGVkQWxlcnQsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRBbGVydCxcbiAgICAgICAgICAgICAgICB0YWJsZSxcbiAgICAgICAgICAgIH0pKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogWyhhbGVydFByb3BzID09PSBudWxsIHx8IGFsZXJ0UHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFsZXJ0UHJvcHMudGl0bGUpICYmIGpzeChBbGVydFRpdGxlLCB7IGNoaWxkcmVuOiBhbGVydFByb3BzLnRpdGxlIH0pLCBqc3hzKFN0YWNrLCB7IHN4OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcDogcG9zaXRpb25Ub29sYmFyQWxlcnRCYW5uZXIgIT09ICdoZWFkLW92ZXJsYXknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJzAuNXJlbSAxcmVtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRlbnNpdHkgPT09ICdzcGFjaW91cydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJzAuNzVyZW0gMS4yNXJlbSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZGVuc2l0eSA9PT0gJ2NvbWZvcnRhYmxlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJzAuNXJlbSAwLjc1cmVtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJzAuMjVyZW0gMC41cmVtJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBbYWxlcnRQcm9wcyA9PT0gbnVsbCB8fCBhbGVydFByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhbGVydFByb3BzLmNoaWxkcmVuLCAoYWxlcnRQcm9wcyA9PT0gbnVsbCB8fCBhbGVydFByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhbGVydFByb3BzLmNoaWxkcmVuKSAmJiAoc2VsZWN0ZWRBbGVydCB8fCBncm91cGVkQWxlcnQpICYmIChqc3goXCJiclwiLCB7fSkpLCBqc3hzKEJveCwgeyBzeDogeyBkaXNwbGF5OiAnZmxleCcgfSwgY2hpbGRyZW46IFtlbmFibGVSb3dTZWxlY3Rpb24gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVTZWxlY3RBbGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblRvb2xiYXJBbGVydEJhbm5lciA9PT0gJ2hlYWQtb3ZlcmxheScgJiYgKGpzeChNUlRfU2VsZWN0Q2hlY2tib3gsIHsgc2VsZWN0QWxsOiB0cnVlLCB0YWJsZTogdGFibGUgfSkpLCAnICcsIHNlbGVjdGVkQWxlcnRdIH0pLCBzZWxlY3RlZEFsZXJ0ICYmIGdyb3VwZWRBbGVydCAmJiBqc3goXCJiclwiLCB7fSksIGdyb3VwZWRBbGVydF0gfSldIH0pKSB9KSkgfSkpO1xufTtcblxuY29uc3QgTVJUX1Rvb2xiYXJEcm9wWm9uZSA9IChfYSkgPT4ge1xuICAgIHZhciBfYiwgX2M7XG4gICAgdmFyIHsgdGFibGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJ0YWJsZVwiXSk7XG4gICAgY29uc3QgeyBnZXRTdGF0ZSwgb3B0aW9uczogeyBlbmFibGVHcm91cGluZywgbG9jYWxpemF0aW9uIH0sIHNldEhvdmVyZWRDb2x1bW4sIHNldFNob3dUb29sYmFyRHJvcFpvbmUsIH0gPSB0YWJsZTtcbiAgICBjb25zdCB7IGRyYWdnaW5nQ29sdW1uLCBncm91cGluZywgaG92ZXJlZENvbHVtbiwgc2hvd1Rvb2xiYXJEcm9wWm9uZSB9ID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBoYW5kbGVEcmFnRW50ZXIgPSAoX2V2ZW50KSA9PiB7XG4gICAgICAgIHNldEhvdmVyZWRDb2x1bW4oeyBpZDogJ2Ryb3Atem9uZScgfSk7XG4gICAgfTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICgoKF9hID0gdGFibGUub3B0aW9ucy5zdGF0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNob3dUb29sYmFyRHJvcFpvbmUpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNldFNob3dUb29sYmFyRHJvcFpvbmUoISFlbmFibGVHcm91cGluZyAmJlxuICAgICAgICAgICAgICAgICEhZHJhZ2dpbmdDb2x1bW4gJiZcbiAgICAgICAgICAgICAgICBkcmFnZ2luZ0NvbHVtbi5jb2x1bW5EZWYuZW5hYmxlR3JvdXBpbmcgIT09IGZhbHNlICYmXG4gICAgICAgICAgICAgICAgIWdyb3VwaW5nLmluY2x1ZGVzKGRyYWdnaW5nQ29sdW1uLmlkKSk7XG4gICAgICAgIH1cbiAgICB9LCBbZW5hYmxlR3JvdXBpbmcsIGRyYWdnaW5nQ29sdW1uLCBncm91cGluZ10pO1xuICAgIHJldHVybiAoanN4KEZhZGUsIHsgaW46IHNob3dUb29sYmFyRHJvcFpvbmUsIGNoaWxkcmVuOiBqc3goQm94LCBPYmplY3QuYXNzaWduKHsgY2xhc3NOYW1lOiBcIk11aS1Ub29sYmFyRHJvcFpvbmVcIiwgb25EcmFnRW50ZXI6IGhhbmRsZURyYWdFbnRlciB9LCByZXN0LCB7IHN4OiAodGhlbWUpID0+IChPYmplY3QuYXNzaWduKHsgYWxpZ25JdGVtczogJ2NlbnRlcicsIGJhY2tkcm9wRmlsdGVyOiAnYmx1cig0cHgpJywgYmFja2dyb3VuZENvbG9yOiBhbHBoYSh0aGVtZS5wYWxldHRlLmluZm8ubWFpbiwgKGhvdmVyZWRDb2x1bW4gPT09IG51bGwgfHwgaG92ZXJlZENvbHVtbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogaG92ZXJlZENvbHVtbi5pZCkgPT09ICdkcm9wLXpvbmUnID8gMC4yIDogMC4xKSwgYm9yZGVyOiBgZGFzaGVkICR7dGhlbWUucGFsZXR0ZS5pbmZvLm1haW59IDJweGAsIGJveFNpemluZzogJ2JvcmRlci1ib3gnLCBkaXNwbGF5OiAnZmxleCcsIGhlaWdodDogJzEwMCUnLCBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsIHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB3aWR0aDogJzEwMCUnLCB6SW5kZXg6IDQgfSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKHJlc3QgPT09IG51bGwgfHwgcmVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzdC5zeCwgdGhlbWUpKSksIGNoaWxkcmVuOiBqc3goVHlwb2dyYXBoeSwgeyBmb250U3R5bGU6IFwiaXRhbGljXCIsIGNoaWxkcmVuOiBsb2NhbGl6YXRpb24uZHJvcFRvR3JvdXBCeS5yZXBsYWNlKCd7Y29sdW1ufScsIChfYyA9IChfYiA9IGRyYWdnaW5nQ29sdW1uID09PSBudWxsIHx8IGRyYWdnaW5nQ29sdW1uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkcmFnZ2luZ0NvbHVtbi5jb2x1bW5EZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5oZWFkZXIpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICcnKSB9KSB9KSkgfSkpO1xufTtcblxuY29uc3QgTVJUX0JvdHRvbVRvb2xiYXIgPSAoX2EpID0+IHtcbiAgICB2YXIgeyB0YWJsZSB9ID0gX2EsIHJlc3QgPSBfX3Jlc3QoX2EsIFtcInRhYmxlXCJdKTtcbiAgICBjb25zdCB7IGdldFN0YXRlLCBvcHRpb25zOiB7IGVuYWJsZVBhZ2luYXRpb24sIG11aUJvdHRvbVRvb2xiYXJQcm9wcywgcG9zaXRpb25QYWdpbmF0aW9uLCBwb3NpdGlvblRvb2xiYXJBbGVydEJhbm5lciwgcG9zaXRpb25Ub29sYmFyRHJvcFpvbmUsIHJlbmRlckJvdHRvbVRvb2xiYXJDdXN0b21BY3Rpb25zLCB9LCByZWZzOiB7IGJvdHRvbVRvb2xiYXJSZWYgfSwgfSA9IHRhYmxlO1xuICAgIGNvbnN0IHsgaXNGdWxsU2NyZWVuIH0gPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGlzTW9iaWxlID0gdXNlTWVkaWFRdWVyeSgnKG1heC13aWR0aDo3MjBweCknKTtcbiAgICBjb25zdCB0b29sYmFyUHJvcHMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhtdWlCb3R0b21Ub29sYmFyUHJvcHMsIHsgdGFibGUgfSkpLCByZXN0KTtcbiAgICBjb25zdCBzdGFja0FsZXJ0QmFubmVyID0gaXNNb2JpbGUgfHwgISFyZW5kZXJCb3R0b21Ub29sYmFyQ3VzdG9tQWN0aW9ucztcbiAgICByZXR1cm4gKGpzeHMoQm94LCBPYmplY3QuYXNzaWduKHt9LCB0b29sYmFyUHJvcHMsIHsgcmVmOiAobm9kZSkgPT4ge1xuICAgICAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBib3R0b21Ub29sYmFyUmVmLmN1cnJlbnQgPSBub2RlO1xuICAgICAgICAgICAgICAgIGlmICh0b29sYmFyUHJvcHMgPT09IG51bGwgfHwgdG9vbGJhclByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0b29sYmFyUHJvcHMucmVmKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgdG9vbGJhclByb3BzLnJlZi5jdXJyZW50ID0gbm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHN4OiAodGhlbWUpID0+IChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZ2V0Q29tbW9uVG9vbGJhclN0eWxlcyh7IHRhYmxlLCB0aGVtZSB9KSksIHsgYm90dG9tOiBpc0Z1bGxTY3JlZW4gPyAnMCcgOiB1bmRlZmluZWQsIGJveFNoYWRvdzogYDAgMXB4IDJweCAtMXB4ICR7YWxwaGEkMSh0aGVtZS5wYWxldHRlLmdyZXlbNzAwXSwgMC41KX0gaW5zZXRgLCBsZWZ0OiAwLCBwb3NpdGlvbjogaXNGdWxsU2NyZWVuID8gJ2ZpeGVkJyA6ICdyZWxhdGl2ZScsIHJpZ2h0OiAwIH0pLCBwYXJzZUZyb21WYWx1ZXNPckZ1bmModG9vbGJhclByb3BzID09PSBudWxsIHx8IHRvb2xiYXJQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdG9vbGJhclByb3BzLnN4LCB0aGVtZSkpKSwgY2hpbGRyZW46IFtqc3goTVJUX0xpbmVhclByb2dyZXNzQmFyLCB7IGlzVG9wVG9vbGJhcjogZmFsc2UsIHRhYmxlOiB0YWJsZSB9KSwgcG9zaXRpb25Ub29sYmFyQWxlcnRCYW5uZXIgPT09ICdib3R0b20nICYmIChqc3goTVJUX1Rvb2xiYXJBbGVydEJhbm5lciwgeyBzdGFja0FsZXJ0QmFubmVyOiBzdGFja0FsZXJ0QmFubmVyLCB0YWJsZTogdGFibGUgfSkpLCBbJ2JvdGgnLCAnYm90dG9tJ10uaW5jbHVkZXMocG9zaXRpb25Ub29sYmFyRHJvcFpvbmUgIT09IG51bGwgJiYgcG9zaXRpb25Ub29sYmFyRHJvcFpvbmUgIT09IHZvaWQgMCA/IHBvc2l0aW9uVG9vbGJhckRyb3Bab25lIDogJycpICYmIChqc3goTVJUX1Rvb2xiYXJEcm9wWm9uZSwgeyB0YWJsZTogdGFibGUgfSkpLCBqc3hzKEJveCwgeyBzeDoge1xuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICAgICAgICAgICAgICAgICAgcDogJzAuNXJlbScsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgfSwgY2hpbGRyZW46IFtyZW5kZXJCb3R0b21Ub29sYmFyQ3VzdG9tQWN0aW9ucyA/IChyZW5kZXJCb3R0b21Ub29sYmFyQ3VzdG9tQWN0aW9ucyh7IHRhYmxlIH0pKSA6IChqc3goXCJzcGFuXCIsIHt9KSksIGpzeChCb3gsIHsgc3g6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHN0YWNrQWxlcnRCYW5uZXIgPyAncmVsYXRpdmUnIDogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBjaGlsZHJlbjogZW5hYmxlUGFnaW5hdGlvbiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnYm90aCcsICdib3R0b20nXS5pbmNsdWRlcyhwb3NpdGlvblBhZ2luYXRpb24gIT09IG51bGwgJiYgcG9zaXRpb25QYWdpbmF0aW9uICE9PSB2b2lkIDAgPyBwb3NpdGlvblBhZ2luYXRpb24gOiAnJykgJiYgKGpzeChNUlRfVGFibGVQYWdpbmF0aW9uLCB7IHBvc2l0aW9uOiBcImJvdHRvbVwiLCB0YWJsZTogdGFibGUgfSkpIH0pXSB9KV0gfSkpKTtcbn07XG5cbmNvbnN0IE1SVF9Db2x1bW5QaW5uaW5nQnV0dG9ucyA9IChfYSkgPT4ge1xuICAgIHZhciB7IGNvbHVtbiwgdGFibGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJjb2x1bW5cIiwgXCJ0YWJsZVwiXSk7XG4gICAgY29uc3QgeyBvcHRpb25zOiB7IGljb25zOiB7IFB1c2hQaW5JY29uIH0sIGxvY2FsaXphdGlvbiwgfSwgfSA9IHRhYmxlO1xuICAgIGNvbnN0IGhhbmRsZVBpbkNvbHVtbiA9IChwaW5EaXJlY3Rpb24pID0+IHtcbiAgICAgICAgY29sdW1uLnBpbihwaW5EaXJlY3Rpb24pO1xuICAgIH07XG4gICAgcmV0dXJuIChqc3goQm94LCBPYmplY3QuYXNzaWduKHt9LCByZXN0LCB7IHN4OiAodGhlbWUpID0+IChPYmplY3QuYXNzaWduKHsgbWluV2lkdGg6ICc3MHB4JywgdGV4dEFsaWduOiAnY2VudGVyJyB9LCBwYXJzZUZyb21WYWx1ZXNPckZ1bmMocmVzdCA9PT0gbnVsbCB8fCByZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXN0LnN4LCB0aGVtZSkpKSwgY2hpbGRyZW46IGNvbHVtbi5nZXRJc1Bpbm5lZCgpID8gKGpzeChUb29sdGlwLCB7IHRpdGxlOiBsb2NhbGl6YXRpb24udW5waW4sIGNoaWxkcmVuOiBqc3goSWNvbkJ1dHRvbiwgeyBvbkNsaWNrOiAoKSA9PiBoYW5kbGVQaW5Db2x1bW4oZmFsc2UpLCBzaXplOiBcInNtYWxsXCIsIGNoaWxkcmVuOiBqc3goUHVzaFBpbkljb24sIHt9KSB9KSB9KSkgOiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW2pzeChUb29sdGlwLCB7IHRpdGxlOiBsb2NhbGl6YXRpb24ucGluVG9MZWZ0LCBjaGlsZHJlbjoganN4KEljb25CdXR0b24sIHsgb25DbGljazogKCkgPT4gaGFuZGxlUGluQ29sdW1uKCdsZWZ0JyksIHNpemU6IFwic21hbGxcIiwgY2hpbGRyZW46IGpzeChQdXNoUGluSWNvbiwgeyBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICdyb3RhdGUoOTBkZWcpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0pIH0pIH0pLCBqc3goVG9vbHRpcCwgeyB0aXRsZTogbG9jYWxpemF0aW9uLnBpblRvUmlnaHQsIGNoaWxkcmVuOiBqc3goSWNvbkJ1dHRvbiwgeyBvbkNsaWNrOiAoKSA9PiBoYW5kbGVQaW5Db2x1bW4oJ3JpZ2h0JyksIHNpemU6IFwic21hbGxcIiwgY2hpbGRyZW46IGpzeChQdXNoUGluSWNvbiwgeyBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICdyb3RhdGUoLTkwZGVnKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9KSB9KSB9KV0gfSkpIH0pKSk7XG59O1xuXG5jb25zdCBNUlRfU2hvd0hpZGVDb2x1bW5zTWVudUl0ZW1zID0gKF9hKSA9PiB7XG4gICAgdmFyIF9iO1xuICAgIHZhciB7IGFsbENvbHVtbnMsIGNvbHVtbiwgaG92ZXJlZENvbHVtbiwgc2V0SG92ZXJlZENvbHVtbiwgdGFibGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJhbGxDb2x1bW5zXCIsIFwiY29sdW1uXCIsIFwiaG92ZXJlZENvbHVtblwiLCBcInNldEhvdmVyZWRDb2x1bW5cIiwgXCJ0YWJsZVwiXSk7XG4gICAgY29uc3QgeyBnZXRTdGF0ZSwgb3B0aW9uczogeyBlbmFibGVDb2x1bW5PcmRlcmluZywgZW5hYmxlQ29sdW1uUGlubmluZywgZW5hYmxlSGlkaW5nLCBsb2NhbGl6YXRpb24sIH0sIHNldENvbHVtbk9yZGVyLCB9ID0gdGFibGU7XG4gICAgY29uc3QgeyBjb2x1bW5PcmRlciB9ID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCB7IGNvbHVtbkRlZiB9ID0gY29sdW1uO1xuICAgIGNvbnN0IHsgY29sdW1uRGVmVHlwZSB9ID0gY29sdW1uRGVmO1xuICAgIGNvbnN0IHN3aXRjaENoZWNrZWQgPSAoY29sdW1uRGVmVHlwZSAhPT0gJ2dyb3VwJyAmJiBjb2x1bW4uZ2V0SXNWaXNpYmxlKCkpIHx8XG4gICAgICAgIChjb2x1bW5EZWZUeXBlID09PSAnZ3JvdXAnICYmXG4gICAgICAgICAgICBjb2x1bW4uZ2V0TGVhZkNvbHVtbnMoKS5zb21lKChjb2wpID0+IGNvbC5nZXRJc1Zpc2libGUoKSkpO1xuICAgIGNvbnN0IGhhbmRsZVRvZ2dsZUNvbHVtbkhpZGRlbiA9IChjb2x1bW4pID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKGNvbHVtbkRlZlR5cGUgPT09ICdncm91cCcpIHtcbiAgICAgICAgICAgIChfYiA9IChfYSA9IGNvbHVtbiA9PT0gbnVsbCB8fCBjb2x1bW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbHVtbi5jb2x1bW5zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yRWFjaCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsIChjaGlsZENvbHVtbikgPT4ge1xuICAgICAgICAgICAgICAgIGNoaWxkQ29sdW1uLnRvZ2dsZVZpc2liaWxpdHkoIXN3aXRjaENoZWNrZWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb2x1bW4udG9nZ2xlVmlzaWJpbGl0eSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBtZW51SXRlbVJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCBbaXNEcmFnZ2luZywgc2V0SXNEcmFnZ2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgaGFuZGxlRHJhZ1N0YXJ0ID0gKGUpID0+IHtcbiAgICAgICAgc2V0SXNEcmFnZ2luZyh0cnVlKTtcbiAgICAgICAgZS5kYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlKG1lbnVJdGVtUmVmLmN1cnJlbnQsIDAsIDApO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlRHJhZ0VuZCA9IChfZSkgPT4ge1xuICAgICAgICBzZXRJc0RyYWdnaW5nKGZhbHNlKTtcbiAgICAgICAgc2V0SG92ZXJlZENvbHVtbihudWxsKTtcbiAgICAgICAgaWYgKGhvdmVyZWRDb2x1bW4pIHtcbiAgICAgICAgICAgIHNldENvbHVtbk9yZGVyKHJlb3JkZXJDb2x1bW4oY29sdW1uLCBob3ZlcmVkQ29sdW1uLCBjb2x1bW5PcmRlcikpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVEcmFnRW50ZXIgPSAoX2UpID0+IHtcbiAgICAgICAgaWYgKCFpc0RyYWdnaW5nICYmIGNvbHVtbkRlZi5lbmFibGVDb2x1bW5PcmRlcmluZyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHNldEhvdmVyZWRDb2x1bW4oY29sdW1uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgaWYgKCFjb2x1bW5EZWYuaGVhZGVyKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtqc3goTWVudUl0ZW0sIE9iamVjdC5hc3NpZ24oeyBkaXNhYmxlUmlwcGxlOiB0cnVlLCBvbkRyYWdFbnRlcjogaGFuZGxlRHJhZ0VudGVyLCByZWY6IG1lbnVJdGVtUmVmIH0sIHJlc3QsIHsgc3g6ICh0aGVtZSkgPT4gKE9iamVjdC5hc3NpZ24oeyBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeUNvbnRlbnQ6ICdmbGV4LXN0YXJ0JywgbXk6IDAsIG9wYWNpdHk6IGlzRHJhZ2dpbmcgPyAwLjUgOiAxLCBvdXRsaW5lOiBpc0RyYWdnaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGAycHggZGFzaGVkICR7dGhlbWUucGFsZXR0ZS5ncmV5WzUwMF19YFxuICAgICAgICAgICAgICAgICAgICAgICAgOiAoaG92ZXJlZENvbHVtbiA9PT0gbnVsbCB8fCBob3ZlcmVkQ29sdW1uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBob3ZlcmVkQ29sdW1uLmlkKSA9PT0gY29sdW1uLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgMnB4IGRhc2hlZCAke2dldE1SVFRoZW1lKHRhYmxlLCB0aGVtZSkuZHJhZ2dpbmdCb3JkZXJDb2xvcn1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnbm9uZScsIG91dGxpbmVPZmZzZXQ6ICctMnB4JywgcGw6IGAkeyhjb2x1bW4uZGVwdGggKyAwLjUpICogMn1yZW1gLCBweTogJzZweCcgfSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKHJlc3QgPT09IG51bGwgfHwgcmVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzdC5zeCwgdGhlbWUpKSksIGNoaWxkcmVuOiBqc3hzKEJveCwgeyBzeDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleFdyYXA6ICdub3dyYXAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiAnOHB4JyxcbiAgICAgICAgICAgICAgICAgICAgfSwgY2hpbGRyZW46IFtjb2x1bW5EZWZUeXBlICE9PSAnZ3JvdXAnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlQ29sdW1uT3JkZXJpbmcgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhYWxsQ29sdW1ucy5zb21lKChjb2wpID0+IGNvbC5jb2x1bW5EZWYuY29sdW1uRGVmVHlwZSA9PT0gJ2dyb3VwJykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY29sdW1uRGVmLmVuYWJsZUNvbHVtbk9yZGVyaW5nICE9PSBmYWxzZSA/IChqc3goTVJUX0dyYWJIYW5kbGVCdXR0b24sIHsgb25EcmFnRW5kOiBoYW5kbGVEcmFnRW5kLCBvbkRyYWdTdGFydDogaGFuZGxlRHJhZ1N0YXJ0LCB0YWJsZTogdGFibGUgfSkpIDogKGpzeChCb3gsIHsgc3g6IHsgd2lkdGg6ICcyOHB4JyB9IH0pKSksIGVuYWJsZUNvbHVtblBpbm5pbmcgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY29sdW1uLmdldENhblBpbigpID8gKGpzeChNUlRfQ29sdW1uUGlubmluZ0J1dHRvbnMsIHsgY29sdW1uOiBjb2x1bW4sIHRhYmxlOiB0YWJsZSB9KSkgOiAoanN4KEJveCwgeyBzeDogeyB3aWR0aDogJzcwcHgnIH0gfSkpKSwgZW5hYmxlSGlkaW5nID8gKGpzeChGb3JtQ29udHJvbExhYmVsLCB7IGNoZWNrZWQ6IHN3aXRjaENoZWNrZWQsIGNvbXBvbmVudHNQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBvZ3JhcGh5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1iOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IGNvbHVtbkRlZlR5cGUgIT09ICdkaXNwbGF5JyA/IDEgOiAwLjUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGNvbnRyb2w6IGpzeChUb29sdGlwLCB7IGVudGVyRGVsYXk6IDEwMDAsIGVudGVyTmV4dERlbGF5OiAxMDAwLCB0aXRsZTogbG9jYWxpemF0aW9uLnRvZ2dsZVZpc2liaWxpdHksIGNoaWxkcmVuOiBqc3goU3dpdGNoLCB7fSkgfSksIGRpc2FibGVkOiAhY29sdW1uLmdldENhbkhpZGUoKSwgbGFiZWw6IGNvbHVtbkRlZi5oZWFkZXIsIG9uQ2hhbmdlOiAoKSA9PiBoYW5kbGVUb2dnbGVDb2x1bW5IaWRkZW4oY29sdW1uKSB9KSkgOiAoanN4KFR5cG9ncmFwaHksIHsgc3g6IHsgYWxpZ25TZWxmOiAnY2VudGVyJyB9LCBjaGlsZHJlbjogY29sdW1uRGVmLmhlYWRlciB9KSldIH0pIH0pKSwgKF9iID0gY29sdW1uLmNvbHVtbnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5tYXAoKGMsIGkpID0+IChqc3goTVJUX1Nob3dIaWRlQ29sdW1uc01lbnVJdGVtcywgeyBhbGxDb2x1bW5zOiBhbGxDb2x1bW5zLCBjb2x1bW46IGMsIGhvdmVyZWRDb2x1bW46IGhvdmVyZWRDb2x1bW4sIHNldEhvdmVyZWRDb2x1bW46IHNldEhvdmVyZWRDb2x1bW4sIHRhYmxlOiB0YWJsZSB9LCBgJHtpfS0ke2MuaWR9YCkpKV0gfSkpO1xufTtcblxuY29uc3QgTVJUX1Nob3dIaWRlQ29sdW1uc01lbnUgPSAoX2EpID0+IHtcbiAgICB2YXIgeyBhbmNob3JFbCwgc2V0QW5jaG9yRWwsIHRhYmxlIH0gPSBfYSwgcmVzdCA9IF9fcmVzdChfYSwgW1wiYW5jaG9yRWxcIiwgXCJzZXRBbmNob3JFbFwiLCBcInRhYmxlXCJdKTtcbiAgICBjb25zdCB7IGdldEFsbENvbHVtbnMsIGdldEFsbExlYWZDb2x1bW5zLCBnZXRDZW50ZXJMZWFmQ29sdW1ucywgZ2V0SXNBbGxDb2x1bW5zVmlzaWJsZSwgZ2V0SXNTb21lQ29sdW1uc1Bpbm5lZCwgZ2V0SXNTb21lQ29sdW1uc1Zpc2libGUsIGdldExlZnRMZWFmQ29sdW1ucywgZ2V0UmlnaHRMZWFmQ29sdW1ucywgZ2V0U3RhdGUsIG9wdGlvbnM6IHsgZW5hYmxlQ29sdW1uT3JkZXJpbmcsIGVuYWJsZUNvbHVtblBpbm5pbmcsIGVuYWJsZUhpZGluZywgbG9jYWxpemF0aW9uLCB9LCB0b2dnbGVBbGxDb2x1bW5zVmlzaWJsZSwgfSA9IHRhYmxlO1xuICAgIGNvbnN0IHsgY29sdW1uT3JkZXIsIGNvbHVtblBpbm5pbmcsIGRlbnNpdHkgfSA9IGdldFN0YXRlKCk7XG4gICAgY29uc3QgaGlkZUFsbENvbHVtbnMgPSAoKSA9PiB7XG4gICAgICAgIGdldEFsbExlYWZDb2x1bW5zKClcbiAgICAgICAgICAgIC5maWx0ZXIoKGNvbCkgPT4gY29sLmNvbHVtbkRlZi5lbmFibGVIaWRpbmcgIT09IGZhbHNlKVxuICAgICAgICAgICAgLmZvckVhY2goKGNvbCkgPT4gY29sLnRvZ2dsZVZpc2liaWxpdHkoZmFsc2UpKTtcbiAgICB9O1xuICAgIGNvbnN0IGFsbENvbHVtbnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgY29uc3QgY29sdW1ucyA9IGdldEFsbENvbHVtbnMoKTtcbiAgICAgICAgaWYgKGNvbHVtbk9yZGVyLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICFjb2x1bW5zLnNvbWUoKGNvbCkgPT4gY29sLmNvbHVtbkRlZi5jb2x1bW5EZWZUeXBlID09PSAnZ3JvdXAnKSkge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAuLi5nZXRMZWZ0TGVhZkNvbHVtbnMoKSxcbiAgICAgICAgICAgICAgICAuLi5BcnJheS5mcm9tKG5ldyBTZXQoY29sdW1uT3JkZXIpKS5tYXAoKGNvbElkKSA9PiBnZXRDZW50ZXJMZWFmQ29sdW1ucygpLmZpbmQoKGNvbCkgPT4gKGNvbCA9PT0gbnVsbCB8fCBjb2wgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbC5pZCkgPT09IGNvbElkKSksXG4gICAgICAgICAgICAgICAgLi4uZ2V0UmlnaHRMZWFmQ29sdW1ucygpLFxuICAgICAgICAgICAgXS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbHVtbnM7XG4gICAgfSwgW1xuICAgICAgICBjb2x1bW5PcmRlcixcbiAgICAgICAgY29sdW1uUGlubmluZyxcbiAgICAgICAgZ2V0QWxsQ29sdW1ucygpLFxuICAgICAgICBnZXRDZW50ZXJMZWFmQ29sdW1ucygpLFxuICAgICAgICBnZXRMZWZ0TGVhZkNvbHVtbnMoKSxcbiAgICAgICAgZ2V0UmlnaHRMZWFmQ29sdW1ucygpLFxuICAgIF0pO1xuICAgIGNvbnN0IFtob3ZlcmVkQ29sdW1uLCBzZXRIb3ZlcmVkQ29sdW1uXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIHJldHVybiAoanN4cyhNZW51LCBPYmplY3QuYXNzaWduKHsgTWVudUxpc3RQcm9wczoge1xuICAgICAgICAgICAgZGVuc2U6IGRlbnNpdHkgPT09ICdjb21wYWN0JyxcbiAgICAgICAgfSwgYW5jaG9yRWw6IGFuY2hvckVsLCBvbkNsb3NlOiAoKSA9PiBzZXRBbmNob3JFbChudWxsKSwgb3BlbjogISFhbmNob3JFbCB9LCByZXN0LCB7IGNoaWxkcmVuOiBbanN4cyhCb3gsIHsgc3g6IHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgICAgICAgICAgICAgICBwOiAnMC41cmVtJyxcbiAgICAgICAgICAgICAgICAgICAgcHQ6IDAsXG4gICAgICAgICAgICAgICAgfSwgY2hpbGRyZW46IFtlbmFibGVIaWRpbmcgJiYgKGpzeChCdXR0b24sIHsgZGlzYWJsZWQ6ICFnZXRJc1NvbWVDb2x1bW5zVmlzaWJsZSgpLCBvbkNsaWNrOiBoaWRlQWxsQ29sdW1ucywgY2hpbGRyZW46IGxvY2FsaXphdGlvbi5oaWRlQWxsIH0pKSwgZW5hYmxlQ29sdW1uT3JkZXJpbmcgJiYgKGpzeChCdXR0b24sIHsgb25DbGljazogKCkgPT4gdGFibGUuc2V0Q29sdW1uT3JkZXIoZ2V0RGVmYXVsdENvbHVtbk9yZGVySWRzKHRhYmxlLm9wdGlvbnMpKSwgY2hpbGRyZW46IGxvY2FsaXphdGlvbi5yZXNldE9yZGVyIH0pKSwgZW5hYmxlQ29sdW1uUGlubmluZyAmJiAoanN4KEJ1dHRvbiwgeyBkaXNhYmxlZDogIWdldElzU29tZUNvbHVtbnNQaW5uZWQoKSwgb25DbGljazogKCkgPT4gdGFibGUucmVzZXRDb2x1bW5QaW5uaW5nKHRydWUpLCBjaGlsZHJlbjogbG9jYWxpemF0aW9uLnVucGluQWxsIH0pKSwgZW5hYmxlSGlkaW5nICYmIChqc3goQnV0dG9uLCB7IGRpc2FibGVkOiBnZXRJc0FsbENvbHVtbnNWaXNpYmxlKCksIG9uQ2xpY2s6ICgpID0+IHRvZ2dsZUFsbENvbHVtbnNWaXNpYmxlKHRydWUpLCBjaGlsZHJlbjogbG9jYWxpemF0aW9uLnNob3dBbGwgfSkpXSB9KSwganN4KERpdmlkZXIsIHt9KSwgYWxsQ29sdW1ucy5tYXAoKGNvbHVtbiwgaW5kZXgpID0+IChqc3goTVJUX1Nob3dIaWRlQ29sdW1uc01lbnVJdGVtcywgeyBhbGxDb2x1bW5zOiBhbGxDb2x1bW5zLCBjb2x1bW46IGNvbHVtbiwgaG92ZXJlZENvbHVtbjogaG92ZXJlZENvbHVtbiwgc2V0SG92ZXJlZENvbHVtbjogc2V0SG92ZXJlZENvbHVtbiwgdGFibGU6IHRhYmxlIH0sIGAke2luZGV4fS0ke2NvbHVtbi5pZH1gKSkpXSB9KSkpO1xufTtcblxuY29uc3QgTVJUX1Nob3dIaWRlQ29sdW1uc0J1dHRvbiA9IChfYSkgPT4ge1xuICAgIHZhciBfYjtcbiAgICB2YXIgeyB0YWJsZSB9ID0gX2EsIHJlc3QgPSBfX3Jlc3QoX2EsIFtcInRhYmxlXCJdKTtcbiAgICBjb25zdCB7IG9wdGlvbnM6IHsgaWNvbnM6IHsgVmlld0NvbHVtbkljb24gfSwgbG9jYWxpemF0aW9uLCB9LCB9ID0gdGFibGU7XG4gICAgY29uc3QgW2FuY2hvckVsLCBzZXRBbmNob3JFbF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IChldmVudCkgPT4ge1xuICAgICAgICBzZXRBbmNob3JFbChldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICB9O1xuICAgIHJldHVybiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW2pzeChUb29sdGlwLCB7IHRpdGxlOiAoX2IgPSByZXN0ID09PSBudWxsIHx8IHJlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3QudGl0bGUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGxvY2FsaXphdGlvbi5zaG93SGlkZUNvbHVtbnMsIGNoaWxkcmVuOiBqc3goSWNvbkJ1dHRvbiwgT2JqZWN0LmFzc2lnbih7IFwiYXJpYS1sYWJlbFwiOiBsb2NhbGl6YXRpb24uc2hvd0hpZGVDb2x1bW5zLCBvbkNsaWNrOiBoYW5kbGVDbGljayB9LCByZXN0LCB7IHRpdGxlOiB1bmRlZmluZWQsIGNoaWxkcmVuOiBqc3goVmlld0NvbHVtbkljb24sIHt9KSB9KSkgfSksIGFuY2hvckVsICYmIChqc3goTVJUX1Nob3dIaWRlQ29sdW1uc01lbnUsIHsgYW5jaG9yRWw6IGFuY2hvckVsLCBzZXRBbmNob3JFbDogc2V0QW5jaG9yRWwsIHRhYmxlOiB0YWJsZSB9KSldIH0pKTtcbn07XG5cbmNvbnN0IE1SVF9Ub2dnbGVEZW5zZVBhZGRpbmdCdXR0b24gPSAoX2EpID0+IHtcbiAgICB2YXIgX2I7XG4gICAgdmFyIHsgdGFibGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJ0YWJsZVwiXSk7XG4gICAgY29uc3QgeyBnZXRTdGF0ZSwgb3B0aW9uczogeyBpY29uczogeyBEZW5zaXR5TGFyZ2VJY29uLCBEZW5zaXR5TWVkaXVtSWNvbiwgRGVuc2l0eVNtYWxsSWNvbiB9LCBsb2NhbGl6YXRpb24sIH0sIHNldERlbnNpdHksIH0gPSB0YWJsZTtcbiAgICBjb25zdCB7IGRlbnNpdHkgfSA9IGdldFN0YXRlKCk7XG4gICAgY29uc3QgaGFuZGxlVG9nZ2xlRGVuc2VQYWRkaW5nID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXh0RGVuc2l0eSA9IGRlbnNpdHkgPT09ICdjb21mb3J0YWJsZSdcbiAgICAgICAgICAgID8gJ2NvbXBhY3QnXG4gICAgICAgICAgICA6IGRlbnNpdHkgPT09ICdjb21wYWN0J1xuICAgICAgICAgICAgICAgID8gJ3NwYWNpb3VzJ1xuICAgICAgICAgICAgICAgIDogJ2NvbWZvcnRhYmxlJztcbiAgICAgICAgc2V0RGVuc2l0eShuZXh0RGVuc2l0eSk7XG4gICAgfTtcbiAgICByZXR1cm4gKGpzeChUb29sdGlwLCB7IHRpdGxlOiAoX2IgPSByZXN0ID09PSBudWxsIHx8IHJlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3QudGl0bGUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGxvY2FsaXphdGlvbi50b2dnbGVEZW5zaXR5LCBjaGlsZHJlbjoganN4KEljb25CdXR0b24sIE9iamVjdC5hc3NpZ24oeyBcImFyaWEtbGFiZWxcIjogbG9jYWxpemF0aW9uLnRvZ2dsZURlbnNpdHksIG9uQ2xpY2s6IGhhbmRsZVRvZ2dsZURlbnNlUGFkZGluZyB9LCByZXN0LCB7IHRpdGxlOiB1bmRlZmluZWQsIGNoaWxkcmVuOiBkZW5zaXR5ID09PSAnY29tcGFjdCcgPyAoanN4KERlbnNpdHlTbWFsbEljb24sIHt9KSkgOiBkZW5zaXR5ID09PSAnY29tZm9ydGFibGUnID8gKGpzeChEZW5zaXR5TWVkaXVtSWNvbiwge30pKSA6IChqc3goRGVuc2l0eUxhcmdlSWNvbiwge30pKSB9KSkgfSkpO1xufTtcblxuY29uc3QgTVJUX1RvZ2dsZUZpbHRlcnNCdXR0b24gPSAoX2EpID0+IHtcbiAgICB2YXIgX2I7XG4gICAgdmFyIHsgdGFibGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJ0YWJsZVwiXSk7XG4gICAgY29uc3QgeyBnZXRTdGF0ZSwgb3B0aW9uczogeyBpY29uczogeyBGaWx0ZXJMaXN0SWNvbiwgRmlsdGVyTGlzdE9mZkljb24gfSwgbG9jYWxpemF0aW9uLCB9LCBzZXRTaG93Q29sdW1uRmlsdGVycywgfSA9IHRhYmxlO1xuICAgIGNvbnN0IHsgc2hvd0NvbHVtbkZpbHRlcnMgfSA9IGdldFN0YXRlKCk7XG4gICAgY29uc3QgaGFuZGxlVG9nZ2xlU2hvd0ZpbHRlcnMgPSAoKSA9PiB7XG4gICAgICAgIHNldFNob3dDb2x1bW5GaWx0ZXJzKCFzaG93Q29sdW1uRmlsdGVycyk7XG4gICAgfTtcbiAgICByZXR1cm4gKGpzeChUb29sdGlwLCB7IHRpdGxlOiAoX2IgPSByZXN0ID09PSBudWxsIHx8IHJlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3QudGl0bGUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGxvY2FsaXphdGlvbi5zaG93SGlkZUZpbHRlcnMsIGNoaWxkcmVuOiBqc3goSWNvbkJ1dHRvbiwgT2JqZWN0LmFzc2lnbih7IFwiYXJpYS1sYWJlbFwiOiBsb2NhbGl6YXRpb24uc2hvd0hpZGVGaWx0ZXJzLCBvbkNsaWNrOiBoYW5kbGVUb2dnbGVTaG93RmlsdGVycyB9LCByZXN0LCB7IHRpdGxlOiB1bmRlZmluZWQsIGNoaWxkcmVuOiBzaG93Q29sdW1uRmlsdGVycyA/IGpzeChGaWx0ZXJMaXN0T2ZmSWNvbiwge30pIDoganN4KEZpbHRlckxpc3RJY29uLCB7fSkgfSkpIH0pKTtcbn07XG5cbmNvbnN0IE1SVF9Ub2dnbGVGdWxsU2NyZWVuQnV0dG9uID0gKF9hKSA9PiB7XG4gICAgdmFyIF9iO1xuICAgIHZhciB7IHRhYmxlIH0gPSBfYSwgcmVzdCA9IF9fcmVzdChfYSwgW1widGFibGVcIl0pO1xuICAgIGNvbnN0IHsgZ2V0U3RhdGUsIG9wdGlvbnM6IHsgaWNvbnM6IHsgRnVsbHNjcmVlbkV4aXRJY29uLCBGdWxsc2NyZWVuSWNvbiB9LCBsb2NhbGl6YXRpb24sIH0sIHNldElzRnVsbFNjcmVlbiwgfSA9IHRhYmxlO1xuICAgIGNvbnN0IHsgaXNGdWxsU2NyZWVuIH0gPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IFt0b29sdGlwT3BlbmVkLCBzZXRUb29sdGlwT3BlbmVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBoYW5kbGVUb2dnbGVGdWxsU2NyZWVuID0gKCkgPT4ge1xuICAgICAgICBzZXRUb29sdGlwT3BlbmVkKGZhbHNlKTtcbiAgICAgICAgc2V0SXNGdWxsU2NyZWVuKCFpc0Z1bGxTY3JlZW4pO1xuICAgIH07XG4gICAgcmV0dXJuIChqc3goVG9vbHRpcCwgeyBvcGVuOiB0b29sdGlwT3BlbmVkLCB0aXRsZTogKF9iID0gcmVzdCA9PT0gbnVsbCB8fCByZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXN0LnRpdGxlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBsb2NhbGl6YXRpb24udG9nZ2xlRnVsbFNjcmVlbiwgY2hpbGRyZW46IGpzeChJY29uQnV0dG9uLCBPYmplY3QuYXNzaWduKHsgXCJhcmlhLWxhYmVsXCI6IGxvY2FsaXphdGlvbi50b2dnbGVGdWxsU2NyZWVuLCBvbkNsaWNrOiBoYW5kbGVUb2dnbGVGdWxsU2NyZWVuLCBvbk1vdXNlRW50ZXI6ICgpID0+IHNldFRvb2x0aXBPcGVuZWQodHJ1ZSksIG9uTW91c2VMZWF2ZTogKCkgPT4gc2V0VG9vbHRpcE9wZW5lZChmYWxzZSkgfSwgcmVzdCwgeyB0aXRsZTogdW5kZWZpbmVkLCBjaGlsZHJlbjogaXNGdWxsU2NyZWVuID8ganN4KEZ1bGxzY3JlZW5FeGl0SWNvbiwge30pIDoganN4KEZ1bGxzY3JlZW5JY29uLCB7fSkgfSkpIH0pKTtcbn07XG5cbmNvbnN0IE1SVF9Ub2dnbGVHbG9iYWxGaWx0ZXJCdXR0b24gPSAoX2EpID0+IHtcbiAgICB2YXIgX2IsIF9jO1xuICAgIHZhciB7IHRhYmxlIH0gPSBfYSwgcmVzdCA9IF9fcmVzdChfYSwgW1widGFibGVcIl0pO1xuICAgIGNvbnN0IHsgZ2V0U3RhdGUsIG9wdGlvbnM6IHsgaWNvbnM6IHsgU2VhcmNoSWNvbiwgU2VhcmNoT2ZmSWNvbiB9LCBsb2NhbGl6YXRpb24sIH0sIHJlZnM6IHsgc2VhcmNoSW5wdXRSZWYgfSwgc2V0U2hvd0dsb2JhbEZpbHRlciwgfSA9IHRhYmxlO1xuICAgIGNvbnN0IHsgZ2xvYmFsRmlsdGVyLCBzaG93R2xvYmFsRmlsdGVyIH0gPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGhhbmRsZVRvZ2dsZVNlYXJjaCA9ICgpID0+IHtcbiAgICAgICAgc2V0U2hvd0dsb2JhbEZpbHRlcighc2hvd0dsb2JhbEZpbHRlcik7XG4gICAgICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gc2VhcmNoSW5wdXRSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzKCk7IH0pO1xuICAgIH07XG4gICAgcmV0dXJuIChqc3goVG9vbHRpcCwgeyB0aXRsZTogKF9iID0gcmVzdCA9PT0gbnVsbCB8fCByZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXN0LnRpdGxlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBsb2NhbGl6YXRpb24uc2hvd0hpZGVTZWFyY2gsIGNoaWxkcmVuOiBqc3goSWNvbkJ1dHRvbiwgT2JqZWN0LmFzc2lnbih7IFwiYXJpYS1sYWJlbFwiOiAoX2MgPSByZXN0ID09PSBudWxsIHx8IHJlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3QudGl0bGUpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGxvY2FsaXphdGlvbi5zaG93SGlkZVNlYXJjaCwgZGlzYWJsZWQ6ICEhZ2xvYmFsRmlsdGVyLCBvbkNsaWNrOiBoYW5kbGVUb2dnbGVTZWFyY2ggfSwgcmVzdCwgeyB0aXRsZTogdW5kZWZpbmVkLCBjaGlsZHJlbjogc2hvd0dsb2JhbEZpbHRlciA/IGpzeChTZWFyY2hPZmZJY29uLCB7fSkgOiBqc3goU2VhcmNoSWNvbiwge30pIH0pKSB9KSk7XG59O1xuXG5jb25zdCBNUlRfVG9vbGJhckludGVybmFsQnV0dG9ucyA9IChfYSkgPT4ge1xuICAgIHZhciBfYjtcbiAgICB2YXIgeyB0YWJsZSB9ID0gX2EsIHJlc3QgPSBfX3Jlc3QoX2EsIFtcInRhYmxlXCJdKTtcbiAgICBjb25zdCB7IG9wdGlvbnM6IHsgY29sdW1uRmlsdGVyRGlzcGxheU1vZGUsIGVuYWJsZUNvbHVtbkZpbHRlcnMsIGVuYWJsZUNvbHVtbk9yZGVyaW5nLCBlbmFibGVDb2x1bW5QaW5uaW5nLCBlbmFibGVEZW5zaXR5VG9nZ2xlLCBlbmFibGVGaWx0ZXJzLCBlbmFibGVGdWxsU2NyZWVuVG9nZ2xlLCBlbmFibGVHbG9iYWxGaWx0ZXIsIGVuYWJsZUhpZGluZywgaW5pdGlhbFN0YXRlLCByZW5kZXJUb29sYmFySW50ZXJuYWxBY3Rpb25zLCB9LCB9ID0gdGFibGU7XG4gICAgcmV0dXJuIChqc3goQm94LCBPYmplY3QuYXNzaWduKHt9LCByZXN0LCB7IHN4OiAodGhlbWUpID0+IChPYmplY3QuYXNzaWduKHsgYWxpZ25JdGVtczogJ2NlbnRlcicsIGRpc3BsYXk6ICdmbGV4JywgekluZGV4OiAzIH0sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhyZXN0ID09PSBudWxsIHx8IHJlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3Quc3gsIHRoZW1lKSkpLCBjaGlsZHJlbjogKF9iID0gcmVuZGVyVG9vbGJhckludGVybmFsQWN0aW9ucyA9PT0gbnVsbCB8fCByZW5kZXJUb29sYmFySW50ZXJuYWxBY3Rpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZW5kZXJUb29sYmFySW50ZXJuYWxBY3Rpb25zKHtcbiAgICAgICAgICAgIHRhYmxlLFxuICAgICAgICB9KSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtlbmFibGVGaWx0ZXJzICYmXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZUdsb2JhbEZpbHRlciAmJlxuICAgICAgICAgICAgICAgICAgICAhKGluaXRpYWxTdGF0ZSA9PT0gbnVsbCB8fCBpbml0aWFsU3RhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluaXRpYWxTdGF0ZS5zaG93R2xvYmFsRmlsdGVyKSAmJiAoanN4KE1SVF9Ub2dnbGVHbG9iYWxGaWx0ZXJCdXR0b24sIHsgdGFibGU6IHRhYmxlIH0pKSwgZW5hYmxlRmlsdGVycyAmJlxuICAgICAgICAgICAgICAgICAgICBlbmFibGVDb2x1bW5GaWx0ZXJzICYmXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbkZpbHRlckRpc3BsYXlNb2RlICE9PSAncG9wb3ZlcicgJiYgKGpzeChNUlRfVG9nZ2xlRmlsdGVyc0J1dHRvbiwgeyB0YWJsZTogdGFibGUgfSkpLCAoZW5hYmxlSGlkaW5nIHx8IGVuYWJsZUNvbHVtbk9yZGVyaW5nIHx8IGVuYWJsZUNvbHVtblBpbm5pbmcpICYmIChqc3goTVJUX1Nob3dIaWRlQ29sdW1uc0J1dHRvbiwgeyB0YWJsZTogdGFibGUgfSkpLCBlbmFibGVEZW5zaXR5VG9nZ2xlICYmIChqc3goTVJUX1RvZ2dsZURlbnNlUGFkZGluZ0J1dHRvbiwgeyB0YWJsZTogdGFibGUgfSkpLCBlbmFibGVGdWxsU2NyZWVuVG9nZ2xlICYmIChqc3goTVJUX1RvZ2dsZUZ1bGxTY3JlZW5CdXR0b24sIHsgdGFibGU6IHRhYmxlIH0pKV0gfSkpIH0pKSk7XG59O1xuXG5jb25zdCBNUlRfVG9wVG9vbGJhciA9ICh7IHRhYmxlLCB9KSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHsgZ2V0U3RhdGUsIG9wdGlvbnM6IHsgZW5hYmxlR2xvYmFsRmlsdGVyLCBlbmFibGVQYWdpbmF0aW9uLCBlbmFibGVUb29sYmFySW50ZXJuYWxBY3Rpb25zLCBtdWlUb3BUb29sYmFyUHJvcHMsIHBvc2l0aW9uR2xvYmFsRmlsdGVyLCBwb3NpdGlvblBhZ2luYXRpb24sIHBvc2l0aW9uVG9vbGJhckFsZXJ0QmFubmVyLCBwb3NpdGlvblRvb2xiYXJEcm9wWm9uZSwgcmVuZGVyVG9wVG9vbGJhckN1c3RvbUFjdGlvbnMsIH0sIHJlZnM6IHsgdG9wVG9vbGJhclJlZiB9LCB9ID0gdGFibGU7XG4gICAgY29uc3QgeyBpc0Z1bGxTY3JlZW4sIHNob3dHbG9iYWxGaWx0ZXIgfSA9IGdldFN0YXRlKCk7XG4gICAgY29uc3QgaXNNb2JpbGUgPSB1c2VNZWRpYVF1ZXJ5KCcobWF4LXdpZHRoOjcyMHB4KScpO1xuICAgIGNvbnN0IHRvb2xiYXJQcm9wcyA9IHBhcnNlRnJvbVZhbHVlc09yRnVuYyhtdWlUb3BUb29sYmFyUHJvcHMsIHsgdGFibGUgfSk7XG4gICAgY29uc3Qgc3RhY2tBbGVydEJhbm5lciA9IGlzTW9iaWxlIHx8ICEhcmVuZGVyVG9wVG9vbGJhckN1c3RvbUFjdGlvbnMgfHwgc2hvd0dsb2JhbEZpbHRlcjtcbiAgICByZXR1cm4gKGpzeHMoQm94LCBPYmplY3QuYXNzaWduKHt9LCB0b29sYmFyUHJvcHMsIHsgcmVmOiAocmVmKSA9PiB7XG4gICAgICAgICAgICB0b3BUb29sYmFyUmVmLmN1cnJlbnQgPSByZWY7XG4gICAgICAgICAgICBpZiAodG9vbGJhclByb3BzID09PSBudWxsIHx8IHRvb2xiYXJQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdG9vbGJhclByb3BzLnJlZikge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICB0b29sYmFyUHJvcHMucmVmLmN1cnJlbnQgPSByZWY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHN4OiAodGhlbWUpID0+IChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZ2V0Q29tbW9uVG9vbGJhclN0eWxlcyh7IHRhYmxlLCB0aGVtZSB9KSksIHsgcG9zaXRpb246IGlzRnVsbFNjcmVlbiA/ICdzdGlja3knIDogJ3JlbGF0aXZlJywgdG9wOiBpc0Z1bGxTY3JlZW4gPyAnMCcgOiB1bmRlZmluZWQgfSksIHBhcnNlRnJvbVZhbHVlc09yRnVuYyh0b29sYmFyUHJvcHMgPT09IG51bGwgfHwgdG9vbGJhclByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0b29sYmFyUHJvcHMuc3gsIHRoZW1lKSkpLCBjaGlsZHJlbjogW3Bvc2l0aW9uVG9vbGJhckFsZXJ0QmFubmVyID09PSAndG9wJyAmJiAoanN4KE1SVF9Ub29sYmFyQWxlcnRCYW5uZXIsIHsgc3RhY2tBbGVydEJhbm5lcjogc3RhY2tBbGVydEJhbm5lciwgdGFibGU6IHRhYmxlIH0pKSwgWydib3RoJywgJ3RvcCddLmluY2x1ZGVzKHBvc2l0aW9uVG9vbGJhckRyb3Bab25lICE9PSBudWxsICYmIHBvc2l0aW9uVG9vbGJhckRyb3Bab25lICE9PSB2b2lkIDAgPyBwb3NpdGlvblRvb2xiYXJEcm9wWm9uZSA6ICcnKSAmJiAoanN4KE1SVF9Ub29sYmFyRHJvcFpvbmUsIHsgdGFibGU6IHRhYmxlIH0pKSwganN4cyhCb3gsIHsgc3g6IHtcbiAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtc3RhcnQnLFxuICAgICAgICAgICAgICAgICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICBnYXA6ICcwLjVyZW0nLFxuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgICAgICAgICAgICAgICBwOiAnMC41cmVtJyxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHN0YWNrQWxlcnRCYW5uZXIgPyAncmVsYXRpdmUnIDogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICB9LCBjaGlsZHJlbjogW2VuYWJsZUdsb2JhbEZpbHRlciAmJiBwb3NpdGlvbkdsb2JhbEZpbHRlciA9PT0gJ2xlZnQnICYmIChqc3goTVJUX0dsb2JhbEZpbHRlclRleHRGaWVsZCwgeyB0YWJsZTogdGFibGUgfSkpLCAoX2EgPSByZW5kZXJUb3BUb29sYmFyQ3VzdG9tQWN0aW9ucyA9PT0gbnVsbCB8fCByZW5kZXJUb3BUb29sYmFyQ3VzdG9tQWN0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVuZGVyVG9wVG9vbGJhckN1c3RvbUFjdGlvbnMoeyB0YWJsZSB9KSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoganN4KFwic3BhblwiLCB7fSksIGVuYWJsZVRvb2xiYXJJbnRlcm5hbEFjdGlvbnMgPyAoanN4cyhCb3gsIHsgc3g6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleFdyYXA6ICd3cmFwLXJldmVyc2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhcDogJzAuNXJlbScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBjaGlsZHJlbjogW2VuYWJsZUdsb2JhbEZpbHRlciAmJiBwb3NpdGlvbkdsb2JhbEZpbHRlciA9PT0gJ3JpZ2h0JyAmJiAoanN4KE1SVF9HbG9iYWxGaWx0ZXJUZXh0RmllbGQsIHsgdGFibGU6IHRhYmxlIH0pKSwganN4KE1SVF9Ub29sYmFySW50ZXJuYWxCdXR0b25zLCB7IHRhYmxlOiB0YWJsZSB9KV0gfSkpIDogKGVuYWJsZUdsb2JhbEZpbHRlciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25HbG9iYWxGaWx0ZXIgPT09ICdyaWdodCcgJiYgKGpzeChNUlRfR2xvYmFsRmlsdGVyVGV4dEZpZWxkLCB7IHRhYmxlOiB0YWJsZSB9KSkpXSB9KSwgZW5hYmxlUGFnaW5hdGlvbiAmJlxuICAgICAgICAgICAgICAgIFsnYm90aCcsICd0b3AnXS5pbmNsdWRlcyhwb3NpdGlvblBhZ2luYXRpb24gIT09IG51bGwgJiYgcG9zaXRpb25QYWdpbmF0aW9uICE9PSB2b2lkIDAgPyBwb3NpdGlvblBhZ2luYXRpb24gOiAnJykgJiYgKGpzeChNUlRfVGFibGVQYWdpbmF0aW9uLCB7IHBvc2l0aW9uOiBcInRvcFwiLCB0YWJsZTogdGFibGUgfSkpLCBqc3goTVJUX0xpbmVhclByb2dyZXNzQmFyLCB7IGlzVG9wVG9vbGJhcjogdHJ1ZSwgdGFibGU6IHRhYmxlIH0pXSB9KSkpO1xufTtcblxuY29uc3QgTVJUX1RhYmxlSGVhZCA9IChfYSkgPT4ge1xuICAgIHZhciB7IHRhYmxlLCB2aXJ0dWFsQ29sdW1ucywgdmlydHVhbFBhZGRpbmdMZWZ0LCB2aXJ0dWFsUGFkZGluZ1JpZ2h0IH0gPSBfYSwgcmVzdCA9IF9fcmVzdChfYSwgW1widGFibGVcIiwgXCJ2aXJ0dWFsQ29sdW1uc1wiLCBcInZpcnR1YWxQYWRkaW5nTGVmdFwiLCBcInZpcnR1YWxQYWRkaW5nUmlnaHRcIl0pO1xuICAgIGNvbnN0IHsgZ2V0SGVhZGVyR3JvdXBzLCBnZXRTZWxlY3RlZFJvd01vZGVsLCBnZXRTdGF0ZSwgb3B0aW9uczogeyBlbmFibGVTdGlja3lIZWFkZXIsIGxheW91dE1vZGUsIG11aVRhYmxlSGVhZFByb3BzLCBwb3NpdGlvblRvb2xiYXJBbGVydEJhbm5lciwgfSwgcmVmczogeyB0YWJsZUhlYWRSZWYgfSwgfSA9IHRhYmxlO1xuICAgIGNvbnN0IHsgaXNGdWxsU2NyZWVuLCBzaG93QWxlcnRCYW5uZXIgfSA9IGdldFN0YXRlKCk7XG4gICAgY29uc3QgdGFibGVIZWFkUHJvcHMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhtdWlUYWJsZUhlYWRQcm9wcywgeyB0YWJsZSB9KSksIHJlc3QpO1xuICAgIGNvbnN0IHN0aWNreUhlYWRlciA9IGVuYWJsZVN0aWNreUhlYWRlciB8fCBpc0Z1bGxTY3JlZW47XG4gICAgcmV0dXJuIChqc3goVGFibGVIZWFkLCBPYmplY3QuYXNzaWduKHt9LCB0YWJsZUhlYWRQcm9wcywgeyByZWY6IChyZWYpID0+IHtcbiAgICAgICAgICAgIHRhYmxlSGVhZFJlZi5jdXJyZW50ID0gcmVmO1xuICAgICAgICAgICAgaWYgKHRhYmxlSGVhZFByb3BzID09PSBudWxsIHx8IHRhYmxlSGVhZFByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YWJsZUhlYWRQcm9wcy5yZWYpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgdGFibGVIZWFkUHJvcHMucmVmLmN1cnJlbnQgPSByZWY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHN4OiAodGhlbWUpID0+IChPYmplY3QuYXNzaWduKHsgZGlzcGxheTogKGxheW91dE1vZGUgPT09IG51bGwgfHwgbGF5b3V0TW9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGF5b3V0TW9kZS5zdGFydHNXaXRoKCdncmlkJykpID8gJ2dyaWQnIDogdW5kZWZpbmVkLCBvcGFjaXR5OiAwLjk3LCBwb3NpdGlvbjogc3RpY2t5SGVhZGVyID8gJ3N0aWNreScgOiAncmVsYXRpdmUnLCB0b3A6IHN0aWNreUhlYWRlciAmJiAobGF5b3V0TW9kZSA9PT0gbnVsbCB8fCBsYXlvdXRNb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsYXlvdXRNb2RlLnN0YXJ0c1dpdGgoJ2dyaWQnKSkgPyAwIDogdW5kZWZpbmVkLCB6SW5kZXg6IHN0aWNreUhlYWRlciA/IDIgOiB1bmRlZmluZWQgfSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKHRhYmxlSGVhZFByb3BzID09PSBudWxsIHx8IHRhYmxlSGVhZFByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YWJsZUhlYWRQcm9wcy5zeCwgdGhlbWUpKSksIGNoaWxkcmVuOiBwb3NpdGlvblRvb2xiYXJBbGVydEJhbm5lciA9PT0gJ2hlYWQtb3ZlcmxheScgJiZcbiAgICAgICAgICAgIChzaG93QWxlcnRCYW5uZXIgfHwgZ2V0U2VsZWN0ZWRSb3dNb2RlbCgpLnJvd3MubGVuZ3RoID4gMCkgPyAoanN4KFwidHJcIiwgeyBzdHlsZToge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IChsYXlvdXRNb2RlID09PSBudWxsIHx8IGxheW91dE1vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxheW91dE1vZGUuc3RhcnRzV2l0aCgnZ3JpZCcpKSA/ICdncmlkJyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBqc3goXCJ0aFwiLCB7IGNvbFNwYW46IHRhYmxlLmdldFZpc2libGVMZWFmQ29sdW1ucygpLmxlbmd0aCwgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogKGxheW91dE1vZGUgPT09IG51bGwgfHwgbGF5b3V0TW9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGF5b3V0TW9kZS5zdGFydHNXaXRoKCdncmlkJykpID8gJ2dyaWQnIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLFxuICAgICAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBqc3goTVJUX1Rvb2xiYXJBbGVydEJhbm5lciwgeyB0YWJsZTogdGFibGUgfSkgfSkgfSkpIDogKGdldEhlYWRlckdyb3VwcygpLm1hcCgoaGVhZGVyR3JvdXApID0+IChqc3goTVJUX1RhYmxlSGVhZFJvdywgeyBoZWFkZXJHcm91cDogaGVhZGVyR3JvdXAsIHRhYmxlOiB0YWJsZSwgdmlydHVhbENvbHVtbnM6IHZpcnR1YWxDb2x1bW5zLCB2aXJ0dWFsUGFkZGluZ0xlZnQ6IHZpcnR1YWxQYWRkaW5nTGVmdCwgdmlydHVhbFBhZGRpbmdSaWdodDogdmlydHVhbFBhZGRpbmdSaWdodCB9LCBoZWFkZXJHcm91cC5pZCkpKSkgfSkpKTtcbn07XG5cbmNvbnN0IE1SVF9UYWJsZSA9IChfYSkgPT4ge1xuICAgIHZhciBfYiwgX2MsIF9kLCBfZTtcbiAgICB2YXIgeyB0YWJsZSB9ID0gX2EsIHJlc3QgPSBfX3Jlc3QoX2EsIFtcInRhYmxlXCJdKTtcbiAgICBjb25zdCB7IGdldEZsYXRIZWFkZXJzLCBnZXRTdGF0ZSwgb3B0aW9uczogeyBjb2x1bW5WaXJ0dWFsaXplckluc3RhbmNlUmVmLCBjb2x1bW5WaXJ0dWFsaXplck9wdGlvbnMsIGNvbHVtbnMsIGVuYWJsZUNvbHVtblBpbm5pbmcsIGVuYWJsZUNvbHVtblZpcnR1YWxpemF0aW9uLCBlbmFibGVTdGlja3lIZWFkZXIsIGVuYWJsZVRhYmxlRm9vdGVyLCBlbmFibGVUYWJsZUhlYWQsIGxheW91dE1vZGUsIG1lbW9Nb2RlLCBtdWlUYWJsZVByb3BzLCB9LCByZWZzOiB7IHRhYmxlQ29udGFpbmVyUmVmIH0sIH0gPSB0YWJsZTtcbiAgICBjb25zdCB7IGNvbHVtblBpbm5pbmcsIGNvbHVtblNpemluZywgY29sdW1uU2l6aW5nSW5mbywgY29sdW1uVmlzaWJpbGl0eSwgZHJhZ2dpbmdDb2x1bW4sIGlzRnVsbFNjcmVlbiwgfSA9IGdldFN0YXRlKCk7XG4gICAgY29uc3QgdGFibGVQcm9wcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKG11aVRhYmxlUHJvcHMsIHsgdGFibGUgfSkpLCByZXN0KTtcbiAgICBjb25zdCBjb2x1bW5WaXJ0dWFsaXplclByb3BzID0gcGFyc2VGcm9tVmFsdWVzT3JGdW5jKGNvbHVtblZpcnR1YWxpemVyT3B0aW9ucywgeyB0YWJsZSB9KTtcbiAgICBjb25zdCBjb2x1bW5TaXplVmFycyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBnZXRGbGF0SGVhZGVycygpO1xuICAgICAgICBjb25zdCBjb2xTaXplcyA9IHt9O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhlYWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlciA9IGhlYWRlcnNbaV07XG4gICAgICAgICAgICBsZXQgY29sU2l6ZSA9IGhlYWRlci5nZXRTaXplKCk7XG4gICAgICAgICAgICBpZiAoKF9hID0gaGVhZGVyLnN1YkhlYWRlcnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgY29sU2l6ZSA9IGNvbFNpemUgKiAxLjA1ICsgaGVhZGVyLnN1YkhlYWRlcnMubGVuZ3RoICogMjtcbiAgICAgICAgICAgIGNvbFNpemVzW2AtLWhlYWRlci0ke3BhcnNlQ1NTVmFySWQoaGVhZGVyLmlkKX0tc2l6ZWBdID0gY29sU2l6ZTtcbiAgICAgICAgICAgIGNvbFNpemVzW2AtLWNvbC0ke3BhcnNlQ1NTVmFySWQoaGVhZGVyLmNvbHVtbi5pZCl9LXNpemVgXSA9IGNvbFNpemU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbFNpemVzO1xuICAgIH0sIFtjb2x1bW5zLCBjb2x1bW5TaXppbmcsIGNvbHVtblNpemluZ0luZm8sIGNvbHVtblZpc2liaWxpdHldKTtcbiAgICAvL2dldCBmaXJzdCAxNiBjb2x1bW4gd2lkdGhzIGFuZCBhdmVyYWdlIHRoZW1cbiAgICBjb25zdCBhdmVyYWdlQ29sdW1uV2lkdGggPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICBpZiAoIWVuYWJsZUNvbHVtblZpcnR1YWxpemF0aW9uKVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGNvbnN0IGNvbHVtbnNXaWR0aHMgPSAoX2QgPSAoX2MgPSAoX2IgPSAoX2EgPSB0YWJsZVxuICAgICAgICAgICAgLmdldFJvd01vZGVsKClcbiAgICAgICAgICAgIC5yb3dzWzBdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0Q2VudGVyVmlzaWJsZUNlbGxzKCkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zbGljZSgwLCAxNikpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5tYXAoKGNlbGwpID0+IGNlbGwuY29sdW1uLmdldFNpemUoKSAqIDEuMikpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IFtdO1xuICAgICAgICByZXR1cm4gY29sdW1uc1dpZHRocy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKSAvIGNvbHVtbnNXaWR0aHMubGVuZ3RoO1xuICAgIH0sIFt0YWJsZS5nZXRSb3dNb2RlbCgpLnJvd3MsIGNvbHVtblBpbm5pbmcsIGNvbHVtblZpc2liaWxpdHldKTtcbiAgICBjb25zdCBbbGVmdFBpbm5lZEluZGV4ZXMsIHJpZ2h0UGlubmVkSW5kZXhlc10gPSB1c2VNZW1vKCgpID0+IGVuYWJsZUNvbHVtblZpcnR1YWxpemF0aW9uICYmIGVuYWJsZUNvbHVtblBpbm5pbmdcbiAgICAgICAgPyBbXG4gICAgICAgICAgICB0YWJsZS5nZXRMZWZ0TGVhZkNvbHVtbnMoKS5tYXAoKGMpID0+IGMuZ2V0UGlubmVkSW5kZXgoKSksXG4gICAgICAgICAgICB0YWJsZVxuICAgICAgICAgICAgICAgIC5nZXRSaWdodExlYWZDb2x1bW5zKClcbiAgICAgICAgICAgICAgICAubWFwKChjKSA9PiB0YWJsZS5nZXRWaXNpYmxlTGVhZkNvbHVtbnMoKS5sZW5ndGggLSBjLmdldFBpbm5lZEluZGV4KCkgLSAxKSxcbiAgICAgICAgXVxuICAgICAgICA6IFtbXSwgW11dLCBbY29sdW1uUGlubmluZywgZW5hYmxlQ29sdW1uVmlydHVhbGl6YXRpb24sIGVuYWJsZUNvbHVtblBpbm5pbmddKTtcbiAgICBjb25zdCBkcmFnZ2luZ0NvbHVtbkluZGV4ID0gdGFibGVcbiAgICAgICAgLmdldFZpc2libGVMZWFmQ29sdW1ucygpXG4gICAgICAgIC5maW5kSW5kZXgoKGMpID0+IGMuaWQgPT09IChkcmFnZ2luZ0NvbHVtbiA9PT0gbnVsbCB8fCBkcmFnZ2luZ0NvbHVtbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogZHJhZ2dpbmdDb2x1bW4uaWQpKTtcbiAgICBjb25zdCBjb2x1bW5WaXJ0dWFsaXplciA9IGVuYWJsZUNvbHVtblZpcnR1YWxpemF0aW9uXG4gICAgICAgID8gdXNlVmlydHVhbGl6ZXIoT2JqZWN0LmFzc2lnbih7IGNvdW50OiB0YWJsZS5nZXRWaXNpYmxlTGVhZkNvbHVtbnMoKS5sZW5ndGgsIGVzdGltYXRlU2l6ZTogKCkgPT4gYXZlcmFnZUNvbHVtbldpZHRoLCBnZXRTY3JvbGxFbGVtZW50OiAoKSA9PiB0YWJsZUNvbnRhaW5lclJlZi5jdXJyZW50LCBob3Jpem9udGFsOiB0cnVlLCBvdmVyc2NhbjogMywgcmFuZ2VFeHRyYWN0b3I6IHVzZUNhbGxiYWNrKChyYW5nZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0luZGV4cyA9IGV4dHJhSW5kZXhSYW5nZUV4dHJhY3RvcihyYW5nZSwgZHJhZ2dpbmdDb2x1bW5JbmRleCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgLi4ubmV3IFNldChbXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5sZWZ0UGlubmVkSW5kZXhlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm5ld0luZGV4cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJpZ2h0UGlubmVkSW5kZXhlcyxcbiAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0sIFtsZWZ0UGlubmVkSW5kZXhlcywgcmlnaHRQaW5uZWRJbmRleGVzLCBkcmFnZ2luZ0NvbHVtbkluZGV4XSkgfSwgY29sdW1uVmlydHVhbGl6ZXJQcm9wcykpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGlmIChjb2x1bW5WaXJ0dWFsaXplckluc3RhbmNlUmVmICYmIGNvbHVtblZpcnR1YWxpemVyKSB7XG4gICAgICAgIGNvbHVtblZpcnR1YWxpemVySW5zdGFuY2VSZWYuY3VycmVudCA9IGNvbHVtblZpcnR1YWxpemVyO1xuICAgIH1cbiAgICBjb25zdCB2aXJ0dWFsQ29sdW1ucyA9IGNvbHVtblZpcnR1YWxpemVyXG4gICAgICAgID8gY29sdW1uVmlydHVhbGl6ZXIuZ2V0VmlydHVhbEl0ZW1zKClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbGV0IHZpcnR1YWxQYWRkaW5nTGVmdDtcbiAgICBsZXQgdmlydHVhbFBhZGRpbmdSaWdodDtcbiAgICBpZiAoY29sdW1uVmlydHVhbGl6ZXIgJiYgKHZpcnR1YWxDb2x1bW5zID09PSBudWxsIHx8IHZpcnR1YWxDb2x1bW5zID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2aXJ0dWFsQ29sdW1ucy5sZW5ndGgpKSB7XG4gICAgICAgIHZpcnR1YWxQYWRkaW5nTGVmdCA9IChfYyA9IChfYiA9IHZpcnR1YWxDb2x1bW5zW2xlZnRQaW5uZWRJbmRleGVzLmxlbmd0aF0pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zdGFydCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogMDtcbiAgICAgICAgdmlydHVhbFBhZGRpbmdSaWdodCA9XG4gICAgICAgICAgICBjb2x1bW5WaXJ0dWFsaXplci5nZXRUb3RhbFNpemUoKSAtXG4gICAgICAgICAgICAgICAgKChfZSA9IChfZCA9IHZpcnR1YWxDb2x1bW5zW3ZpcnR1YWxDb2x1bW5zLmxlbmd0aCAtIDEgLSByaWdodFBpbm5lZEluZGV4ZXMubGVuZ3RoXSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmVuZCkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogMCk7XG4gICAgfVxuICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgICB0YWJsZSxcbiAgICAgICAgdmlydHVhbENvbHVtbnMsXG4gICAgICAgIHZpcnR1YWxQYWRkaW5nTGVmdCxcbiAgICAgICAgdmlydHVhbFBhZGRpbmdSaWdodCxcbiAgICB9O1xuICAgIHJldHVybiAoanN4cyhUYWJsZSwgT2JqZWN0LmFzc2lnbih7IHN0aWNreUhlYWRlcjogZW5hYmxlU3RpY2t5SGVhZGVyIHx8IGlzRnVsbFNjcmVlbiB9LCB0YWJsZVByb3BzLCB7IHN0eWxlOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNvbHVtblNpemVWYXJzKSwgdGFibGVQcm9wcyA9PT0gbnVsbCB8fCB0YWJsZVByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YWJsZVByb3BzLnN0eWxlKSwgc3g6ICh0aGVtZSkgPT4gKE9iamVjdC5hc3NpZ24oeyBib3JkZXJDb2xsYXBzZTogJ3NlcGFyYXRlJywgZGlzcGxheTogKGxheW91dE1vZGUgPT09IG51bGwgfHwgbGF5b3V0TW9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGF5b3V0TW9kZS5zdGFydHNXaXRoKCdncmlkJykpID8gJ2dyaWQnIDogdW5kZWZpbmVkIH0sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyh0YWJsZVByb3BzID09PSBudWxsIHx8IHRhYmxlUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRhYmxlUHJvcHMuc3gsIHRoZW1lKSkpLCBjaGlsZHJlbjogW2VuYWJsZVRhYmxlSGVhZCAmJiBqc3goTVJUX1RhYmxlSGVhZCwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpKSwgbWVtb01vZGUgPT09ICd0YWJsZS1ib2R5JyB8fCBjb2x1bW5TaXppbmdJbmZvLmlzUmVzaXppbmdDb2x1bW4gPyAoanN4KE1lbW9fTVJUX1RhYmxlQm9keSwgT2JqZWN0LmFzc2lnbih7IGNvbHVtblZpcnR1YWxpemVyOiBjb2x1bW5WaXJ0dWFsaXplciB9LCBwcm9wcykpKSA6IChqc3goTVJUX1RhYmxlQm9keSwgT2JqZWN0LmFzc2lnbih7IGNvbHVtblZpcnR1YWxpemVyOiBjb2x1bW5WaXJ0dWFsaXplciB9LCBwcm9wcykpKSwgZW5hYmxlVGFibGVGb290ZXIgJiYganN4KE1SVF9UYWJsZUZvb3RlciwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpKV0gfSkpKTtcbn07XG5cbmNvbnN0IE1SVF9UYWJsZUxvYWRpbmdPdmVybGF5ID0gKF9hKSA9PiB7XG4gICAgdmFyIHsgdGFibGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJ0YWJsZVwiXSk7XG4gICAgY29uc3QgeyBvcHRpb25zOiB7IGxvY2FsaXphdGlvbiwgbXVpQ2lyY3VsYXJQcm9ncmVzc1Byb3BzIH0sIH0gPSB0YWJsZTtcbiAgICBjb25zdCBjaXJjdWxhclByb2dyZXNzUHJvcHMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhtdWlDaXJjdWxhclByb2dyZXNzUHJvcHMsIHsgdGFibGUgfSkpLCByZXN0KTtcbiAgICByZXR1cm4gKGpzeChCb3gsIHsgc3g6ICh0aGVtZSkgPT4gKHtcbiAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBhbHBoYShnZXRNUlRUaGVtZSh0YWJsZSwgdGhlbWUpLmJhc2VCYWNrZ3JvdW5kQ29sb3IsIDAuNSksXG4gICAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgbWF4SGVpZ2h0OiAnMTAwdmgnLFxuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICB6SW5kZXg6IDIsXG4gICAgICAgIH0pLCBjaGlsZHJlbjoganN4KENpcmN1bGFyUHJvZ3Jlc3MsIE9iamVjdC5hc3NpZ24oeyBcImFyaWEtbGFiZWxcIjogbG9jYWxpemF0aW9uLm5vUmVjb3Jkc1RvRGlzcGxheSwgaWQ6IFwibXJ0LXByb2dyZXNzXCIgfSwgY2lyY3VsYXJQcm9ncmVzc1Byb3BzKSkgfSkpO1xufTtcblxuY29uc3QgTVJUX0VkaXRBY3Rpb25CdXR0b25zID0gKF9hKSA9PiB7XG4gICAgdmFyIHsgcm93LCB0YWJsZSwgdmFyaWFudCA9ICdpY29uJyB9ID0gX2EsIHJlc3QgPSBfX3Jlc3QoX2EsIFtcInJvd1wiLCBcInRhYmxlXCIsIFwidmFyaWFudFwiXSk7XG4gICAgY29uc3QgeyBnZXRTdGF0ZSwgb3B0aW9uczogeyBpY29uczogeyBDYW5jZWxJY29uLCBTYXZlSWNvbiB9LCBsb2NhbGl6YXRpb24sIG9uQ3JlYXRpbmdSb3dDYW5jZWwsIG9uQ3JlYXRpbmdSb3dTYXZlLCBvbkVkaXRpbmdSb3dDYW5jZWwsIG9uRWRpdGluZ1Jvd1NhdmUsIH0sIHJlZnM6IHsgZWRpdElucHV0UmVmcyB9LCBzZXRDcmVhdGluZ1Jvdywgc2V0RWRpdGluZ1JvdywgfSA9IHRhYmxlO1xuICAgIGNvbnN0IHsgY3JlYXRpbmdSb3csIGVkaXRpbmdSb3csIGlzU2F2aW5nIH0gPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGlzQ3JlYXRpbmcgPSAoY3JlYXRpbmdSb3cgPT09IG51bGwgfHwgY3JlYXRpbmdSb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNyZWF0aW5nUm93LmlkKSA9PT0gcm93LmlkO1xuICAgIGNvbnN0IGlzRWRpdGluZyA9IChlZGl0aW5nUm93ID09PSBudWxsIHx8IGVkaXRpbmdSb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVkaXRpbmdSb3cuaWQpID09PSByb3cuaWQ7XG4gICAgY29uc3QgaGFuZGxlQ2FuY2VsID0gKCkgPT4ge1xuICAgICAgICBpZiAoaXNDcmVhdGluZykge1xuICAgICAgICAgICAgb25DcmVhdGluZ1Jvd0NhbmNlbCA9PT0gbnVsbCB8fCBvbkNyZWF0aW5nUm93Q2FuY2VsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkNyZWF0aW5nUm93Q2FuY2VsKHsgcm93LCB0YWJsZSB9KTtcbiAgICAgICAgICAgIHNldENyZWF0aW5nUm93KG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzRWRpdGluZykge1xuICAgICAgICAgICAgb25FZGl0aW5nUm93Q2FuY2VsID09PSBudWxsIHx8IG9uRWRpdGluZ1Jvd0NhbmNlbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25FZGl0aW5nUm93Q2FuY2VsKHsgcm93LCB0YWJsZSB9KTtcbiAgICAgICAgICAgIHNldEVkaXRpbmdSb3cobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcm93Ll92YWx1ZXNDYWNoZSA9IHt9OyAvL3Jlc2V0IHZhbHVlcyBjYWNoZVxuICAgIH07XG4gICAgY29uc3QgaGFuZGxlU3VibWl0Um93ID0gKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vbG9vayBmb3IgYXV0by1maWxsZWQgaW5wdXQgdmFsdWVzXG4gICAgICAgIChfYSA9IE9iamVjdC52YWx1ZXMoZWRpdElucHV0UmVmcyA9PT0gbnVsbCB8fCBlZGl0SW5wdXRSZWZzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlZGl0SW5wdXRSZWZzLmN1cnJlbnQpXG4gICAgICAgICAgICAuZmlsdGVyKChpbnB1dFJlZikgPT4geyB2YXIgX2EsIF9iOyByZXR1cm4gcm93LmlkID09PSAoKF9iID0gKF9hID0gaW5wdXRSZWYgPT09IG51bGwgfHwgaW5wdXRSZWYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlucHV0UmVmLm5hbWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zcGxpdCgnXycpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2JbMF0pOyB9KSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICAgICAgICBpZiAoaW5wdXQudmFsdWUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgIE9iamVjdC5oYXNPd24ocm93ID09PSBudWxsIHx8IHJvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcm93Ll92YWx1ZXNDYWNoZSwgaW5wdXQubmFtZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgcm93Ll92YWx1ZXNDYWNoZVtpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGlzQ3JlYXRpbmcpXG4gICAgICAgICAgICBvbkNyZWF0aW5nUm93U2F2ZSA9PT0gbnVsbCB8fCBvbkNyZWF0aW5nUm93U2F2ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25DcmVhdGluZ1Jvd1NhdmUoe1xuICAgICAgICAgICAgICAgIGV4aXRDcmVhdGluZ01vZGU6ICgpID0+IHNldENyZWF0aW5nUm93KG51bGwpLFxuICAgICAgICAgICAgICAgIHJvdyxcbiAgICAgICAgICAgICAgICB0YWJsZSxcbiAgICAgICAgICAgICAgICB2YWx1ZXM6IHJvdy5fdmFsdWVzQ2FjaGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgZWxzZSBpZiAoaXNFZGl0aW5nKSB7XG4gICAgICAgICAgICBvbkVkaXRpbmdSb3dTYXZlID09PSBudWxsIHx8IG9uRWRpdGluZ1Jvd1NhdmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uRWRpdGluZ1Jvd1NhdmUoe1xuICAgICAgICAgICAgICAgIGV4aXRFZGl0aW5nTW9kZTogKCkgPT4gc2V0RWRpdGluZ1JvdyhudWxsKSxcbiAgICAgICAgICAgICAgICByb3csXG4gICAgICAgICAgICAgICAgdGFibGUsXG4gICAgICAgICAgICAgICAgdmFsdWVzOiByb3cgPT09IG51bGwgfHwgcm93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByb3cuX3ZhbHVlc0NhY2hlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiAoanN4KEJveCwgeyBvbkNsaWNrOiAoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKSwgc3g6ICh0aGVtZSkgPT4gKE9iamVjdC5hc3NpZ24oeyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJzAuNzVyZW0nIH0sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhyZXN0ID09PSBudWxsIHx8IHJlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3Quc3gsIHRoZW1lKSkpLCBjaGlsZHJlbjogdmFyaWFudCA9PT0gJ2ljb24nID8gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtqc3goVG9vbHRpcCwgeyB0aXRsZTogbG9jYWxpemF0aW9uLmNhbmNlbCwgY2hpbGRyZW46IGpzeChJY29uQnV0dG9uLCB7IFwiYXJpYS1sYWJlbFwiOiBsb2NhbGl6YXRpb24uY2FuY2VsLCBvbkNsaWNrOiBoYW5kbGVDYW5jZWwsIGNoaWxkcmVuOiBqc3goQ2FuY2VsSWNvbiwge30pIH0pIH0pLCBqc3goVG9vbHRpcCwgeyB0aXRsZTogbG9jYWxpemF0aW9uLnNhdmUsIGNoaWxkcmVuOiBqc3goSWNvbkJ1dHRvbiwgeyBcImFyaWEtbGFiZWxcIjogbG9jYWxpemF0aW9uLnNhdmUsIGNvbG9yOiBcImluZm9cIiwgb25DbGljazogaGFuZGxlU3VibWl0Um93LCBjaGlsZHJlbjogaXNTYXZpbmcgPyBqc3goQ2lyY3VsYXJQcm9ncmVzcywgeyBzaXplOiAxOCB9KSA6IGpzeChTYXZlSWNvbiwge30pIH0pIH0pXSB9KSkgOiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW2pzeChCdXR0b24sIHsgb25DbGljazogaGFuZGxlQ2FuY2VsLCBzeDogeyBtaW5XaWR0aDogJzEwMHB4JyB9LCBjaGlsZHJlbjogbG9jYWxpemF0aW9uLmNhbmNlbCB9KSwganN4cyhCdXR0b24sIHsgb25DbGljazogaGFuZGxlU3VibWl0Um93LCBzeDogeyBtaW5XaWR0aDogJzEwMHB4JyB9LCB2YXJpYW50OiBcImNvbnRhaW5lZFwiLCBjaGlsZHJlbjogW2lzU2F2aW5nICYmIGpzeChDaXJjdWxhclByb2dyZXNzLCB7IGNvbG9yOiBcImluaGVyaXRcIiwgc2l6ZTogMTggfSksIGxvY2FsaXphdGlvbi5zYXZlXSB9KV0gfSkpIH0pKTtcbn07XG5cbmNvbnN0IE1SVF9FZGl0Um93TW9kYWwgPSAoX2EpID0+IHtcbiAgICB2YXIgX2I7XG4gICAgdmFyIHsgb3BlbiwgdGFibGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJvcGVuXCIsIFwidGFibGVcIl0pO1xuICAgIGNvbnN0IHsgZ2V0U3RhdGUsIG9wdGlvbnM6IHsgbG9jYWxpemF0aW9uLCBtdWlDcmVhdGVSb3dNb2RhbFByb3BzLCBtdWlFZGl0Um93RGlhbG9nUHJvcHMsIG9uQ3JlYXRpbmdSb3dDYW5jZWwsIG9uRWRpdGluZ1Jvd0NhbmNlbCwgcmVuZGVyQ3JlYXRlUm93RGlhbG9nQ29udGVudCwgcmVuZGVyRWRpdFJvd0RpYWxvZ0NvbnRlbnQsIH0sIHNldENyZWF0aW5nUm93LCBzZXRFZGl0aW5nUm93LCB9ID0gdGFibGU7XG4gICAgY29uc3QgeyBjcmVhdGluZ1JvdywgZWRpdGluZ1JvdyB9ID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCByb3cgPSAoY3JlYXRpbmdSb3cgIT09IG51bGwgJiYgY3JlYXRpbmdSb3cgIT09IHZvaWQgMCA/IGNyZWF0aW5nUm93IDogZWRpdGluZ1Jvdyk7XG4gICAgY29uc3QgZGlhbG9nUHJvcHMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKG11aUVkaXRSb3dEaWFsb2dQcm9wcywgeyByb3csIHRhYmxlIH0pKSwgKGNyZWF0aW5nUm93ICYmXG4gICAgICAgIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhtdWlDcmVhdGVSb3dNb2RhbFByb3BzLCB7IHJvdywgdGFibGUgfSkpKSwgcmVzdCk7XG4gICAgY29uc3QgaW50ZXJuYWxFZGl0Q29tcG9uZW50cyA9IHJvd1xuICAgICAgICAuZ2V0QWxsQ2VsbHMoKVxuICAgICAgICAuZmlsdGVyKChjZWxsKSA9PiBjZWxsLmNvbHVtbi5jb2x1bW5EZWYuY29sdW1uRGVmVHlwZSA9PT0gJ2RhdGEnKVxuICAgICAgICAubWFwKChjZWxsKSA9PiAoanN4KE1SVF9FZGl0Q2VsbFRleHRGaWVsZCwgeyBjZWxsOiBjZWxsLCB0YWJsZTogdGFibGUgfSwgY2VsbC5pZCkpKTtcbiAgICByZXR1cm4gKGpzeChEaWFsb2csIE9iamVjdC5hc3NpZ24oeyBmdWxsV2lkdGg6IHRydWUsIG1heFdpZHRoOiBcInhzXCIsIG9uQ2xvc2U6IChldmVudCwgcmVhc29uKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoY3JlYXRpbmdSb3cpIHtcbiAgICAgICAgICAgICAgICBvbkNyZWF0aW5nUm93Q2FuY2VsID09PSBudWxsIHx8IG9uQ3JlYXRpbmdSb3dDYW5jZWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uQ3JlYXRpbmdSb3dDYW5jZWwoeyByb3csIHRhYmxlIH0pO1xuICAgICAgICAgICAgICAgIHNldENyZWF0aW5nUm93KG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb25FZGl0aW5nUm93Q2FuY2VsID09PSBudWxsIHx8IG9uRWRpdGluZ1Jvd0NhbmNlbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25FZGl0aW5nUm93Q2FuY2VsKHsgcm93LCB0YWJsZSB9KTtcbiAgICAgICAgICAgICAgICBzZXRFZGl0aW5nUm93KG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm93Ll92YWx1ZXNDYWNoZSA9IHt9OyAvL3Jlc2V0IHZhbHVlcyBjYWNoZVxuICAgICAgICAgICAgKF9hID0gZGlhbG9nUHJvcHMub25DbG9zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoZGlhbG9nUHJvcHMsIGV2ZW50LCByZWFzb24pO1xuICAgICAgICB9LCBvcGVuOiBvcGVuIH0sIGRpYWxvZ1Byb3BzLCB7IGNoaWxkcmVuOiAoX2IgPSAoKGNyZWF0aW5nUm93ICYmXG4gICAgICAgICAgICAocmVuZGVyQ3JlYXRlUm93RGlhbG9nQ29udGVudCA9PT0gbnVsbCB8fCByZW5kZXJDcmVhdGVSb3dEaWFsb2dDb250ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZW5kZXJDcmVhdGVSb3dEaWFsb2dDb250ZW50KHtcbiAgICAgICAgICAgICAgICBpbnRlcm5hbEVkaXRDb21wb25lbnRzLFxuICAgICAgICAgICAgICAgIHJvdyxcbiAgICAgICAgICAgICAgICB0YWJsZSxcbiAgICAgICAgICAgIH0pKSkgfHxcbiAgICAgICAgICAgIChyZW5kZXJFZGl0Um93RGlhbG9nQ29udGVudCA9PT0gbnVsbCB8fCByZW5kZXJFZGl0Um93RGlhbG9nQ29udGVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVuZGVyRWRpdFJvd0RpYWxvZ0NvbnRlbnQoe1xuICAgICAgICAgICAgICAgIGludGVybmFsRWRpdENvbXBvbmVudHMsXG4gICAgICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgICAgIHRhYmxlLFxuICAgICAgICAgICAgfSkpKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtqc3goRGlhbG9nVGl0bGUsIHsgc3g6IHsgdGV4dEFsaWduOiAnY2VudGVyJyB9LCBjaGlsZHJlbjogbG9jYWxpemF0aW9uLmVkaXQgfSksIGpzeChEaWFsb2dDb250ZW50LCB7IGNoaWxkcmVuOiBqc3goXCJmb3JtXCIsIHsgb25TdWJtaXQ6IChlKSA9PiBlLnByZXZlbnREZWZhdWx0KCksIGNoaWxkcmVuOiBqc3goU3RhY2ssIHsgc3g6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiAnMzJweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmdUb3A6ICcxNnB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBjaGlsZHJlbjogaW50ZXJuYWxFZGl0Q29tcG9uZW50cyB9KSB9KSB9KSwganN4KERpYWxvZ0FjdGlvbnMsIHsgc3g6IHsgcDogJzEuMjVyZW0nIH0sIGNoaWxkcmVuOiBqc3goTVJUX0VkaXRBY3Rpb25CdXR0b25zLCB7IHJvdzogcm93LCB0YWJsZTogdGFibGUsIHZhcmlhbnQ6IFwidGV4dFwiIH0pIH0pXSB9KSkgfSkpKTtcbn07XG5cbmNvbnN0IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHVzZUxheW91dEVmZmVjdCA6IHVzZUVmZmVjdDtcbmNvbnN0IE1SVF9UYWJsZUNvbnRhaW5lciA9IChfYSkgPT4ge1xuICAgIHZhciB7IHRhYmxlIH0gPSBfYSwgcmVzdCA9IF9fcmVzdChfYSwgW1widGFibGVcIl0pO1xuICAgIGNvbnN0IHsgZ2V0U3RhdGUsIG9wdGlvbnM6IHsgY3JlYXRlRGlzcGxheU1vZGUsIGVkaXREaXNwbGF5TW9kZSwgZW5hYmxlU3RpY2t5SGVhZGVyLCBtdWlUYWJsZUNvbnRhaW5lclByb3BzLCB9LCByZWZzOiB7IGJvdHRvbVRvb2xiYXJSZWYsIHRhYmxlQ29udGFpbmVyUmVmLCB0b3BUb29sYmFyUmVmIH0sIH0gPSB0YWJsZTtcbiAgICBjb25zdCB7IGNyZWF0aW5nUm93LCBlZGl0aW5nUm93LCBpc0Z1bGxTY3JlZW4sIGlzTG9hZGluZywgc2hvd0xvYWRpbmdPdmVybGF5LCB9ID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBsb2FkaW5nID0gc2hvd0xvYWRpbmdPdmVybGF5ICE9PSBmYWxzZSAmJiAoaXNMb2FkaW5nIHx8IHNob3dMb2FkaW5nT3ZlcmxheSk7XG4gICAgY29uc3QgW3RvdGFsVG9vbGJhckhlaWdodCwgc2V0VG90YWxUb29sYmFySGVpZ2h0XSA9IHVzZVN0YXRlKDApO1xuICAgIGNvbnN0IHRhYmxlQ29udGFpbmVyUHJvcHMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhtdWlUYWJsZUNvbnRhaW5lclByb3BzLCB7XG4gICAgICAgIHRhYmxlLFxuICAgIH0pKSwgcmVzdCk7XG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgY29uc3QgdG9wVG9vbGJhckhlaWdodCA9IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgID8gKF9iID0gKF9hID0gdG9wVG9vbGJhclJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub2Zmc2V0SGVpZ2h0KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAwXG4gICAgICAgICAgICA6IDA7XG4gICAgICAgIGNvbnN0IGJvdHRvbVRvb2xiYXJIZWlnaHQgPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICA/IChfZCA9IChfYyA9IGJvdHRvbVRvb2xiYXJSZWYgPT09IG51bGwgfHwgYm90dG9tVG9vbGJhclJlZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogYm90dG9tVG9vbGJhclJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Mub2Zmc2V0SGVpZ2h0KSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAwXG4gICAgICAgICAgICA6IDA7XG4gICAgICAgIHNldFRvdGFsVG9vbGJhckhlaWdodCh0b3BUb29sYmFySGVpZ2h0ICsgYm90dG9tVG9vbGJhckhlaWdodCk7XG4gICAgfSk7XG4gICAgY29uc3QgY3JlYXRlTW9kYWxPcGVuID0gY3JlYXRlRGlzcGxheU1vZGUgPT09ICdtb2RhbCcgJiYgY3JlYXRpbmdSb3c7XG4gICAgY29uc3QgZWRpdE1vZGFsT3BlbiA9IGVkaXREaXNwbGF5TW9kZSA9PT0gJ21vZGFsJyAmJiBlZGl0aW5nUm93O1xuICAgIHJldHVybiAoanN4cyhUYWJsZUNvbnRhaW5lciwgT2JqZWN0LmFzc2lnbih7IFwiYXJpYS1idXN5XCI6IGxvYWRpbmcsIFwiYXJpYS1kZXNjcmliZWRieVwiOiBsb2FkaW5nID8gJ21ydC1wcm9ncmVzcycgOiB1bmRlZmluZWQgfSwgdGFibGVDb250YWluZXJQcm9wcywgeyByZWY6IChub2RlKSA9PiB7XG4gICAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgICAgIHRhYmxlQ29udGFpbmVyUmVmLmN1cnJlbnQgPSBub2RlO1xuICAgICAgICAgICAgICAgIGlmICh0YWJsZUNvbnRhaW5lclByb3BzID09PSBudWxsIHx8IHRhYmxlQ29udGFpbmVyUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRhYmxlQ29udGFpbmVyUHJvcHMucmVmKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICB0YWJsZUNvbnRhaW5lclByb3BzLnJlZi5jdXJyZW50ID0gbm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHN0eWxlOiBPYmplY3QuYXNzaWduKHsgbWF4SGVpZ2h0OiBpc0Z1bGxTY3JlZW5cbiAgICAgICAgICAgICAgICA/IGBjYWxjKDEwMHZoIC0gJHt0b3RhbFRvb2xiYXJIZWlnaHR9cHgpYFxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkIH0sIHRhYmxlQ29udGFpbmVyUHJvcHMgPT09IG51bGwgfHwgdGFibGVDb250YWluZXJQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGFibGVDb250YWluZXJQcm9wcy5zdHlsZSksIHN4OiAodGhlbWUpID0+IChPYmplY3QuYXNzaWduKHsgbWF4SGVpZ2h0OiBlbmFibGVTdGlja3lIZWFkZXJcbiAgICAgICAgICAgICAgICA/IGBjbGFtcCgzNTBweCwgY2FsYygxMDB2aCAtICR7dG90YWxUb29sYmFySGVpZ2h0fXB4KSwgOTk5OXB4KWBcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCwgbWF4V2lkdGg6ICcxMDAlJywgb3ZlcmZsb3c6ICdhdXRvJywgcG9zaXRpb246ICdyZWxhdGl2ZScgfSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKHRhYmxlQ29udGFpbmVyUHJvcHMgPT09IG51bGwgfHwgdGFibGVDb250YWluZXJQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGFibGVDb250YWluZXJQcm9wcy5zeCwgdGhlbWUpKSksIGNoaWxkcmVuOiBbbG9hZGluZyA/IGpzeChNUlRfVGFibGVMb2FkaW5nT3ZlcmxheSwgeyB0YWJsZTogdGFibGUgfSkgOiBudWxsLCBqc3goTVJUX1RhYmxlLCB7IHRhYmxlOiB0YWJsZSB9KSwgKGNyZWF0ZU1vZGFsT3BlbiB8fCBlZGl0TW9kYWxPcGVuKSAmJiAoanN4KE1SVF9FZGl0Um93TW9kYWwsIHsgb3BlbjogdHJ1ZSwgdGFibGU6IHRhYmxlIH0pKV0gfSkpKTtcbn07XG5cbmNvbnN0IE1SVF9UYWJsZVBhcGVyID0gKF9hKSA9PiB7XG4gICAgdmFyIF9iLCBfYztcbiAgICB2YXIgeyB0YWJsZSB9ID0gX2EsIHJlc3QgPSBfX3Jlc3QoX2EsIFtcInRhYmxlXCJdKTtcbiAgICBjb25zdCB7IGdldFN0YXRlLCBvcHRpb25zOiB7IGVuYWJsZUJvdHRvbVRvb2xiYXIsIGVuYWJsZVRvcFRvb2xiYXIsIG11aVRhYmxlUGFwZXJQcm9wcywgcmVuZGVyQm90dG9tVG9vbGJhciwgcmVuZGVyVG9wVG9vbGJhciwgfSwgcmVmczogeyB0YWJsZVBhcGVyUmVmIH0sIH0gPSB0YWJsZTtcbiAgICBjb25zdCB7IGlzRnVsbFNjcmVlbiB9ID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBwYXBlclByb3BzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwYXJzZUZyb21WYWx1ZXNPckZ1bmMobXVpVGFibGVQYXBlclByb3BzLCB7IHRhYmxlIH0pKSwgcmVzdCk7XG4gICAgcmV0dXJuIChqc3hzKFBhcGVyLCBPYmplY3QuYXNzaWduKHsgZWxldmF0aW9uOiAyIH0sIHBhcGVyUHJvcHMsIHsgcmVmOiAocmVmKSA9PiB7XG4gICAgICAgICAgICB0YWJsZVBhcGVyUmVmLmN1cnJlbnQgPSByZWY7XG4gICAgICAgICAgICBpZiAocGFwZXJQcm9wcyA9PT0gbnVsbCB8fCBwYXBlclByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXBlclByb3BzLnJlZikge1xuICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHBhcGVyUHJvcHMucmVmLmN1cnJlbnQgPSByZWY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHN0eWxlOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIChpc0Z1bGxTY3JlZW5cbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDB2aCcsXG4gICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICBtYXJnaW46IDAsXG4gICAgICAgICAgICAgICAgbWF4SGVpZ2h0OiAnMTAwdmgnLFxuICAgICAgICAgICAgICAgIG1heFdpZHRoOiAnMTAwdncnLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwdncnLFxuICAgICAgICAgICAgICAgIHpJbmRleDogOTk5LFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB7fSkpLCBwYXBlclByb3BzID09PSBudWxsIHx8IHBhcGVyUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcGVyUHJvcHMuc3R5bGUpLCBzeDogKHRoZW1lKSA9PiAoT2JqZWN0LmFzc2lnbih7IGJhY2tncm91bmRDb2xvcjogZ2V0TVJUVGhlbWUodGFibGUsIHRoZW1lKS5iYXNlQmFja2dyb3VuZENvbG9yLCBiYWNrZ3JvdW5kSW1hZ2U6ICd1bnNldCcsIG92ZXJmbG93OiAnaGlkZGVuJywgdHJhbnNpdGlvbjogJ2FsbCAxMDBtcyBlYXNlLWluLW91dCcgfSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKHBhcGVyUHJvcHMgPT09IG51bGwgfHwgcGFwZXJQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFwZXJQcm9wcy5zeCwgdGhlbWUpKSksIGNoaWxkcmVuOiBbZW5hYmxlVG9wVG9vbGJhciAmJlxuICAgICAgICAgICAgICAgICgoX2IgPSBwYXJzZUZyb21WYWx1ZXNPckZ1bmMocmVuZGVyVG9wVG9vbGJhciwgeyB0YWJsZSB9KSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogKGpzeChNUlRfVG9wVG9vbGJhciwgeyB0YWJsZTogdGFibGUgfSkpKSwganN4KE1SVF9UYWJsZUNvbnRhaW5lciwgeyB0YWJsZTogdGFibGUgfSksIGVuYWJsZUJvdHRvbVRvb2xiYXIgJiZcbiAgICAgICAgICAgICAgICAoKF9jID0gcGFyc2VGcm9tVmFsdWVzT3JGdW5jKHJlbmRlckJvdHRvbVRvb2xiYXIsIHsgdGFibGUgfSkpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IChqc3goTVJUX0JvdHRvbVRvb2xiYXIsIHsgdGFibGU6IHRhYmxlIH0pKSldIH0pKSk7XG59O1xuXG5jb25zdCBNUlRfUm93UGluQnV0dG9uID0gKF9hKSA9PiB7XG4gICAgdmFyIHsgcGlubmluZ1Bvc2l0aW9uLCByb3csIHRhYmxlIH0gPSBfYSwgcmVzdCA9IF9fcmVzdChfYSwgW1wicGlubmluZ1Bvc2l0aW9uXCIsIFwicm93XCIsIFwidGFibGVcIl0pO1xuICAgIGNvbnN0IHsgb3B0aW9uczogeyBpY29uczogeyBDbG9zZUljb24sIFB1c2hQaW5JY29uIH0sIGxvY2FsaXphdGlvbiwgcm93UGlubmluZ0Rpc3BsYXlNb2RlLCB9LCB9ID0gdGFibGU7XG4gICAgY29uc3QgaXNQaW5uZWQgPSByb3cuZ2V0SXNQaW5uZWQoKTtcbiAgICBjb25zdCBbdG9vbHRpcE9wZW5lZCwgc2V0VG9vbHRpcE9wZW5lZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgaGFuZGxlVG9nZ2xlUGluID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHNldFRvb2x0aXBPcGVuZWQoZmFsc2UpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgcm93LnBpbihpc1Bpbm5lZCA/IGZhbHNlIDogcGlubmluZ1Bvc2l0aW9uKTtcbiAgICB9O1xuICAgIHJldHVybiAoanN4KFRvb2x0aXAsIHsgZW50ZXJEZWxheTogMTAwMCwgZW50ZXJOZXh0RGVsYXk6IDEwMDAsIG9wZW46IHRvb2x0aXBPcGVuZWQsIHRpdGxlOiBpc1Bpbm5lZCA/IGxvY2FsaXphdGlvbi51bnBpbiA6IGxvY2FsaXphdGlvbi5waW4sIGNoaWxkcmVuOiBqc3goSWNvbkJ1dHRvbiwgT2JqZWN0LmFzc2lnbih7IFwiYXJpYS1sYWJlbFwiOiBsb2NhbGl6YXRpb24ucGluLCBvbkNsaWNrOiBoYW5kbGVUb2dnbGVQaW4sIG9uTW91c2VFbnRlcjogKCkgPT4gc2V0VG9vbHRpcE9wZW5lZCh0cnVlKSwgb25Nb3VzZUxlYXZlOiAoKSA9PiBzZXRUb29sdGlwT3BlbmVkKGZhbHNlKSwgc2l6ZTogXCJzbWFsbFwiIH0sIHJlc3QsIHsgc3g6ICh0aGVtZSkgPT4gKE9iamVjdC5hc3NpZ24oeyBoZWlnaHQ6ICcyNHB4Jywgd2lkdGg6ICcyNHB4JyB9LCBwYXJzZUZyb21WYWx1ZXNPckZ1bmMocmVzdCA9PT0gbnVsbCB8fCByZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXN0LnN4LCB0aGVtZSkpKSwgY2hpbGRyZW46IGlzUGlubmVkID8gKGpzeChDbG9zZUljb24sIHt9KSkgOiAoanN4KFB1c2hQaW5JY29uLCB7IGZvbnRTaXplOiBcInNtYWxsXCIsIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHJvdGF0ZSgke3Jvd1Bpbm5pbmdEaXNwbGF5TW9kZSA9PT0gJ3N0aWNreSdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gMTM1XG4gICAgICAgICAgICAgICAgICAgICAgICA6IHBpbm5pbmdQb3NpdGlvbiA9PT0gJ3RvcCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IDE4MFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogMH1kZWcpYCxcbiAgICAgICAgICAgICAgICB9IH0pKSB9KSkgfSkpO1xufTtcblxuY29uc3QgTVJUX1RhYmxlQm9keVJvd1BpbkJ1dHRvbiA9IChfYSkgPT4ge1xuICAgIHZhciB7IHJvdywgdGFibGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJyb3dcIiwgXCJ0YWJsZVwiXSk7XG4gICAgY29uc3QgeyBnZXRTdGF0ZSwgb3B0aW9uczogeyBlbmFibGVSb3dQaW5uaW5nLCByb3dQaW5uaW5nRGlzcGxheU1vZGUgfSwgfSA9IHRhYmxlO1xuICAgIGNvbnN0IHsgZGVuc2l0eSB9ID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBjYW5QaW4gPSBwYXJzZUZyb21WYWx1ZXNPckZ1bmMoZW5hYmxlUm93UGlubmluZywgcm93KTtcbiAgICBpZiAoIWNhblBpbilcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29uc3Qgcm93UGluQnV0dG9uUHJvcHMgPSBPYmplY3QuYXNzaWduKHsgcm93LFxuICAgICAgICB0YWJsZSB9LCByZXN0KTtcbiAgICBpZiAocm93UGlubmluZ0Rpc3BsYXlNb2RlID09PSAndG9wLWFuZC1ib3R0b20nICYmICFyb3cuZ2V0SXNQaW5uZWQoKSkge1xuICAgICAgICByZXR1cm4gKGpzeHMoQm94LCB7IHN4OiB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IGRlbnNpdHkgPT09ICdjb21wYWN0JyA/ICdyb3cnIDogJ2NvbHVtbicsXG4gICAgICAgICAgICB9LCBjaGlsZHJlbjogW2pzeChNUlRfUm93UGluQnV0dG9uLCBPYmplY3QuYXNzaWduKHsgcGlubmluZ1Bvc2l0aW9uOiBcInRvcFwiIH0sIHJvd1BpbkJ1dHRvblByb3BzKSksIGpzeChNUlRfUm93UGluQnV0dG9uLCBPYmplY3QuYXNzaWduKHsgcGlubmluZ1Bvc2l0aW9uOiBcImJvdHRvbVwiIH0sIHJvd1BpbkJ1dHRvblByb3BzKSldIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIChqc3goTVJUX1Jvd1BpbkJ1dHRvbiwgT2JqZWN0LmFzc2lnbih7IHBpbm5pbmdQb3NpdGlvbjogcm93UGlubmluZ0Rpc3BsYXlNb2RlID09PSAnYm90dG9tJyA/ICdib3R0b20nIDogJ3RvcCcgfSwgcm93UGluQnV0dG9uUHJvcHMpKSk7XG59O1xuXG5jb25zdCBNUlRfRXhwYW5kQWxsQnV0dG9uID0gKF9hKSA9PiB7XG4gICAgdmFyIF9iLCBfYztcbiAgICB2YXIgeyB0YWJsZSB9ID0gX2EsIHJlc3QgPSBfX3Jlc3QoX2EsIFtcInRhYmxlXCJdKTtcbiAgICBjb25zdCB7IGdldENhblNvbWVSb3dzRXhwYW5kLCBnZXRJc0FsbFJvd3NFeHBhbmRlZCwgZ2V0SXNTb21lUm93c0V4cGFuZGVkLCBnZXRTdGF0ZSwgb3B0aW9uczogeyBpY29uczogeyBLZXlib2FyZERvdWJsZUFycm93RG93bkljb24gfSwgbG9jYWxpemF0aW9uLCBtdWlFeHBhbmRBbGxCdXR0b25Qcm9wcywgcmVuZGVyRGV0YWlsUGFuZWwsIH0sIHRvZ2dsZUFsbFJvd3NFeHBhbmRlZCwgfSA9IHRhYmxlO1xuICAgIGNvbnN0IHsgZGVuc2l0eSwgaXNMb2FkaW5nIH0gPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGljb25CdXR0b25Qcm9wcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKG11aUV4cGFuZEFsbEJ1dHRvblByb3BzLCB7XG4gICAgICAgIHRhYmxlLFxuICAgIH0pKSwgcmVzdCk7XG4gICAgY29uc3QgaXNBbGxSb3dzRXhwYW5kZWQgPSBnZXRJc0FsbFJvd3NFeHBhbmRlZCgpO1xuICAgIHJldHVybiAoanN4KFRvb2x0aXAsIHsgZW50ZXJEZWxheTogMTAwMCwgZW50ZXJOZXh0RGVsYXk6IDEwMDAsIHRpdGxlOiAoX2IgPSBpY29uQnV0dG9uUHJvcHMgPT09IG51bGwgfHwgaWNvbkJ1dHRvblByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpY29uQnV0dG9uUHJvcHMudGl0bGUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IChpc0FsbFJvd3NFeHBhbmRlZCA/IGxvY2FsaXphdGlvbi5jb2xsYXBzZUFsbCA6IGxvY2FsaXphdGlvbi5leHBhbmRBbGwpLCBjaGlsZHJlbjoganN4KFwic3BhblwiLCB7IGNoaWxkcmVuOiBqc3goSWNvbkJ1dHRvbiwgT2JqZWN0LmFzc2lnbih7IFwiYXJpYS1sYWJlbFwiOiBsb2NhbGl6YXRpb24uZXhwYW5kQWxsLCBkaXNhYmxlZDogaXNMb2FkaW5nIHx8ICghcmVuZGVyRGV0YWlsUGFuZWwgJiYgIWdldENhblNvbWVSb3dzRXhwYW5kKCkpLCBvbkNsaWNrOiAoKSA9PiB0b2dnbGVBbGxSb3dzRXhwYW5kZWQoIWlzQWxsUm93c0V4cGFuZGVkKSB9LCBpY29uQnV0dG9uUHJvcHMsIHsgc3g6ICh0aGVtZSkgPT4gKE9iamVjdC5hc3NpZ24oeyBoZWlnaHQ6IGRlbnNpdHkgPT09ICdjb21wYWN0JyA/ICcxLjc1cmVtJyA6ICcyLjI1cmVtJywgbXQ6IGRlbnNpdHkgIT09ICdjb21wYWN0JyA/ICctMC4yNXJlbScgOiB1bmRlZmluZWQsIHdpZHRoOiBkZW5zaXR5ID09PSAnY29tcGFjdCcgPyAnMS43NXJlbScgOiAnMi4yNXJlbScgfSwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jKGljb25CdXR0b25Qcm9wcyA9PT0gbnVsbCB8fCBpY29uQnV0dG9uUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGljb25CdXR0b25Qcm9wcy5zeCwgdGhlbWUpKSksIHRpdGxlOiB1bmRlZmluZWQsIGNoaWxkcmVuOiAoX2MgPSBpY29uQnV0dG9uUHJvcHMgPT09IG51bGwgfHwgaWNvbkJ1dHRvblByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpY29uQnV0dG9uUHJvcHMuY2hpbGRyZW4pICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IChqc3goS2V5Ym9hcmREb3VibGVBcnJvd0Rvd25JY29uLCB7IHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGByb3RhdGUoJHtpc0FsbFJvd3NFeHBhbmRlZCA/IC0xODAgOiBnZXRJc1NvbWVSb3dzRXhwYW5kZWQoKSA/IC05MCA6IDB9ZGVnKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAndHJhbnNmb3JtIDE1MG1zJyxcbiAgICAgICAgICAgICAgICAgICAgfSB9KSkgfSkpIH0pIH0pKTtcbn07XG5cbmNvbnN0IE1SVF9FeHBhbmRCdXR0b24gPSAoeyByb3csIHRhYmxlLCB9KSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCB7IGdldFN0YXRlLCBvcHRpb25zOiB7IGljb25zOiB7IEV4cGFuZE1vcmVJY29uIH0sIGxvY2FsaXphdGlvbiwgbXVpRXhwYW5kQnV0dG9uUHJvcHMsIHJlbmRlckRldGFpbFBhbmVsLCB9LCB9ID0gdGFibGU7XG4gICAgY29uc3QgeyBkZW5zaXR5IH0gPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGljb25CdXR0b25Qcm9wcyA9IHBhcnNlRnJvbVZhbHVlc09yRnVuYyhtdWlFeHBhbmRCdXR0b25Qcm9wcywge1xuICAgICAgICByb3csXG4gICAgICAgIHRhYmxlLFxuICAgIH0pO1xuICAgIGNvbnN0IGNhbkV4cGFuZCA9IHJvdy5nZXRDYW5FeHBhbmQoKTtcbiAgICBjb25zdCBpc0V4cGFuZGVkID0gcm93LmdldElzRXhwYW5kZWQoKTtcbiAgICBjb25zdCBoYW5kbGVUb2dnbGVFeHBhbmQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgcm93LnRvZ2dsZUV4cGFuZGVkKCk7XG4gICAgICAgIChfYSA9IGljb25CdXR0b25Qcm9wcyA9PT0gbnVsbCB8fCBpY29uQnV0dG9uUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGljb25CdXR0b25Qcm9wcy5vbkNsaWNrKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChpY29uQnV0dG9uUHJvcHMsIGV2ZW50KTtcbiAgICB9O1xuICAgIHJldHVybiAoanN4KFRvb2x0aXAsIHsgZGlzYWJsZUhvdmVyTGlzdGVuZXI6ICFjYW5FeHBhbmQgJiYgIXJlbmRlckRldGFpbFBhbmVsLCBlbnRlckRlbGF5OiAxMDAwLCBlbnRlck5leHREZWxheTogMTAwMCwgdGl0bGU6IChfYSA9IGljb25CdXR0b25Qcm9wcyA9PT0gbnVsbCB8fCBpY29uQnV0dG9uUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGljb25CdXR0b25Qcm9wcy50aXRsZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKGlzRXhwYW5kZWQgPyBsb2NhbGl6YXRpb24uY29sbGFwc2UgOiBsb2NhbGl6YXRpb24uZXhwYW5kKSwgY2hpbGRyZW46IGpzeChcInNwYW5cIiwgeyBjaGlsZHJlbjoganN4KEljb25CdXR0b24sIE9iamVjdC5hc3NpZ24oeyBcImFyaWEtbGFiZWxcIjogbG9jYWxpemF0aW9uLmV4cGFuZCwgZGlzYWJsZWQ6ICFjYW5FeHBhbmQgJiYgIXJlbmRlckRldGFpbFBhbmVsIH0sIGljb25CdXR0b25Qcm9wcywgeyBvbkNsaWNrOiBoYW5kbGVUb2dnbGVFeHBhbmQsIHN4OiAodGhlbWUpID0+IChPYmplY3QuYXNzaWduKHsgaGVpZ2h0OiBkZW5zaXR5ID09PSAnY29tcGFjdCcgPyAnMS43NXJlbScgOiAnMi4yNXJlbScsIG9wYWNpdHk6ICFjYW5FeHBhbmQgJiYgIXJlbmRlckRldGFpbFBhbmVsID8gMC4zIDogMSwgd2lkdGg6IGRlbnNpdHkgPT09ICdjb21wYWN0JyA/ICcxLjc1cmVtJyA6ICcyLjI1cmVtJyB9LCBwYXJzZUZyb21WYWx1ZXNPckZ1bmMoaWNvbkJ1dHRvblByb3BzID09PSBudWxsIHx8IGljb25CdXR0b25Qcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaWNvbkJ1dHRvblByb3BzLnN4LCB0aGVtZSkpKSwgdGl0bGU6IHVuZGVmaW5lZCwgY2hpbGRyZW46IChfYiA9IGljb25CdXR0b25Qcm9wcyA9PT0gbnVsbCB8fCBpY29uQnV0dG9uUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGljb25CdXR0b25Qcm9wcy5jaGlsZHJlbikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogKGpzeChFeHBhbmRNb3JlSWNvbiwgeyBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgcm90YXRlKCR7IWNhbkV4cGFuZCAmJiAhcmVuZGVyRGV0YWlsUGFuZWwgPyAtOTAgOiBpc0V4cGFuZGVkID8gLTE4MCA6IDB9ZGVnKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAndHJhbnNmb3JtIDE1MG1zJyxcbiAgICAgICAgICAgICAgICAgICAgfSB9KSkgfSkpIH0pIH0pKTtcbn07XG5cbmNvbnN0IE1SVF9Sb3dBY3Rpb25NZW51ID0gKF9hKSA9PiB7XG4gICAgdmFyIHsgYW5jaG9yRWwsIGhhbmRsZUVkaXQsIHJvdywgc2V0QW5jaG9yRWwsIHRhYmxlIH0gPSBfYSwgcmVzdCA9IF9fcmVzdChfYSwgW1wiYW5jaG9yRWxcIiwgXCJoYW5kbGVFZGl0XCIsIFwicm93XCIsIFwic2V0QW5jaG9yRWxcIiwgXCJ0YWJsZVwiXSk7XG4gICAgY29uc3QgeyBnZXRTdGF0ZSwgb3B0aW9uczogeyBlbmFibGVFZGl0aW5nLCBpY29uczogeyBFZGl0SWNvbiB9LCBsb2NhbGl6YXRpb24sIHJlbmRlclJvd0FjdGlvbk1lbnVJdGVtcywgfSwgfSA9IHRhYmxlO1xuICAgIGNvbnN0IHsgZGVuc2l0eSB9ID0gZ2V0U3RhdGUoKTtcbiAgICByZXR1cm4gKGpzeHMoTWVudSwgT2JqZWN0LmFzc2lnbih7IE1lbnVMaXN0UHJvcHM6IHtcbiAgICAgICAgICAgIGRlbnNlOiBkZW5zaXR5ID09PSAnY29tcGFjdCcsXG4gICAgICAgIH0sIGFuY2hvckVsOiBhbmNob3JFbCwgb25DbGljazogKGV2ZW50KSA9PiBldmVudC5zdG9wUHJvcGFnYXRpb24oKSwgb25DbG9zZTogKCkgPT4gc2V0QW5jaG9yRWwobnVsbCksIG9wZW46ICEhYW5jaG9yRWwgfSwgcmVzdCwgeyBjaGlsZHJlbjogW3BhcnNlRnJvbVZhbHVlc09yRnVuYyhlbmFibGVFZGl0aW5nLCByb3cpICYmIChqc3goTWVudUl0ZW0sIHsgb25DbGljazogaGFuZGxlRWRpdCwgc3g6IGNvbW1vbk1lbnVJdGVtU3R5bGVzLCBjaGlsZHJlbjoganN4cyhCb3gsIHsgc3g6IGNvbW1vbkxpc3RJdGVtU3R5bGVzLCBjaGlsZHJlbjogW2pzeChMaXN0SXRlbUljb24sIHsgY2hpbGRyZW46IGpzeChFZGl0SWNvbiwge30pIH0pLCBsb2NhbGl6YXRpb24uZWRpdF0gfSkgfSkpLCByZW5kZXJSb3dBY3Rpb25NZW51SXRlbXMgPT09IG51bGwgfHwgcmVuZGVyUm93QWN0aW9uTWVudUl0ZW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZW5kZXJSb3dBY3Rpb25NZW51SXRlbXMoe1xuICAgICAgICAgICAgICAgIGNsb3NlTWVudTogKCkgPT4gc2V0QW5jaG9yRWwobnVsbCksXG4gICAgICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgICAgIHRhYmxlLFxuICAgICAgICAgICAgfSldIH0pKSk7XG59O1xuXG5jb25zdCBjb21tb25JY29uQnV0dG9uU3R5bGVzID0ge1xuICAgICcmOmhvdmVyJzoge1xuICAgICAgICBvcGFjaXR5OiAxLFxuICAgIH0sXG4gICAgaGVpZ2h0OiAnMnJlbScsXG4gICAgbWw6ICcxMHB4JyxcbiAgICBvcGFjaXR5OiAwLjUsXG4gICAgdHJhbnNpdGlvbjogJ29wYWNpdHkgMTUwbXMnLFxuICAgIHdpZHRoOiAnMnJlbScsXG59O1xuY29uc3QgTVJUX1RvZ2dsZVJvd0FjdGlvbk1lbnVCdXR0b24gPSAoX2EpID0+IHtcbiAgICB2YXIgeyBjZWxsLCByb3csIHRhYmxlIH0gPSBfYSwgcmVzdCA9IF9fcmVzdChfYSwgW1wiY2VsbFwiLCBcInJvd1wiLCBcInRhYmxlXCJdKTtcbiAgICBjb25zdCB7IGdldFN0YXRlLCBvcHRpb25zOiB7IGNyZWF0ZURpc3BsYXlNb2RlLCBlZGl0RGlzcGxheU1vZGUsIGVuYWJsZUVkaXRpbmcsIGljb25zOiB7IEVkaXRJY29uLCBNb3JlSG9yaXpJY29uIH0sIGxvY2FsaXphdGlvbiwgcmVuZGVyUm93QWN0aW9uTWVudUl0ZW1zLCByZW5kZXJSb3dBY3Rpb25zLCB9LCBzZXRFZGl0aW5nUm93LCB9ID0gdGFibGU7XG4gICAgY29uc3QgeyBjcmVhdGluZ1JvdywgZWRpdGluZ1JvdyB9ID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBpc0NyZWF0aW5nID0gKGNyZWF0aW5nUm93ID09PSBudWxsIHx8IGNyZWF0aW5nUm93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjcmVhdGluZ1Jvdy5pZCkgPT09IHJvdy5pZDtcbiAgICBjb25zdCBpc0VkaXRpbmcgPSAoZWRpdGluZ1JvdyA9PT0gbnVsbCB8fCBlZGl0aW5nUm93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlZGl0aW5nUm93LmlkKSA9PT0gcm93LmlkO1xuICAgIGNvbnN0IHNob3dFZGl0QWN0aW9uQnV0dG9ucyA9IChpc0NyZWF0aW5nICYmIGNyZWF0ZURpc3BsYXlNb2RlID09PSAncm93JykgfHxcbiAgICAgICAgKGlzRWRpdGluZyAmJiBlZGl0RGlzcGxheU1vZGUgPT09ICdyb3cnKTtcbiAgICBjb25zdCBbYW5jaG9yRWwsIHNldEFuY2hvckVsXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IGhhbmRsZU9wZW5Sb3dBY3Rpb25NZW51ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBzZXRBbmNob3JFbChldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZVN0YXJ0RWRpdE1vZGUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHNldEVkaXRpbmdSb3coT2JqZWN0LmFzc2lnbih7fSwgcm93KSk7XG4gICAgICAgIHNldEFuY2hvckVsKG51bGwpO1xuICAgIH07XG4gICAgcmV0dXJuIChqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IHJlbmRlclJvd0FjdGlvbnMgJiYgIXNob3dFZGl0QWN0aW9uQnV0dG9ucyA/IChyZW5kZXJSb3dBY3Rpb25zKHsgY2VsbCwgcm93LCB0YWJsZSB9KSkgOiBzaG93RWRpdEFjdGlvbkJ1dHRvbnMgPyAoanN4KE1SVF9FZGl0QWN0aW9uQnV0dG9ucywgeyByb3c6IHJvdywgdGFibGU6IHRhYmxlIH0pKSA6ICFyZW5kZXJSb3dBY3Rpb25NZW51SXRlbXMgJiZcbiAgICAgICAgICAgIHBhcnNlRnJvbVZhbHVlc09yRnVuYyhlbmFibGVFZGl0aW5nLCByb3cpICYmXG4gICAgICAgICAgICBbJ21vZGFsJywgJ3JvdyddLmluY2x1ZGVzKGVkaXREaXNwbGF5TW9kZSkgPyAoanN4KFRvb2x0aXAsIHsgcGxhY2VtZW50OiBcInJpZ2h0XCIsIHRpdGxlOiBsb2NhbGl6YXRpb24uZWRpdCwgY2hpbGRyZW46IGpzeChJY29uQnV0dG9uLCBPYmplY3QuYXNzaWduKHsgXCJhcmlhLWxhYmVsXCI6IGxvY2FsaXphdGlvbi5lZGl0LCBvbkNsaWNrOiBoYW5kbGVTdGFydEVkaXRNb2RlLCBzeDogY29tbW9uSWNvbkJ1dHRvblN0eWxlcyB9LCByZXN0LCB7IGNoaWxkcmVuOiBqc3goRWRpdEljb24sIHt9KSB9KSkgfSkpIDogcmVuZGVyUm93QWN0aW9uTWVudUl0ZW1zID8gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtqc3goVG9vbHRpcCwgeyBlbnRlckRlbGF5OiAxMDAwLCBlbnRlck5leHREZWxheTogMTAwMCwgdGl0bGU6IGxvY2FsaXphdGlvbi5yb3dBY3Rpb25zLCBjaGlsZHJlbjoganN4KEljb25CdXR0b24sIE9iamVjdC5hc3NpZ24oeyBcImFyaWEtbGFiZWxcIjogbG9jYWxpemF0aW9uLnJvd0FjdGlvbnMsIG9uQ2xpY2s6IGhhbmRsZU9wZW5Sb3dBY3Rpb25NZW51LCBzaXplOiBcInNtYWxsXCIsIHN4OiBjb21tb25JY29uQnV0dG9uU3R5bGVzIH0sIHJlc3QsIHsgY2hpbGRyZW46IGpzeChNb3JlSG9yaXpJY29uLCB7fSkgfSkpIH0pLCBqc3goTVJUX1Jvd0FjdGlvbk1lbnUsIHsgYW5jaG9yRWw6IGFuY2hvckVsLCBoYW5kbGVFZGl0OiBoYW5kbGVTdGFydEVkaXRNb2RlLCByb3c6IHJvdywgc2V0QW5jaG9yRWw6IHNldEFuY2hvckVsLCB0YWJsZTogdGFibGUgfSldIH0pKSA6IG51bGwgfSkpO1xufTtcblxuY29uc3QgTVJUX0FnZ3JlZ2F0aW9uRm5zID0gT2JqZWN0LmFzc2lnbih7fSwgYWdncmVnYXRpb25GbnMpO1xuXG5jb25zdCBmdXp6eSA9IChyb3csIGNvbHVtbklkLCBmaWx0ZXJWYWx1ZSwgYWRkTWV0YSkgPT4ge1xuICAgIGNvbnN0IGl0ZW1SYW5rID0gcmFua0l0ZW0ocm93LmdldFZhbHVlKGNvbHVtbklkKSwgZmlsdGVyVmFsdWUsIHtcbiAgICAgICAgdGhyZXNob2xkOiByYW5raW5ncy5NQVRDSEVTLFxuICAgIH0pO1xuICAgIGFkZE1ldGEoaXRlbVJhbmspO1xuICAgIHJldHVybiBpdGVtUmFuay5wYXNzZWQ7XG59O1xuZnV6enkuYXV0b1JlbW92ZSA9ICh2YWwpID0+ICF2YWw7XG5jb25zdCBjb250YWlucyA9IChyb3csIGlkLCBmaWx0ZXJWYWx1ZSkgPT4gcm93XG4gICAgLmdldFZhbHVlKGlkKVxuICAgIC50b1N0cmluZygpXG4gICAgLnRvTG93ZXJDYXNlKClcbiAgICAudHJpbSgpXG4gICAgLmluY2x1ZGVzKGZpbHRlclZhbHVlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS50cmltKCkpO1xuY29udGFpbnMuYXV0b1JlbW92ZSA9ICh2YWwpID0+ICF2YWw7XG5jb25zdCBzdGFydHNXaXRoID0gKHJvdywgaWQsIGZpbHRlclZhbHVlKSA9PiByb3dcbiAgICAuZ2V0VmFsdWUoaWQpXG4gICAgLnRvU3RyaW5nKClcbiAgICAudG9Mb3dlckNhc2UoKVxuICAgIC50cmltKClcbiAgICAuc3RhcnRzV2l0aChmaWx0ZXJWYWx1ZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkudHJpbSgpKTtcbnN0YXJ0c1dpdGguYXV0b1JlbW92ZSA9ICh2YWwpID0+ICF2YWw7XG5jb25zdCBlbmRzV2l0aCA9IChyb3csIGlkLCBmaWx0ZXJWYWx1ZSkgPT4gcm93XG4gICAgLmdldFZhbHVlKGlkKVxuICAgIC50b1N0cmluZygpXG4gICAgLnRvTG93ZXJDYXNlKClcbiAgICAudHJpbSgpXG4gICAgLmVuZHNXaXRoKGZpbHRlclZhbHVlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS50cmltKCkpO1xuZW5kc1dpdGguYXV0b1JlbW92ZSA9ICh2YWwpID0+ICF2YWw7XG5jb25zdCBlcXVhbHMgPSAocm93LCBpZCwgZmlsdGVyVmFsdWUpID0+IHJvdy5nZXRWYWx1ZShpZCkudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA9PT1cbiAgICAoZmlsdGVyVmFsdWUgPT09IG51bGwgfHwgZmlsdGVyVmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZpbHRlclZhbHVlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS50cmltKCkpO1xuZXF1YWxzLmF1dG9SZW1vdmUgPSAodmFsKSA9PiAhdmFsO1xuY29uc3Qgbm90RXF1YWxzID0gKHJvdywgaWQsIGZpbHRlclZhbHVlKSA9PiByb3cuZ2V0VmFsdWUoaWQpLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS50cmltKCkgIT09XG4gICAgZmlsdGVyVmFsdWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbm5vdEVxdWFscy5hdXRvUmVtb3ZlID0gKHZhbCkgPT4gIXZhbDtcbmNvbnN0IGdyZWF0ZXJUaGFuID0gKHJvdywgaWQsIGZpbHRlclZhbHVlKSA9PiAhaXNOYU4oK2ZpbHRlclZhbHVlKSAmJiAhaXNOYU4oK3Jvdy5nZXRWYWx1ZShpZCkpXG4gICAgPyArcm93LmdldFZhbHVlKGlkKSA+ICtmaWx0ZXJWYWx1ZVxuICAgIDogcm93LmdldFZhbHVlKGlkKS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkudHJpbSgpID5cbiAgICAgICAgKGZpbHRlclZhbHVlID09PSBudWxsIHx8IGZpbHRlclZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmaWx0ZXJWYWx1ZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkudHJpbSgpKTtcbmdyZWF0ZXJUaGFuLmF1dG9SZW1vdmUgPSAodmFsKSA9PiAhdmFsO1xuY29uc3QgZ3JlYXRlclRoYW5PckVxdWFsVG8gPSAocm93LCBpZCwgZmlsdGVyVmFsdWUpID0+IGVxdWFscyhyb3csIGlkLCBmaWx0ZXJWYWx1ZSkgfHwgZ3JlYXRlclRoYW4ocm93LCBpZCwgZmlsdGVyVmFsdWUpO1xuZ3JlYXRlclRoYW5PckVxdWFsVG8uYXV0b1JlbW92ZSA9ICh2YWwpID0+ICF2YWw7XG5jb25zdCBsZXNzVGhhbiA9IChyb3csIGlkLCBmaWx0ZXJWYWx1ZSkgPT4gIWlzTmFOKCtmaWx0ZXJWYWx1ZSkgJiYgIWlzTmFOKCtyb3cuZ2V0VmFsdWUoaWQpKVxuICAgID8gK3Jvdy5nZXRWYWx1ZShpZCkgPCArZmlsdGVyVmFsdWVcbiAgICA6IHJvdy5nZXRWYWx1ZShpZCkudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA8XG4gICAgICAgIChmaWx0ZXJWYWx1ZSA9PT0gbnVsbCB8fCBmaWx0ZXJWYWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZmlsdGVyVmFsdWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLnRyaW0oKSk7XG5sZXNzVGhhbi5hdXRvUmVtb3ZlID0gKHZhbCkgPT4gIXZhbDtcbmNvbnN0IGxlc3NUaGFuT3JFcXVhbFRvID0gKHJvdywgaWQsIGZpbHRlclZhbHVlKSA9PiBlcXVhbHMocm93LCBpZCwgZmlsdGVyVmFsdWUpIHx8IGxlc3NUaGFuKHJvdywgaWQsIGZpbHRlclZhbHVlKTtcbmxlc3NUaGFuT3JFcXVhbFRvLmF1dG9SZW1vdmUgPSAodmFsKSA9PiAhdmFsO1xuY29uc3QgYmV0d2VlbiA9IChyb3csIGlkLCBmaWx0ZXJWYWx1ZXMpID0+IChbJycsIHVuZGVmaW5lZF0uaW5jbHVkZXMoZmlsdGVyVmFsdWVzWzBdKSB8fFxuICAgIGdyZWF0ZXJUaGFuKHJvdywgaWQsIGZpbHRlclZhbHVlc1swXSkpICYmXG4gICAgKCghaXNOYU4oK2ZpbHRlclZhbHVlc1swXSkgJiZcbiAgICAgICAgIWlzTmFOKCtmaWx0ZXJWYWx1ZXNbMV0pICYmXG4gICAgICAgICtmaWx0ZXJWYWx1ZXNbMF0gPiArZmlsdGVyVmFsdWVzWzFdKSB8fFxuICAgICAgICBbJycsIHVuZGVmaW5lZF0uaW5jbHVkZXMoZmlsdGVyVmFsdWVzWzFdKSB8fFxuICAgICAgICBsZXNzVGhhbihyb3csIGlkLCBmaWx0ZXJWYWx1ZXNbMV0pKTtcbmJldHdlZW4uYXV0b1JlbW92ZSA9ICh2YWwpID0+ICF2YWw7XG5jb25zdCBiZXR3ZWVuSW5jbHVzaXZlID0gKHJvdywgaWQsIGZpbHRlclZhbHVlcykgPT4gKFsnJywgdW5kZWZpbmVkXS5pbmNsdWRlcyhmaWx0ZXJWYWx1ZXNbMF0pIHx8XG4gICAgZ3JlYXRlclRoYW5PckVxdWFsVG8ocm93LCBpZCwgZmlsdGVyVmFsdWVzWzBdKSkgJiZcbiAgICAoKCFpc05hTigrZmlsdGVyVmFsdWVzWzBdKSAmJlxuICAgICAgICAhaXNOYU4oK2ZpbHRlclZhbHVlc1sxXSkgJiZcbiAgICAgICAgK2ZpbHRlclZhbHVlc1swXSA+ICtmaWx0ZXJWYWx1ZXNbMV0pIHx8XG4gICAgICAgIFsnJywgdW5kZWZpbmVkXS5pbmNsdWRlcyhmaWx0ZXJWYWx1ZXNbMV0pIHx8XG4gICAgICAgIGxlc3NUaGFuT3JFcXVhbFRvKHJvdywgaWQsIGZpbHRlclZhbHVlc1sxXSkpO1xuYmV0d2VlbkluY2x1c2l2ZS5hdXRvUmVtb3ZlID0gKHZhbCkgPT4gIXZhbDtcbmNvbnN0IGVtcHR5ID0gKHJvdywgaWQsIF9maWx0ZXJWYWx1ZSkgPT4gIXJvdy5nZXRWYWx1ZShpZCkudG9TdHJpbmcoKS50cmltKCk7XG5lbXB0eS5hdXRvUmVtb3ZlID0gKHZhbCkgPT4gIXZhbDtcbmNvbnN0IG5vdEVtcHR5ID0gKHJvdywgaWQsIF9maWx0ZXJWYWx1ZSkgPT4gISFyb3cuZ2V0VmFsdWUoaWQpLnRvU3RyaW5nKCkudHJpbSgpO1xubm90RW1wdHkuYXV0b1JlbW92ZSA9ICh2YWwpID0+ICF2YWw7XG5jb25zdCBNUlRfRmlsdGVyRm5zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBmaWx0ZXJGbnMpLCB7IGJldHdlZW4sXG4gICAgYmV0d2VlbkluY2x1c2l2ZSxcbiAgICBjb250YWlucyxcbiAgICBlbXB0eSxcbiAgICBlbmRzV2l0aCxcbiAgICBlcXVhbHMsXG4gICAgZnV6enksXG4gICAgZ3JlYXRlclRoYW4sXG4gICAgZ3JlYXRlclRoYW5PckVxdWFsVG8sXG4gICAgbGVzc1RoYW4sXG4gICAgbGVzc1RoYW5PckVxdWFsVG8sXG4gICAgbm90RW1wdHksXG4gICAgbm90RXF1YWxzLFxuICAgIHN0YXJ0c1dpdGggfSk7XG5cbmNvbnN0IE1SVF9EZWZhdWx0X0ljb25zID0ge1xuICAgIEFycm93RG93bndhcmRJY29uLFxuICAgIEFycm93UmlnaHRJY29uLFxuICAgIENhbmNlbEljb24sXG4gICAgQ2hldnJvbkxlZnRJY29uLFxuICAgIENoZXZyb25SaWdodEljb24sXG4gICAgQ2xlYXJBbGxJY29uLFxuICAgIENsb3NlSWNvbixcbiAgICBEZW5zaXR5TGFyZ2VJY29uLFxuICAgIERlbnNpdHlNZWRpdW1JY29uLFxuICAgIERlbnNpdHlTbWFsbEljb24sXG4gICAgRHJhZ0hhbmRsZUljb24sXG4gICAgRHluYW1pY0ZlZWRJY29uLFxuICAgIEVkaXRJY29uLFxuICAgIEV4cGFuZE1vcmVJY29uLFxuICAgIEZpbHRlckFsdEljb24sXG4gICAgRmlsdGVyTGlzdEljb24sXG4gICAgRmlsdGVyTGlzdE9mZkljb24sXG4gICAgRmlyc3RQYWdlSWNvbixcbiAgICBGdWxsc2NyZWVuRXhpdEljb24sXG4gICAgRnVsbHNjcmVlbkljb24sXG4gICAgS2V5Ym9hcmREb3VibGVBcnJvd0Rvd25JY29uLFxuICAgIExhc3RQYWdlSWNvbixcbiAgICBNb3JlSG9yaXpJY29uLFxuICAgIE1vcmVWZXJ0SWNvbixcbiAgICBQdXNoUGluSWNvbixcbiAgICBSZXN0YXJ0QWx0SWNvbixcbiAgICBTYXZlSWNvbixcbiAgICBTZWFyY2hJY29uLFxuICAgIFNlYXJjaE9mZkljb24sXG4gICAgU29ydEljb24sXG4gICAgU3luY0FsdEljb24sXG4gICAgVmlld0NvbHVtbkljb24sXG4gICAgVmlzaWJpbGl0eU9mZkljb24sXG59O1xuXG5jb25zdCBNUlRfTG9jYWxpemF0aW9uX0VOID0ge1xuICAgIGFjdGlvbnM6ICdBY3Rpb25zJyxcbiAgICBhbmQ6ICdhbmQnLFxuICAgIGNhbmNlbDogJ0NhbmNlbCcsXG4gICAgY2hhbmdlRmlsdGVyTW9kZTogJ0NoYW5nZSBmaWx0ZXIgbW9kZScsXG4gICAgY2hhbmdlU2VhcmNoTW9kZTogJ0NoYW5nZSBzZWFyY2ggbW9kZScsXG4gICAgY2xlYXJGaWx0ZXI6ICdDbGVhciBmaWx0ZXInLFxuICAgIGNsZWFyU2VhcmNoOiAnQ2xlYXIgc2VhcmNoJyxcbiAgICBjbGVhclNvcnQ6ICdDbGVhciBzb3J0JyxcbiAgICBjbGlja1RvQ29weTogJ0NsaWNrIHRvIGNvcHknLFxuICAgIGNvbGxhcHNlOiAnQ29sbGFwc2UnLFxuICAgIGNvbGxhcHNlQWxsOiAnQ29sbGFwc2UgYWxsJyxcbiAgICBjb2x1bW5BY3Rpb25zOiAnQ29sdW1uIEFjdGlvbnMnLFxuICAgIGNvcGllZFRvQ2xpcGJvYXJkOiAnQ29waWVkIHRvIGNsaXBib2FyZCcsXG4gICAgZHJvcFRvR3JvdXBCeTogJ0Ryb3AgdG8gZ3JvdXAgYnkge2NvbHVtbn0nLFxuICAgIGVkaXQ6ICdFZGl0JyxcbiAgICBleHBhbmQ6ICdFeHBhbmQnLFxuICAgIGV4cGFuZEFsbDogJ0V4cGFuZCBhbGwnLFxuICAgIGZpbHRlckFyckluY2x1ZGVzOiAnSW5jbHVkZXMnLFxuICAgIGZpbHRlckFyckluY2x1ZGVzQWxsOiAnSW5jbHVkZXMgYWxsJyxcbiAgICBmaWx0ZXJBcnJJbmNsdWRlc1NvbWU6ICdJbmNsdWRlcycsXG4gICAgZmlsdGVyQmV0d2VlbjogJ0JldHdlZW4nLFxuICAgIGZpbHRlckJldHdlZW5JbmNsdXNpdmU6ICdCZXR3ZWVuIEluY2x1c2l2ZScsXG4gICAgZmlsdGVyQnlDb2x1bW46ICdGaWx0ZXIgYnkge2NvbHVtbn0nLFxuICAgIGZpbHRlckNvbnRhaW5zOiAnQ29udGFpbnMnLFxuICAgIGZpbHRlckVtcHR5OiAnRW1wdHknLFxuICAgIGZpbHRlckVuZHNXaXRoOiAnRW5kcyBXaXRoJyxcbiAgICBmaWx0ZXJFcXVhbHM6ICdFcXVhbHMnLFxuICAgIGZpbHRlckVxdWFsc1N0cmluZzogJ0VxdWFscycsXG4gICAgZmlsdGVyRnV6enk6ICdGdXp6eScsXG4gICAgZmlsdGVyR3JlYXRlclRoYW46ICdHcmVhdGVyIFRoYW4nLFxuICAgIGZpbHRlckdyZWF0ZXJUaGFuT3JFcXVhbFRvOiAnR3JlYXRlciBUaGFuIE9yIEVxdWFsIFRvJyxcbiAgICBmaWx0ZXJJbk51bWJlclJhbmdlOiAnQmV0d2VlbicsXG4gICAgZmlsdGVySW5jbHVkZXNTdHJpbmc6ICdDb250YWlucycsXG4gICAgZmlsdGVySW5jbHVkZXNTdHJpbmdTZW5zaXRpdmU6ICdDb250YWlucycsXG4gICAgZmlsdGVyTGVzc1RoYW46ICdMZXNzIFRoYW4nLFxuICAgIGZpbHRlckxlc3NUaGFuT3JFcXVhbFRvOiAnTGVzcyBUaGFuIE9yIEVxdWFsIFRvJyxcbiAgICBmaWx0ZXJNb2RlOiAnRmlsdGVyIE1vZGU6IHtmaWx0ZXJUeXBlfScsXG4gICAgZmlsdGVyTm90RW1wdHk6ICdOb3QgRW1wdHknLFxuICAgIGZpbHRlck5vdEVxdWFsczogJ05vdCBFcXVhbHMnLFxuICAgIGZpbHRlclN0YXJ0c1dpdGg6ICdTdGFydHMgV2l0aCcsXG4gICAgZmlsdGVyV2Vha0VxdWFsczogJ0VxdWFscycsXG4gICAgZmlsdGVyaW5nQnlDb2x1bW46ICdGaWx0ZXJpbmcgYnkge2NvbHVtbn0gLSB7ZmlsdGVyVHlwZX0ge2ZpbHRlclZhbHVlfScsXG4gICAgZ29Ub0ZpcnN0UGFnZTogJ0dvIHRvIGZpcnN0IHBhZ2UnLFxuICAgIGdvVG9MYXN0UGFnZTogJ0dvIHRvIGxhc3QgcGFnZScsXG4gICAgZ29Ub05leHRQYWdlOiAnR28gdG8gbmV4dCBwYWdlJyxcbiAgICBnb1RvUHJldmlvdXNQYWdlOiAnR28gdG8gcHJldmlvdXMgcGFnZScsXG4gICAgZ3JhYjogJ0dyYWInLFxuICAgIGdyb3VwQnlDb2x1bW46ICdHcm91cCBieSB7Y29sdW1ufScsXG4gICAgZ3JvdXBlZEJ5OiAnR3JvdXBlZCBieSAnLFxuICAgIGhpZGVBbGw6ICdIaWRlIGFsbCcsXG4gICAgaGlkZUNvbHVtbjogJ0hpZGUge2NvbHVtbn0gY29sdW1uJyxcbiAgICBtYXg6ICdNYXgnLFxuICAgIG1pbjogJ01pbicsXG4gICAgbW92ZTogJ01vdmUnLFxuICAgIG5vUmVjb3Jkc1RvRGlzcGxheTogJ05vIHJlY29yZHMgdG8gZGlzcGxheScsXG4gICAgbm9SZXN1bHRzRm91bmQ6ICdObyByZXN1bHRzIGZvdW5kJyxcbiAgICBvZjogJ29mJyxcbiAgICBvcjogJ29yJyxcbiAgICBwaW46ICdQaW4nLFxuICAgIHBpblRvTGVmdDogJ1BpbiB0byBsZWZ0JyxcbiAgICBwaW5Ub1JpZ2h0OiAnUGluIHRvIHJpZ2h0JyxcbiAgICByZXNldENvbHVtblNpemU6ICdSZXNldCBjb2x1bW4gc2l6ZScsXG4gICAgcmVzZXRPcmRlcjogJ1Jlc2V0IG9yZGVyJyxcbiAgICByb3dBY3Rpb25zOiAnUm93IEFjdGlvbnMnLFxuICAgIHJvd051bWJlcjogJyMnLFxuICAgIHJvd051bWJlcnM6ICdSb3cgTnVtYmVycycsXG4gICAgcm93c1BlclBhZ2U6ICdSb3dzIHBlciBwYWdlJyxcbiAgICBzYXZlOiAnU2F2ZScsXG4gICAgc2VhcmNoOiAnU2VhcmNoJyxcbiAgICBzZWxlY3RlZENvdW50T2ZSb3dDb3VudFJvd3NTZWxlY3RlZDogJ3tzZWxlY3RlZENvdW50fSBvZiB7cm93Q291bnR9IHJvdyhzKSBzZWxlY3RlZCcsXG4gICAgc2VsZWN0OiAnU2VsZWN0JyxcbiAgICBzaG93QWxsOiAnU2hvdyBhbGwnLFxuICAgIHNob3dBbGxDb2x1bW5zOiAnU2hvdyBhbGwgY29sdW1ucycsXG4gICAgc2hvd0hpZGVDb2x1bW5zOiAnU2hvdy9IaWRlIGNvbHVtbnMnLFxuICAgIHNob3dIaWRlRmlsdGVyczogJ1Nob3cvSGlkZSBmaWx0ZXJzJyxcbiAgICBzaG93SGlkZVNlYXJjaDogJ1Nob3cvSGlkZSBzZWFyY2gnLFxuICAgIHNvcnRCeUNvbHVtbkFzYzogJ1NvcnQgYnkge2NvbHVtbn0gYXNjZW5kaW5nJyxcbiAgICBzb3J0QnlDb2x1bW5EZXNjOiAnU29ydCBieSB7Y29sdW1ufSBkZXNjZW5kaW5nJyxcbiAgICBzb3J0ZWRCeUNvbHVtbkFzYzogJ1NvcnRlZCBieSB7Y29sdW1ufSBhc2NlbmRpbmcnLFxuICAgIHNvcnRlZEJ5Q29sdW1uRGVzYzogJ1NvcnRlZCBieSB7Y29sdW1ufSBkZXNjZW5kaW5nJyxcbiAgICB0aGVuQnk6ICcsIHRoZW4gYnkgJyxcbiAgICB0b2dnbGVEZW5zaXR5OiAnVG9nZ2xlIGRlbnNpdHknLFxuICAgIHRvZ2dsZUZ1bGxTY3JlZW46ICdUb2dnbGUgZnVsbCBzY3JlZW4nLFxuICAgIHRvZ2dsZVNlbGVjdEFsbDogJ1RvZ2dsZSBzZWxlY3QgYWxsJyxcbiAgICB0b2dnbGVTZWxlY3RSb3c6ICdUb2dnbGUgc2VsZWN0IHJvdycsXG4gICAgdG9nZ2xlVmlzaWJpbGl0eTogJ1RvZ2dsZSB2aXNpYmlsaXR5JyxcbiAgICB1bmdyb3VwQnlDb2x1bW46ICdVbmdyb3VwIGJ5IHtjb2x1bW59JyxcbiAgICB1bnBpbjogJ1VucGluJyxcbiAgICB1bnBpbkFsbDogJ1VucGluIGFsbCcsXG59O1xuXG5jb25zdCBNUlRfRGVmYXVsdENvbHVtbiA9IHtcbiAgICBmaWx0ZXJWYXJpYW50OiAndGV4dCcsXG4gICAgbWF4U2l6ZTogMTAwMCxcbiAgICBtaW5TaXplOiA0MCxcbiAgICBzaXplOiAxODAsXG59O1xuY29uc3QgTVJUX0RlZmF1bHREaXNwbGF5Q29sdW1uID0ge1xuICAgIGNvbHVtbkRlZlR5cGU6ICdkaXNwbGF5JyxcbiAgICBlbmFibGVDbGlja1RvQ29weTogZmFsc2UsXG4gICAgZW5hYmxlQ29sdW1uQWN0aW9uczogZmFsc2UsXG4gICAgZW5hYmxlQ29sdW1uRHJhZ2dpbmc6IGZhbHNlLFxuICAgIGVuYWJsZUNvbHVtbkZpbHRlcjogZmFsc2UsXG4gICAgZW5hYmxlQ29sdW1uT3JkZXJpbmc6IGZhbHNlLFxuICAgIGVuYWJsZUVkaXRpbmc6IGZhbHNlLFxuICAgIGVuYWJsZUdsb2JhbEZpbHRlcjogZmFsc2UsXG4gICAgZW5hYmxlR3JvdXBpbmc6IGZhbHNlLFxuICAgIGVuYWJsZUhpZGluZzogZmFsc2UsXG4gICAgZW5hYmxlUmVzaXppbmc6IGZhbHNlLFxuICAgIGVuYWJsZVNvcnRpbmc6IGZhbHNlLFxufTtcbmNvbnN0IHVzZU1SVF9UYWJsZU9wdGlvbnMgPSAoX2EpID0+IHtcbiAgICB2YXIgX2I7XG4gICAgdmFyIHsgYWdncmVnYXRpb25GbnMsIGF1dG9SZXNldEV4cGFuZGVkID0gZmFsc2UsIGNvbHVtbkZpbHRlckRpc3BsYXlNb2RlID0gJ3N1YmhlYWRlcicsIGNvbHVtblJlc2l6ZU1vZGUgPSAnb25DaGFuZ2UnLCBjcmVhdGVEaXNwbGF5TW9kZSA9ICdtb2RhbCcsIGRlZmF1bHRDb2x1bW4sIGRlZmF1bHREaXNwbGF5Q29sdW1uLCBlZGl0RGlzcGxheU1vZGUgPSAnbW9kYWwnLCBlbmFibGVCb3R0b21Ub29sYmFyID0gdHJ1ZSwgZW5hYmxlQ29sdW1uQWN0aW9ucyA9IHRydWUsIGVuYWJsZUNvbHVtbkZpbHRlcnMgPSB0cnVlLCBlbmFibGVDb2x1bW5PcmRlcmluZyA9IGZhbHNlLCBlbmFibGVDb2x1bW5QaW5uaW5nID0gZmFsc2UsIGVuYWJsZUNvbHVtblJlc2l6aW5nID0gZmFsc2UsIGVuYWJsZURlbnNpdHlUb2dnbGUgPSB0cnVlLCBlbmFibGVFeHBhbmRBbGwgPSB0cnVlLCBlbmFibGVFeHBhbmRpbmcsIGVuYWJsZUZpbHRlck1hdGNoSGlnaGxpZ2h0aW5nID0gdHJ1ZSwgZW5hYmxlRmlsdGVycyA9IHRydWUsIGVuYWJsZUZ1bGxTY3JlZW5Ub2dnbGUgPSB0cnVlLCBlbmFibGVHbG9iYWxGaWx0ZXIgPSB0cnVlLCBlbmFibGVHbG9iYWxGaWx0ZXJSYW5rZWRSZXN1bHRzID0gdHJ1ZSwgZW5hYmxlR3JvdXBpbmcgPSBmYWxzZSwgZW5hYmxlSGlkaW5nID0gdHJ1ZSwgZW5hYmxlTXVsdGlSb3dTZWxlY3Rpb24gPSB0cnVlLCBlbmFibGVNdWx0aVNvcnQgPSB0cnVlLCBlbmFibGVQYWdpbmF0aW9uID0gdHJ1ZSwgZW5hYmxlUm93UGlubmluZyA9IGZhbHNlLCBlbmFibGVSb3dTZWxlY3Rpb24gPSBmYWxzZSwgZW5hYmxlU2VsZWN0QWxsID0gdHJ1ZSwgZW5hYmxlU29ydGluZyA9IHRydWUsIGVuYWJsZVN0aWNreUhlYWRlciA9IGZhbHNlLCBlbmFibGVUYWJsZUZvb3RlciA9IHRydWUsIGVuYWJsZVRhYmxlSGVhZCA9IHRydWUsIGVuYWJsZVRvb2xiYXJJbnRlcm5hbEFjdGlvbnMgPSB0cnVlLCBlbmFibGVUb3BUb29sYmFyID0gdHJ1ZSwgZmlsdGVyRm5zLCBpY29ucywgbGF5b3V0TW9kZSwgbG9jYWxpemF0aW9uLCBtYW51YWxGaWx0ZXJpbmcsIG1hbnVhbEdyb3VwaW5nLCBtYW51YWxQYWdpbmF0aW9uLCBtYW51YWxTb3J0aW5nLCBwYWdpbmF0aW9uRGlzcGxheU1vZGUgPSAnZGVmYXVsdCcsIHBvc2l0aW9uQWN0aW9uc0NvbHVtbiA9ICdmaXJzdCcsIHBvc2l0aW9uRXhwYW5kQ29sdW1uID0gJ2ZpcnN0JywgcG9zaXRpb25HbG9iYWxGaWx0ZXIgPSAncmlnaHQnLCBwb3NpdGlvblBhZ2luYXRpb24gPSAnYm90dG9tJywgcG9zaXRpb25Ub29sYmFyQWxlcnRCYW5uZXIgPSAndG9wJywgcG9zaXRpb25Ub29sYmFyRHJvcFpvbmUgPSAndG9wJywgcm93TnVtYmVyRGlzcGxheU1vZGUgPSAnc3RhdGljJywgcm93UGlubmluZ0Rpc3BsYXlNb2RlID0gJ3N0aWNreScsIHNlbGVjdEFsbE1vZGUgPSAncGFnZScsIHNvcnRpbmdGbnMgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJhZ2dyZWdhdGlvbkZuc1wiLCBcImF1dG9SZXNldEV4cGFuZGVkXCIsIFwiY29sdW1uRmlsdGVyRGlzcGxheU1vZGVcIiwgXCJjb2x1bW5SZXNpemVNb2RlXCIsIFwiY3JlYXRlRGlzcGxheU1vZGVcIiwgXCJkZWZhdWx0Q29sdW1uXCIsIFwiZGVmYXVsdERpc3BsYXlDb2x1bW5cIiwgXCJlZGl0RGlzcGxheU1vZGVcIiwgXCJlbmFibGVCb3R0b21Ub29sYmFyXCIsIFwiZW5hYmxlQ29sdW1uQWN0aW9uc1wiLCBcImVuYWJsZUNvbHVtbkZpbHRlcnNcIiwgXCJlbmFibGVDb2x1bW5PcmRlcmluZ1wiLCBcImVuYWJsZUNvbHVtblBpbm5pbmdcIiwgXCJlbmFibGVDb2x1bW5SZXNpemluZ1wiLCBcImVuYWJsZURlbnNpdHlUb2dnbGVcIiwgXCJlbmFibGVFeHBhbmRBbGxcIiwgXCJlbmFibGVFeHBhbmRpbmdcIiwgXCJlbmFibGVGaWx0ZXJNYXRjaEhpZ2hsaWdodGluZ1wiLCBcImVuYWJsZUZpbHRlcnNcIiwgXCJlbmFibGVGdWxsU2NyZWVuVG9nZ2xlXCIsIFwiZW5hYmxlR2xvYmFsRmlsdGVyXCIsIFwiZW5hYmxlR2xvYmFsRmlsdGVyUmFua2VkUmVzdWx0c1wiLCBcImVuYWJsZUdyb3VwaW5nXCIsIFwiZW5hYmxlSGlkaW5nXCIsIFwiZW5hYmxlTXVsdGlSb3dTZWxlY3Rpb25cIiwgXCJlbmFibGVNdWx0aVNvcnRcIiwgXCJlbmFibGVQYWdpbmF0aW9uXCIsIFwiZW5hYmxlUm93UGlubmluZ1wiLCBcImVuYWJsZVJvd1NlbGVjdGlvblwiLCBcImVuYWJsZVNlbGVjdEFsbFwiLCBcImVuYWJsZVNvcnRpbmdcIiwgXCJlbmFibGVTdGlja3lIZWFkZXJcIiwgXCJlbmFibGVUYWJsZUZvb3RlclwiLCBcImVuYWJsZVRhYmxlSGVhZFwiLCBcImVuYWJsZVRvb2xiYXJJbnRlcm5hbEFjdGlvbnNcIiwgXCJlbmFibGVUb3BUb29sYmFyXCIsIFwiZmlsdGVyRm5zXCIsIFwiaWNvbnNcIiwgXCJsYXlvdXRNb2RlXCIsIFwibG9jYWxpemF0aW9uXCIsIFwibWFudWFsRmlsdGVyaW5nXCIsIFwibWFudWFsR3JvdXBpbmdcIiwgXCJtYW51YWxQYWdpbmF0aW9uXCIsIFwibWFudWFsU29ydGluZ1wiLCBcInBhZ2luYXRpb25EaXNwbGF5TW9kZVwiLCBcInBvc2l0aW9uQWN0aW9uc0NvbHVtblwiLCBcInBvc2l0aW9uRXhwYW5kQ29sdW1uXCIsIFwicG9zaXRpb25HbG9iYWxGaWx0ZXJcIiwgXCJwb3NpdGlvblBhZ2luYXRpb25cIiwgXCJwb3NpdGlvblRvb2xiYXJBbGVydEJhbm5lclwiLCBcInBvc2l0aW9uVG9vbGJhckRyb3Bab25lXCIsIFwicm93TnVtYmVyRGlzcGxheU1vZGVcIiwgXCJyb3dQaW5uaW5nRGlzcGxheU1vZGVcIiwgXCJzZWxlY3RBbGxNb2RlXCIsIFwic29ydGluZ0Zuc1wiXSk7XG4gICAgY29uc3QgX2ljb25zID0gdXNlTWVtbygoKSA9PiAoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBNUlRfRGVmYXVsdF9JY29ucyksIGljb25zKSksIFtpY29uc10pO1xuICAgIGNvbnN0IF9sb2NhbGl6YXRpb24gPSB1c2VNZW1vKCgpID0+IChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIE1SVF9Mb2NhbGl6YXRpb25fRU4pLCBsb2NhbGl6YXRpb24pKSwgW2xvY2FsaXphdGlvbl0pO1xuICAgIGNvbnN0IF9hZ2dyZWdhdGlvbkZucyA9IHVzZU1lbW8oKCkgPT4gKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgTVJUX0FnZ3JlZ2F0aW9uRm5zKSwgYWdncmVnYXRpb25GbnMpKSwgW10pO1xuICAgIGNvbnN0IF9maWx0ZXJGbnMgPSB1c2VNZW1vKCgpID0+IChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIE1SVF9GaWx0ZXJGbnMpLCBmaWx0ZXJGbnMpKSwgW10pO1xuICAgIGNvbnN0IF9zb3J0aW5nRm5zID0gdXNlTWVtbygoKSA9PiAoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBNUlRfU29ydGluZ0ZucyksIHNvcnRpbmdGbnMpKSwgW10pO1xuICAgIGNvbnN0IF9kZWZhdWx0Q29sdW1uID0gdXNlTWVtbygoKSA9PiAoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBNUlRfRGVmYXVsdENvbHVtbiksIGRlZmF1bHRDb2x1bW4pKSwgW2RlZmF1bHRDb2x1bW5dKTtcbiAgICBjb25zdCBfZGVmYXVsdERpc3BsYXlDb2x1bW4gPSB1c2VNZW1vKCgpID0+IChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIE1SVF9EZWZhdWx0RGlzcGxheUNvbHVtbiksIGRlZmF1bHREaXNwbGF5Q29sdW1uKSksIFtkZWZhdWx0RGlzcGxheUNvbHVtbl0pO1xuICAgIGxheW91dE1vZGUgPVxuICAgICAgICBsYXlvdXRNb2RlIHx8IChlbmFibGVDb2x1bW5SZXNpemluZyA/ICdncmlkLW5vLWdyb3cnIDogJ3NlbWFudGljJyk7XG4gICAgaWYgKGxheW91dE1vZGUgPT09ICdzZW1hbnRpYycgJiZcbiAgICAgICAgKHJlc3QuZW5hYmxlUm93VmlydHVhbGl6YXRpb24gfHwgcmVzdC5lbmFibGVDb2x1bW5WaXJ0dWFsaXphdGlvbikpIHtcbiAgICAgICAgbGF5b3V0TW9kZSA9ICdncmlkJztcbiAgICB9XG4gICAgaWYgKHJlc3QuZW5hYmxlUm93VmlydHVhbGl6YXRpb24pIHtcbiAgICAgICAgZW5hYmxlU3RpY2t5SGVhZGVyID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGVuYWJsZVBhZ2luYXRpb24gPT09IGZhbHNlICYmIG1hbnVhbFBhZ2luYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBtYW51YWxQYWdpbmF0aW9uID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCEoKF9iID0gcmVzdC5kYXRhKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubGVuZ3RoKSkge1xuICAgICAgICBtYW51YWxGaWx0ZXJpbmcgPSB0cnVlO1xuICAgICAgICBtYW51YWxHcm91cGluZyA9IHRydWU7XG4gICAgICAgIG1hbnVhbFBhZ2luYXRpb24gPSB0cnVlO1xuICAgICAgICBtYW51YWxTb3J0aW5nID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oeyBhZ2dyZWdhdGlvbkZuczogX2FnZ3JlZ2F0aW9uRm5zLCBhdXRvUmVzZXRFeHBhbmRlZCxcbiAgICAgICAgY29sdW1uRmlsdGVyRGlzcGxheU1vZGUsXG4gICAgICAgIGNvbHVtblJlc2l6ZU1vZGUsXG4gICAgICAgIGNyZWF0ZURpc3BsYXlNb2RlLCBkZWZhdWx0Q29sdW1uOiBfZGVmYXVsdENvbHVtbiwgZGVmYXVsdERpc3BsYXlDb2x1bW46IF9kZWZhdWx0RGlzcGxheUNvbHVtbiwgZWRpdERpc3BsYXlNb2RlLFxuICAgICAgICBlbmFibGVCb3R0b21Ub29sYmFyLFxuICAgICAgICBlbmFibGVDb2x1bW5BY3Rpb25zLFxuICAgICAgICBlbmFibGVDb2x1bW5GaWx0ZXJzLFxuICAgICAgICBlbmFibGVDb2x1bW5PcmRlcmluZyxcbiAgICAgICAgZW5hYmxlQ29sdW1uUGlubmluZyxcbiAgICAgICAgZW5hYmxlQ29sdW1uUmVzaXppbmcsXG4gICAgICAgIGVuYWJsZURlbnNpdHlUb2dnbGUsXG4gICAgICAgIGVuYWJsZUV4cGFuZEFsbCxcbiAgICAgICAgZW5hYmxlRXhwYW5kaW5nLFxuICAgICAgICBlbmFibGVGaWx0ZXJNYXRjaEhpZ2hsaWdodGluZyxcbiAgICAgICAgZW5hYmxlRmlsdGVycyxcbiAgICAgICAgZW5hYmxlRnVsbFNjcmVlblRvZ2dsZSxcbiAgICAgICAgZW5hYmxlR2xvYmFsRmlsdGVyLFxuICAgICAgICBlbmFibGVHbG9iYWxGaWx0ZXJSYW5rZWRSZXN1bHRzLFxuICAgICAgICBlbmFibGVHcm91cGluZyxcbiAgICAgICAgZW5hYmxlSGlkaW5nLFxuICAgICAgICBlbmFibGVNdWx0aVJvd1NlbGVjdGlvbixcbiAgICAgICAgZW5hYmxlTXVsdGlTb3J0LFxuICAgICAgICBlbmFibGVQYWdpbmF0aW9uLFxuICAgICAgICBlbmFibGVSb3dQaW5uaW5nLFxuICAgICAgICBlbmFibGVSb3dTZWxlY3Rpb24sXG4gICAgICAgIGVuYWJsZVNlbGVjdEFsbCxcbiAgICAgICAgZW5hYmxlU29ydGluZyxcbiAgICAgICAgZW5hYmxlU3RpY2t5SGVhZGVyLFxuICAgICAgICBlbmFibGVUYWJsZUZvb3RlcixcbiAgICAgICAgZW5hYmxlVGFibGVIZWFkLFxuICAgICAgICBlbmFibGVUb29sYmFySW50ZXJuYWxBY3Rpb25zLFxuICAgICAgICBlbmFibGVUb3BUb29sYmFyLCBmaWx0ZXJGbnM6IF9maWx0ZXJGbnMsIGljb25zOiBfaWNvbnMsIGxheW91dE1vZGUsIGxvY2FsaXphdGlvbjogX2xvY2FsaXphdGlvbiwgbWFudWFsRmlsdGVyaW5nLFxuICAgICAgICBtYW51YWxHcm91cGluZyxcbiAgICAgICAgbWFudWFsUGFnaW5hdGlvbixcbiAgICAgICAgbWFudWFsU29ydGluZyxcbiAgICAgICAgcGFnaW5hdGlvbkRpc3BsYXlNb2RlLFxuICAgICAgICBwb3NpdGlvbkFjdGlvbnNDb2x1bW4sXG4gICAgICAgIHBvc2l0aW9uRXhwYW5kQ29sdW1uLFxuICAgICAgICBwb3NpdGlvbkdsb2JhbEZpbHRlcixcbiAgICAgICAgcG9zaXRpb25QYWdpbmF0aW9uLFxuICAgICAgICBwb3NpdGlvblRvb2xiYXJBbGVydEJhbm5lcixcbiAgICAgICAgcG9zaXRpb25Ub29sYmFyRHJvcFpvbmUsXG4gICAgICAgIHJvd051bWJlckRpc3BsYXlNb2RlLFxuICAgICAgICByb3dQaW5uaW5nRGlzcGxheU1vZGUsXG4gICAgICAgIHNlbGVjdEFsbE1vZGUsIHNvcnRpbmdGbnM6IF9zb3J0aW5nRm5zIH0sIHJlc3QpO1xufTtcblxuY29uc3QgYmxhbmtDb2xQcm9wcyA9IHtcbiAgICBjaGlsZHJlbjogbnVsbCxcbiAgICBzeDoge1xuICAgICAgICBmbGV4OiAnMSAwIGF1dG8nLFxuICAgICAgICBtaW5XaWR0aDogMCxcbiAgICAgICAgcDogMCxcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgfSxcbn07XG5jb25zdCB1c2VNUlRfRGlzcGxheUNvbHVtbnMgPSAoeyBjb2x1bW5PcmRlciwgY3JlYXRpbmdSb3csIGdyb3VwaW5nLCB0YWJsZU9wdGlvbnMsIH0pID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbCwgX20sIF9vLCBfcCwgX3EsIF9yLCBfcywgX3QsIF91LCBfdiwgX3csIF94LCBfeTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICgoX2IgPSAoX2EgPSB0YWJsZU9wdGlvbnMuc3RhdGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb2x1bW5PcmRlcikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogY29sdW1uT3JkZXIpLmluY2x1ZGVzKCdtcnQtcm93LXBpbicpICYmIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IENlbGw6ICh7IHJvdywgdGFibGUgfSkgPT4gKGpzeChNUlRfVGFibGVCb2R5Um93UGluQnV0dG9uLCB7IHJvdzogcm93LCB0YWJsZTogdGFibGUgfSkpLCBoZWFkZXI6IHRhYmxlT3B0aW9ucy5sb2NhbGl6YXRpb24ucGluLCBzaXplOiA2MCB9LCAoX2MgPSB0YWJsZU9wdGlvbnMuZGlzcGxheUNvbHVtbkRlZk9wdGlvbnMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY1snbXJ0LXJvdy1waW4nXSksIHsgY29sdW1uRGVmVHlwZTogJ2Rpc3BsYXknLCBpZDogJ21ydC1yb3ctcGluJyB9KSxcbiAgICAgICAgICAgICgoX2UgPSAoX2QgPSB0YWJsZU9wdGlvbnMuc3RhdGUpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5jb2x1bW5PcmRlcikgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogY29sdW1uT3JkZXIpLmluY2x1ZGVzKCdtcnQtcm93LWRyYWcnKSAmJiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBDZWxsOiAoeyByb3csIHJvd1JlZiwgdGFibGUgfSkgPT4gKGpzeChNUlRfVGFibGVCb2R5Um93R3JhYkhhbmRsZSwgeyByb3c6IHJvdywgcm93UmVmOiByb3dSZWYsIHRhYmxlOiB0YWJsZSB9KSksIGhlYWRlcjogdGFibGVPcHRpb25zLmxvY2FsaXphdGlvbi5tb3ZlLCBzaXplOiA2MCB9LCAoX2YgPSB0YWJsZU9wdGlvbnMuZGlzcGxheUNvbHVtbkRlZk9wdGlvbnMpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZlsnbXJ0LXJvdy1kcmFnJ10pLCB7IGNvbHVtbkRlZlR5cGU6ICdkaXNwbGF5JywgaWQ6ICdtcnQtcm93LWRyYWcnIH0pLFxuICAgICAgICAgICAgKCgoX2ggPSAoX2cgPSB0YWJsZU9wdGlvbnMuc3RhdGUpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5jb2x1bW5PcmRlcikgIT09IG51bGwgJiYgX2ggIT09IHZvaWQgMCA/IF9oIDogY29sdW1uT3JkZXIpLmluY2x1ZGVzKCdtcnQtcm93LWFjdGlvbnMnKSB8fFxuICAgICAgICAgICAgICAgIChjcmVhdGluZ1JvdyAmJiB0YWJsZU9wdGlvbnMuY3JlYXRlRGlzcGxheU1vZGUgPT09ICdyb3cnKSkgJiYgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgQ2VsbDogKHsgY2VsbCwgcm93LCB0YWJsZSB9KSA9PiAoanN4KE1SVF9Ub2dnbGVSb3dBY3Rpb25NZW51QnV0dG9uLCB7IGNlbGw6IGNlbGwsIHJvdzogcm93LCB0YWJsZTogdGFibGUgfSkpLCBoZWFkZXI6IHRhYmxlT3B0aW9ucy5sb2NhbGl6YXRpb24uYWN0aW9ucywgc2l6ZTogNzAgfSwgKF9qID0gdGFibGVPcHRpb25zLmRpc3BsYXlDb2x1bW5EZWZPcHRpb25zKSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2pbJ21ydC1yb3ctYWN0aW9ucyddKSwgeyBjb2x1bW5EZWZUeXBlOiAnZGlzcGxheScsIGlkOiAnbXJ0LXJvdy1hY3Rpb25zJyB9KSxcbiAgICAgICAgICAgICgoX2wgPSAoX2sgPSB0YWJsZU9wdGlvbnMuc3RhdGUpID09PSBudWxsIHx8IF9rID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfay5jb2x1bW5PcmRlcikgIT09IG51bGwgJiYgX2wgIT09IHZvaWQgMCA/IF9sIDogY29sdW1uT3JkZXIpLmluY2x1ZGVzKCdtcnQtcm93LWV4cGFuZCcpICYmXG4gICAgICAgICAgICAgICAgc2hvd0V4cGFuZENvbHVtbih0YWJsZU9wdGlvbnMsIChfbyA9IChfbSA9IHRhYmxlT3B0aW9ucy5zdGF0ZSkgPT09IG51bGwgfHwgX20gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tLmdyb3VwaW5nKSAhPT0gbnVsbCAmJiBfbyAhPT0gdm9pZCAwID8gX28gOiBncm91cGluZykgJiYgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgQ2VsbDogKHsgcm93LCB0YWJsZSB9KSA9PiAoanN4KE1SVF9FeHBhbmRCdXR0b24sIHsgcm93OiByb3csIHRhYmxlOiB0YWJsZSB9KSksIEhlYWRlcjogdGFibGVPcHRpb25zLmVuYWJsZUV4cGFuZEFsbFxuICAgICAgICAgICAgICAgICAgICA/ICh7IHRhYmxlIH0pID0+IGpzeChNUlRfRXhwYW5kQWxsQnV0dG9uLCB7IHRhYmxlOiB0YWJsZSB9KVxuICAgICAgICAgICAgICAgICAgICA6IG51bGwsIGhlYWRlcjogdGFibGVPcHRpb25zLmxvY2FsaXphdGlvbi5leHBhbmQsIHNpemU6IDYwIH0sIChfcCA9IHRhYmxlT3B0aW9ucy5kaXNwbGF5Q29sdW1uRGVmT3B0aW9ucykgPT09IG51bGwgfHwgX3AgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wWydtcnQtcm93LWV4cGFuZCddKSwgeyBjb2x1bW5EZWZUeXBlOiAnZGlzcGxheScsIGlkOiAnbXJ0LXJvdy1leHBhbmQnIH0pLFxuICAgICAgICAgICAgKChfciA9IChfcSA9IHRhYmxlT3B0aW9ucy5zdGF0ZSkgPT09IG51bGwgfHwgX3EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9xLmNvbHVtbk9yZGVyKSAhPT0gbnVsbCAmJiBfciAhPT0gdm9pZCAwID8gX3IgOiBjb2x1bW5PcmRlcikuaW5jbHVkZXMoJ21ydC1yb3ctc2VsZWN0JykgJiYgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgQ2VsbDogKHsgcm93LCB0YWJsZSB9KSA9PiAoanN4KE1SVF9TZWxlY3RDaGVja2JveCwgeyByb3c6IHJvdywgdGFibGU6IHRhYmxlIH0pKSwgSGVhZGVyOiB0YWJsZU9wdGlvbnMuZW5hYmxlU2VsZWN0QWxsICYmXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlT3B0aW9ucy5lbmFibGVNdWx0aVJvd1NlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICA/ICh7IHRhYmxlIH0pID0+IGpzeChNUlRfU2VsZWN0Q2hlY2tib3gsIHsgc2VsZWN0QWxsOiB0cnVlLCB0YWJsZTogdGFibGUgfSlcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsLCBoZWFkZXI6IHRhYmxlT3B0aW9ucy5sb2NhbGl6YXRpb24uc2VsZWN0LCBzaXplOiA2MCB9LCAoX3MgPSB0YWJsZU9wdGlvbnMuZGlzcGxheUNvbHVtbkRlZk9wdGlvbnMpID09PSBudWxsIHx8IF9zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc1snbXJ0LXJvdy1zZWxlY3QnXSksIHsgY29sdW1uRGVmVHlwZTogJ2Rpc3BsYXknLCBpZDogJ21ydC1yb3ctc2VsZWN0JyB9KSxcbiAgICAgICAgICAgICgoX3UgPSAoX3QgPSB0YWJsZU9wdGlvbnMuc3RhdGUpID09PSBudWxsIHx8IF90ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdC5jb2x1bW5PcmRlcikgIT09IG51bGwgJiYgX3UgIT09IHZvaWQgMCA/IF91IDogY29sdW1uT3JkZXIpLmluY2x1ZGVzKCdtcnQtcm93LW51bWJlcnMnKSAmJiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBDZWxsOiAoeyByb3cgfSkgPT4gcm93LmluZGV4ICsgMSwgSGVhZGVyOiAoKSA9PiB0YWJsZU9wdGlvbnMubG9jYWxpemF0aW9uLnJvd051bWJlciwgaGVhZGVyOiB0YWJsZU9wdGlvbnMubG9jYWxpemF0aW9uLnJvd051bWJlcnMsIHNpemU6IDYwIH0sIChfdiA9IHRhYmxlT3B0aW9ucy5kaXNwbGF5Q29sdW1uRGVmT3B0aW9ucykgPT09IG51bGwgfHwgX3YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF92WydtcnQtcm93LW51bWJlcnMnXSksIHsgY29sdW1uRGVmVHlwZTogJ2Rpc3BsYXknLCBpZDogJ21ydC1yb3ctbnVtYmVycycgfSksXG4gICAgICAgICAgICAoKF94ID0gKF93ID0gdGFibGVPcHRpb25zLnN0YXRlKSA9PT0gbnVsbCB8fCBfdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3cuY29sdW1uT3JkZXIpICE9PSBudWxsICYmIF94ICE9PSB2b2lkIDAgPyBfeCA6IGNvbHVtbk9yZGVyKS5pbmNsdWRlcygnbXJ0LXJvdy1zcGFjZXInKSAmJiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgKF95ID0gdGFibGVPcHRpb25zLmRpc3BsYXlDb2x1bW5EZWZPcHRpb25zKSA9PT0gbnVsbCB8fCBfeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3lbJ21ydC1yb3ctc3BhY2VyJ10pLCBNUlRfRGVmYXVsdERpc3BsYXlDb2x1bW4pLCB7IGNvbHVtbkRlZlR5cGU6ICdkaXNwbGF5JywgaGVhZGVyOiAnJywgaWQ6ICdtcnQtcm93LXNwYWNlcicsIG11aVRhYmxlQm9keUNlbGxQcm9wczogYmxhbmtDb2xQcm9wcywgbXVpVGFibGVGb290ZXJDZWxsUHJvcHM6IGJsYW5rQ29sUHJvcHMsIG11aVRhYmxlSGVhZENlbGxQcm9wczogYmxhbmtDb2xQcm9wcyB9KSxcbiAgICAgICAgXS5maWx0ZXIoQm9vbGVhbik7XG4gICAgfSwgW1xuICAgICAgICBjb2x1bW5PcmRlcixcbiAgICAgICAgZ3JvdXBpbmcsXG4gICAgICAgIHRhYmxlT3B0aW9ucy5kaXNwbGF5Q29sdW1uRGVmT3B0aW9ucyxcbiAgICAgICAgdGFibGVPcHRpb25zLmVkaXREaXNwbGF5TW9kZSxcbiAgICAgICAgdGFibGVPcHRpb25zLmVuYWJsZUNvbHVtbkRyYWdnaW5nLFxuICAgICAgICB0YWJsZU9wdGlvbnMuZW5hYmxlQ29sdW1uRmlsdGVyTW9kZXMsXG4gICAgICAgIHRhYmxlT3B0aW9ucy5lbmFibGVDb2x1bW5PcmRlcmluZyxcbiAgICAgICAgdGFibGVPcHRpb25zLmVuYWJsZUVkaXRpbmcsXG4gICAgICAgIHRhYmxlT3B0aW9ucy5lbmFibGVFeHBhbmRBbGwsXG4gICAgICAgIHRhYmxlT3B0aW9ucy5lbmFibGVFeHBhbmRpbmcsXG4gICAgICAgIHRhYmxlT3B0aW9ucy5lbmFibGVHcm91cGluZyxcbiAgICAgICAgdGFibGVPcHRpb25zLmVuYWJsZVJvd0FjdGlvbnMsXG4gICAgICAgIHRhYmxlT3B0aW9ucy5lbmFibGVSb3dEcmFnZ2luZyxcbiAgICAgICAgdGFibGVPcHRpb25zLmVuYWJsZVJvd051bWJlcnMsXG4gICAgICAgIHRhYmxlT3B0aW9ucy5lbmFibGVSb3dPcmRlcmluZyxcbiAgICAgICAgdGFibGVPcHRpb25zLmVuYWJsZVJvd1NlbGVjdGlvbixcbiAgICAgICAgdGFibGVPcHRpb25zLmVuYWJsZVNlbGVjdEFsbCxcbiAgICAgICAgdGFibGVPcHRpb25zLmxvY2FsaXphdGlvbixcbiAgICAgICAgdGFibGVPcHRpb25zLnBvc2l0aW9uQWN0aW9uc0NvbHVtbixcbiAgICAgICAgdGFibGVPcHRpb25zLnJlbmRlckRldGFpbFBhbmVsLFxuICAgICAgICB0YWJsZU9wdGlvbnMucmVuZGVyUm93QWN0aW9uTWVudUl0ZW1zLFxuICAgICAgICB0YWJsZU9wdGlvbnMucmVuZGVyUm93QWN0aW9ucyxcbiAgICAgICAgKF9hID0gdGFibGVPcHRpb25zLnN0YXRlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29sdW1uT3JkZXIsXG4gICAgICAgIChfYiA9IHRhYmxlT3B0aW9ucy5zdGF0ZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmdyb3VwaW5nLFxuICAgIF0pO1xufTtcblxuY29uc3QgdXNlTVJUX0VmZmVjdHMgPSAodGFibGUpID0+IHtcbiAgICBjb25zdCB7IGdldElzU29tZVJvd3NQaW5uZWQsIGdldFN0YXRlLCBvcHRpb25zOiB7IGVuYWJsZVBhZ2luYXRpb24sIGVuYWJsZVJvd1Bpbm5pbmcsIHJvd0NvdW50IH0sIH0gPSB0YWJsZTtcbiAgICBjb25zdCB7IGRlbnNpdHksIGdsb2JhbEZpbHRlciwgaXNGdWxsU2NyZWVuLCBpc0xvYWRpbmcsIHBhZ2luYXRpb24sIHNob3dTa2VsZXRvbnMsIHNvcnRpbmcsIH0gPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHJlcmVuZGVyID0gdXNlUmVkdWNlcigoKSA9PiAoe30pLCB7fSlbMV07XG4gICAgY29uc3QgaXNNb3VudGVkID0gdXNlUmVmKGZhbHNlKTtcbiAgICBjb25zdCBpbml0aWFsQm9keUhlaWdodCA9IHVzZVJlZigpO1xuICAgIGNvbnN0IHByZXZpb3VzVG9wID0gdXNlUmVmKCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpbml0aWFsQm9keUhlaWdodC5jdXJyZW50ID0gZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9LCBbXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGlzTW91bnRlZCAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaWYgKGlzRnVsbFNjcmVlbikge1xuICAgICAgICAgICAgICAgIHByZXZpb3VzVG9wLmN1cnJlbnQgPSBkb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDsgLy9zYXZlIHNjcm9sbCBwb3NpdGlvblxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gJzEwMHZoJzsgLy9oaWRlIHBhZ2Ugc2Nyb2xsYmFycyB3aGVuIHRhYmxlIGlzIGluIGZ1bGwgc2NyZWVuIG1vZGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gaW5pdGlhbEJvZHlIZWlnaHQuY3VycmVudDtcbiAgICAgICAgICAgICAgICBpZiAoIXByZXZpb3VzVG9wLmN1cnJlbnQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAvL3Jlc3RvcmUgc2Nyb2xsIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKHtcbiAgICAgICAgICAgICAgICAgICAgYmVoYXZpb3I6ICdpbnN0YW50JyxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAtMSAqIHByZXZpb3VzVG9wLmN1cnJlbnQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaXNNb3VudGVkLmN1cnJlbnQgPSB0cnVlO1xuICAgIH0sIFtpc0Z1bGxTY3JlZW5dKTtcbiAgICAvL2lmIHBhZ2UgaW5kZXggaXMgb3V0IG9mIGJvdW5kcywgc2V0IGl0IHRvIHRoZSBsYXN0IHBhZ2VcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWVuYWJsZVBhZ2luYXRpb24gfHwgaXNMb2FkaW5nIHx8IHNob3dTa2VsZXRvbnMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgcGFnZUluZGV4LCBwYWdlU2l6ZSB9ID0gcGFnaW5hdGlvbjtcbiAgICAgICAgY29uc3QgdG90YWxSb3dDb3VudCA9IHJvd0NvdW50ICE9PSBudWxsICYmIHJvd0NvdW50ICE9PSB2b2lkIDAgPyByb3dDb3VudCA6IHRhYmxlLmdldFByZVBhZ2luYXRpb25Sb3dNb2RlbCgpLnJvd3MubGVuZ3RoO1xuICAgICAgICBjb25zdCBmaXJzdFZpc2libGVSb3dJbmRleCA9IHBhZ2VJbmRleCAqIHBhZ2VTaXplO1xuICAgICAgICBpZiAoZmlyc3RWaXNpYmxlUm93SW5kZXggPiB0b3RhbFJvd0NvdW50KSB7XG4gICAgICAgICAgICB0YWJsZS5zZXRQYWdlSW5kZXgoTWF0aC5mbG9vcih0b3RhbFJvd0NvdW50IC8gcGFnZVNpemUpKTtcbiAgICAgICAgfVxuICAgIH0sIFtyb3dDb3VudCwgdGFibGUuZ2V0UHJlUGFnaW5hdGlvblJvd01vZGVsKCkucm93cy5sZW5ndGhdKTtcbiAgICAvL3R1cm4gb2ZmIHNvcnQgd2hlbiBnbG9iYWwgZmlsdGVyIGlzIGxvb2tpbmcgZm9yIHJhbmtlZCByZXN1bHRzXG4gICAgY29uc3QgYXBwbGllZFNvcnQgPSB1c2VSZWYoc29ydGluZyk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHNvcnRpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICBhcHBsaWVkU29ydC5jdXJyZW50ID0gc29ydGluZztcbiAgICAgICAgfVxuICAgIH0sIFtzb3J0aW5nXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFnZXRDYW5SYW5rUm93cyh0YWJsZSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChnbG9iYWxGaWx0ZXIpIHtcbiAgICAgICAgICAgIHRhYmxlLnNldFNvcnRpbmcoW10pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFibGUuc2V0U29ydGluZygoKSA9PiBhcHBsaWVkU29ydC5jdXJyZW50IHx8IFtdKTtcbiAgICAgICAgfVxuICAgIH0sIFtnbG9iYWxGaWx0ZXJdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZW5hYmxlUm93UGlubmluZyAmJiBnZXRJc1NvbWVSb3dzUGlubmVkKCkpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlcmVuZGVyKCk7XG4gICAgICAgICAgICB9LCAxNTApO1xuICAgICAgICB9XG4gICAgfSwgW2RlbnNpdHldKTtcbn07XG5cbmNvbnN0IHVzZU1SVF9UYWJsZUluc3RhbmNlID0gKHRhYmxlT3B0aW9ucykgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2wsIF9tLCBfbywgX3AsIF9xLCBfciwgX3MsIF90LCBfdSwgX3YsIF93LCBfeCwgX3ksIF96LCBfMCwgXzEsIF8yLCBfMywgXzQsIF81LCBfNiwgXzcsIF84LCBfOSwgXzEwO1xuICAgIGNvbnN0IGJvdHRvbVRvb2xiYXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgZWRpdElucHV0UmVmcyA9IHVzZVJlZih7fSk7XG4gICAgY29uc3QgZmlsdGVySW5wdXRSZWZzID0gdXNlUmVmKHt9KTtcbiAgICBjb25zdCBzZWFyY2hJbnB1dFJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCB0YWJsZUNvbnRhaW5lclJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCB0YWJsZUhlYWRDZWxsUmVmcyA9IHVzZVJlZih7fSk7XG4gICAgY29uc3QgdGFibGVQYXBlclJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCB0b3BUb29sYmFyUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHRhYmxlSGVhZFJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCB0YWJsZUZvb3RlclJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGNvbnN0IGluaXRTdGF0ZSA9IChfYSA9IHRhYmxlT3B0aW9ucy5pbml0aWFsU3RhdGUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9O1xuICAgICAgICBpbml0U3RhdGUuY29sdW1uT3JkZXIgPVxuICAgICAgICAgICAgKF9iID0gaW5pdFN0YXRlLmNvbHVtbk9yZGVyKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBnZXREZWZhdWx0Q29sdW1uT3JkZXJJZHModGFibGVPcHRpb25zKTtcbiAgICAgICAgaW5pdFN0YXRlLmdsb2JhbEZpbHRlckZuID0gKF9jID0gdGFibGVPcHRpb25zLmdsb2JhbEZpbHRlckZuKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAnZnV6enknO1xuICAgICAgICByZXR1cm4gaW5pdFN0YXRlO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBbY3JlYXRpbmdSb3csIF9zZXRDcmVhdGluZ1Jvd10gPSB1c2VTdGF0ZSgoX2EgPSBpbml0aWFsU3RhdGUuY3JlYXRpbmdSb3cpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG51bGwpO1xuICAgIGNvbnN0IFtjb2x1bW5GaWx0ZXJGbnMsIHNldENvbHVtbkZpbHRlckZuc10gPSB1c2VTdGF0ZSgoKSA9PiBPYmplY3QuYXNzaWduKHt9LCAuLi5nZXRBbGxMZWFmQ29sdW1uRGVmcyh0YWJsZU9wdGlvbnMuY29sdW1ucykubWFwKChjb2wpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICByZXR1cm4gKHtcbiAgICAgICAgICAgIFtnZXRDb2x1bW5JZChjb2wpXTogY29sLmZpbHRlckZuIGluc3RhbmNlb2YgRnVuY3Rpb25cbiAgICAgICAgICAgICAgICA/IChfYSA9IGNvbC5maWx0ZXJGbi5uYW1lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnY3VzdG9tJ1xuICAgICAgICAgICAgICAgIDogKF9kID0gKF9iID0gY29sLmZpbHRlckZuKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAoX2MgPSBpbml0aWFsU3RhdGUgPT09IG51bGwgfHwgaW5pdGlhbFN0YXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbml0aWFsU3RhdGUuY29sdW1uRmlsdGVyRm5zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NbZ2V0Q29sdW1uSWQoY29sKV0pICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGdldERlZmF1bHRDb2x1bW5GaWx0ZXJGbihjb2wpLFxuICAgICAgICB9KTtcbiAgICB9KSkpO1xuICAgIGNvbnN0IFtjb2x1bW5PcmRlciwgc2V0Q29sdW1uT3JkZXJdID0gdXNlU3RhdGUoKF9iID0gaW5pdGlhbFN0YXRlLmNvbHVtbk9yZGVyKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXSk7XG4gICAgY29uc3QgW2RlbnNpdHksIHNldERlbnNpdHldID0gdXNlU3RhdGUoKF9jID0gaW5pdGlhbFN0YXRlID09PSBudWxsIHx8IGluaXRpYWxTdGF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5pdGlhbFN0YXRlLmRlbnNpdHkpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICdjb21mb3J0YWJsZScpO1xuICAgIGNvbnN0IFtkcmFnZ2luZ0NvbHVtbiwgc2V0RHJhZ2dpbmdDb2x1bW5dID0gdXNlU3RhdGUoKF9kID0gaW5pdGlhbFN0YXRlLmRyYWdnaW5nQ29sdW1uKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBudWxsKTtcbiAgICBjb25zdCBbZHJhZ2dpbmdSb3csIHNldERyYWdnaW5nUm93XSA9IHVzZVN0YXRlKChfZSA9IGluaXRpYWxTdGF0ZS5kcmFnZ2luZ1JvdykgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogbnVsbCk7XG4gICAgY29uc3QgW2VkaXRpbmdDZWxsLCBzZXRFZGl0aW5nQ2VsbF0gPSB1c2VTdGF0ZSgoX2YgPSBpbml0aWFsU3RhdGUuZWRpdGluZ0NlbGwpICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IG51bGwpO1xuICAgIGNvbnN0IFtlZGl0aW5nUm93LCBzZXRFZGl0aW5nUm93XSA9IHVzZVN0YXRlKChfZyA9IGluaXRpYWxTdGF0ZS5lZGl0aW5nUm93KSAhPT0gbnVsbCAmJiBfZyAhPT0gdm9pZCAwID8gX2cgOiBudWxsKTtcbiAgICBjb25zdCBbZ2xvYmFsRmlsdGVyRm4sIHNldEdsb2JhbEZpbHRlckZuXSA9IHVzZVN0YXRlKChfaCA9IGluaXRpYWxTdGF0ZS5nbG9iYWxGaWx0ZXJGbikgIT09IG51bGwgJiYgX2ggIT09IHZvaWQgMCA/IF9oIDogJ2Z1enp5Jyk7XG4gICAgY29uc3QgW2dyb3VwaW5nLCBzZXRHcm91cGluZ10gPSB1c2VTdGF0ZSgoX2ogPSBpbml0aWFsU3RhdGUuZ3JvdXBpbmcpICE9PSBudWxsICYmIF9qICE9PSB2b2lkIDAgPyBfaiA6IFtdKTtcbiAgICBjb25zdCBbaG92ZXJlZENvbHVtbiwgc2V0SG92ZXJlZENvbHVtbl0gPSB1c2VTdGF0ZSgoX2sgPSBpbml0aWFsU3RhdGUuaG92ZXJlZENvbHVtbikgIT09IG51bGwgJiYgX2sgIT09IHZvaWQgMCA/IF9rIDogbnVsbCk7XG4gICAgY29uc3QgW2hvdmVyZWRSb3csIHNldEhvdmVyZWRSb3ddID0gdXNlU3RhdGUoKF9sID0gaW5pdGlhbFN0YXRlLmhvdmVyZWRSb3cpICE9PSBudWxsICYmIF9sICE9PSB2b2lkIDAgPyBfbCA6IG51bGwpO1xuICAgIGNvbnN0IFtpc0Z1bGxTY3JlZW4sIHNldElzRnVsbFNjcmVlbl0gPSB1c2VTdGF0ZSgoX20gPSBpbml0aWFsU3RhdGUgPT09IG51bGwgfHwgaW5pdGlhbFN0YXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbml0aWFsU3RhdGUuaXNGdWxsU2NyZWVuKSAhPT0gbnVsbCAmJiBfbSAhPT0gdm9pZCAwID8gX20gOiBmYWxzZSk7XG4gICAgY29uc3QgW3Nob3dBbGVydEJhbm5lciwgc2V0U2hvd0FsZXJ0QmFubmVyXSA9IHVzZVN0YXRlKChfcCA9IChfbyA9IHRhYmxlT3B0aW9ucy5pbml0aWFsU3RhdGUpID09PSBudWxsIHx8IF9vID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfby5zaG93QWxlcnRCYW5uZXIpICE9PSBudWxsICYmIF9wICE9PSB2b2lkIDAgPyBfcCA6IGZhbHNlKTtcbiAgICBjb25zdCBbc2hvd0NvbHVtbkZpbHRlcnMsIHNldFNob3dDb2x1bW5GaWx0ZXJzXSA9IHVzZVN0YXRlKChfcSA9IGluaXRpYWxTdGF0ZSA9PT0gbnVsbCB8fCBpbml0aWFsU3RhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluaXRpYWxTdGF0ZS5zaG93Q29sdW1uRmlsdGVycykgIT09IG51bGwgJiYgX3EgIT09IHZvaWQgMCA/IF9xIDogZmFsc2UpO1xuICAgIGNvbnN0IFtzaG93R2xvYmFsRmlsdGVyLCBzZXRTaG93R2xvYmFsRmlsdGVyXSA9IHVzZVN0YXRlKChfciA9IGluaXRpYWxTdGF0ZSA9PT0gbnVsbCB8fCBpbml0aWFsU3RhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluaXRpYWxTdGF0ZS5zaG93R2xvYmFsRmlsdGVyKSAhPT0gbnVsbCAmJiBfciAhPT0gdm9pZCAwID8gX3IgOiBmYWxzZSk7XG4gICAgY29uc3QgW3Nob3dUb29sYmFyRHJvcFpvbmUsIHNldFNob3dUb29sYmFyRHJvcFpvbmVdID0gdXNlU3RhdGUoKF9zID0gaW5pdGlhbFN0YXRlID09PSBudWxsIHx8IGluaXRpYWxTdGF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5pdGlhbFN0YXRlLnNob3dUb29sYmFyRHJvcFpvbmUpICE9PSBudWxsICYmIF9zICE9PSB2b2lkIDAgPyBfcyA6IGZhbHNlKTtcbiAgICBjb25zdCBkaXNwbGF5Q29sdW1ucyA9IHVzZU1SVF9EaXNwbGF5Q29sdW1ucyh7XG4gICAgICAgIGNvbHVtbk9yZGVyLFxuICAgICAgICBjcmVhdGluZ1JvdyxcbiAgICAgICAgZ3JvdXBpbmcsXG4gICAgICAgIHRhYmxlT3B0aW9ucyxcbiAgICB9KTtcbiAgICBjb25zdCBjb2x1bW5EZWZzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICByZXR1cm4gcHJlcGFyZUNvbHVtbnMoe1xuICAgICAgICAgICAgYWdncmVnYXRpb25GbnM6IHRhYmxlT3B0aW9ucy5hZ2dyZWdhdGlvbkZucyxcbiAgICAgICAgICAgIGNvbHVtbkRlZnM6IFsuLi5kaXNwbGF5Q29sdW1ucywgLi4udGFibGVPcHRpb25zLmNvbHVtbnNdLFxuICAgICAgICAgICAgY29sdW1uRmlsdGVyRm5zOiAoX2IgPSAoX2EgPSB0YWJsZU9wdGlvbnMuc3RhdGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb2x1bW5GaWx0ZXJGbnMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGNvbHVtbkZpbHRlckZucyxcbiAgICAgICAgICAgIGRlZmF1bHREaXNwbGF5Q29sdW1uOiAoX2MgPSB0YWJsZU9wdGlvbnMuZGVmYXVsdERpc3BsYXlDb2x1bW4pICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IHt9LFxuICAgICAgICAgICAgZmlsdGVyRm5zOiB0YWJsZU9wdGlvbnMuZmlsdGVyRm5zLFxuICAgICAgICAgICAgc29ydGluZ0ZuczogdGFibGVPcHRpb25zLnNvcnRpbmdGbnMsXG4gICAgICAgIH0pO1xuICAgIH0sIFtcbiAgICAgICAgY29sdW1uRmlsdGVyRm5zLFxuICAgICAgICBkaXNwbGF5Q29sdW1ucyxcbiAgICAgICAgdGFibGVPcHRpb25zLmNvbHVtbnMsXG4gICAgICAgIChfdCA9IHRhYmxlT3B0aW9ucy5zdGF0ZSkgPT09IG51bGwgfHwgX3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90LmNvbHVtbkZpbHRlckZucyxcbiAgICBdKTtcbiAgICBjb25zdCBkYXRhID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgIHJldHVybiAoKChfYSA9IHRhYmxlT3B0aW9ucy5zdGF0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlzTG9hZGluZykgfHwgKChfYiA9IHRhYmxlT3B0aW9ucy5zdGF0ZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNob3dTa2VsZXRvbnMpKSAmJlxuICAgICAgICAgICAgIXRhYmxlT3B0aW9ucy5kYXRhLmxlbmd0aFxuICAgICAgICAgICAgPyBbXG4gICAgICAgICAgICAgICAgLi4uQXJyYXkoKChfZCA9IChfYyA9IHRhYmxlT3B0aW9ucy5zdGF0ZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnBhZ2luYXRpb24pID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5wYWdlU2l6ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKChfZSA9IGluaXRpYWxTdGF0ZSA9PT0gbnVsbCB8fCBpbml0aWFsU3RhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluaXRpYWxTdGF0ZS5wYWdpbmF0aW9uKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UucGFnZVNpemUpIHx8XG4gICAgICAgICAgICAgICAgICAgIDEwKS5maWxsKG51bGwpLFxuICAgICAgICAgICAgXS5tYXAoKCkgPT4gT2JqZWN0LmFzc2lnbih7fSwgLi4uZ2V0QWxsTGVhZkNvbHVtbkRlZnModGFibGVPcHRpb25zLmNvbHVtbnMpLm1hcCgoY29sKSA9PiAoe1xuICAgICAgICAgICAgICAgIFtnZXRDb2x1bW5JZChjb2wpXTogbnVsbCxcbiAgICAgICAgICAgIH0pKSkpXG4gICAgICAgICAgICA6IHRhYmxlT3B0aW9ucy5kYXRhO1xuICAgIH0sIFtcbiAgICAgICAgdGFibGVPcHRpb25zLmRhdGEsXG4gICAgICAgIChfdSA9IHRhYmxlT3B0aW9ucy5zdGF0ZSkgPT09IG51bGwgfHwgX3UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF91LmlzTG9hZGluZyxcbiAgICAgICAgKF92ID0gdGFibGVPcHRpb25zLnN0YXRlKSA9PT0gbnVsbCB8fCBfdiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Yuc2hvd1NrZWxldG9ucyxcbiAgICBdKTtcbiAgICAvL0B0cy1pZ25vcmVcbiAgICBjb25zdCB0YWJsZSA9IHVzZVJlYWN0VGFibGUoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgZ2V0Q29yZVJvd01vZGVsOiBnZXRDb3JlUm93TW9kZWwoKSwgZ2V0RXhwYW5kZWRSb3dNb2RlbDogdGFibGVPcHRpb25zLmVuYWJsZUV4cGFuZGluZyB8fCB0YWJsZU9wdGlvbnMuZW5hYmxlR3JvdXBpbmdcbiAgICAgICAgICAgID8gZ2V0RXhwYW5kZWRSb3dNb2RlbCgpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCwgZ2V0RmFjZXRlZE1pbk1heFZhbHVlczogdGFibGVPcHRpb25zLmVuYWJsZUZhY2V0ZWRWYWx1ZXNcbiAgICAgICAgICAgID8gZ2V0RmFjZXRlZE1pbk1heFZhbHVlcygpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCwgZ2V0RmFjZXRlZFJvd01vZGVsOiB0YWJsZU9wdGlvbnMuZW5hYmxlRmFjZXRlZFZhbHVlc1xuICAgICAgICAgICAgPyBnZXRGYWNldGVkUm93TW9kZWwoKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQsIGdldEZhY2V0ZWRVbmlxdWVWYWx1ZXM6IHRhYmxlT3B0aW9ucy5lbmFibGVGYWNldGVkVmFsdWVzXG4gICAgICAgICAgICA/IGdldEZhY2V0ZWRVbmlxdWVWYWx1ZXMoKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQsIGdldEZpbHRlcmVkUm93TW9kZWw6IHRhYmxlT3B0aW9ucy5lbmFibGVDb2x1bW5GaWx0ZXJzIHx8XG4gICAgICAgICAgICB0YWJsZU9wdGlvbnMuZW5hYmxlR2xvYmFsRmlsdGVyIHx8XG4gICAgICAgICAgICB0YWJsZU9wdGlvbnMuZW5hYmxlRmlsdGVyc1xuICAgICAgICAgICAgPyBnZXRGaWx0ZXJlZFJvd01vZGVsKClcbiAgICAgICAgICAgIDogdW5kZWZpbmVkLCBnZXRHcm91cGVkUm93TW9kZWw6IHRhYmxlT3B0aW9ucy5lbmFibGVHcm91cGluZ1xuICAgICAgICAgICAgPyBnZXRHcm91cGVkUm93TW9kZWwoKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQsIGdldFBhZ2luYXRpb25Sb3dNb2RlbDogdGFibGVPcHRpb25zLmVuYWJsZVBhZ2luYXRpb25cbiAgICAgICAgICAgID8gZ2V0UGFnaW5hdGlvblJvd01vZGVsKClcbiAgICAgICAgICAgIDogdW5kZWZpbmVkLCBnZXRTb3J0ZWRSb3dNb2RlbDogdGFibGVPcHRpb25zLmVuYWJsZVNvcnRpbmdcbiAgICAgICAgICAgID8gZ2V0U29ydGVkUm93TW9kZWwoKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQsIGdldFN1YlJvd3M6IChyb3cpID0+IHJvdyA9PT0gbnVsbCB8fCByb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJvdy5zdWJSb3dzLCBvbkNvbHVtbk9yZGVyQ2hhbmdlOiBzZXRDb2x1bW5PcmRlciwgb25Hcm91cGluZ0NoYW5nZTogc2V0R3JvdXBpbmcgfSwgdGFibGVPcHRpb25zKSwgeyBcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIGNvbHVtbnM6IGNvbHVtbkRlZnMsIGRhdGEsIGdsb2JhbEZpbHRlckZuOiAoX3cgPSB0YWJsZU9wdGlvbnMuZmlsdGVyRm5zKSA9PT0gbnVsbCB8fCBfdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3dbZ2xvYmFsRmlsdGVyRm4gIT09IG51bGwgJiYgZ2xvYmFsRmlsdGVyRm4gIT09IHZvaWQgMCA/IGdsb2JhbEZpbHRlckZuIDogJ2Z1enp5J10sIGluaXRpYWxTdGF0ZSwgc3RhdGU6IE9iamVjdC5hc3NpZ24oeyBjb2x1bW5GaWx0ZXJGbnMsXG4gICAgICAgICAgICBjb2x1bW5PcmRlcixcbiAgICAgICAgICAgIGNyZWF0aW5nUm93LFxuICAgICAgICAgICAgZGVuc2l0eSxcbiAgICAgICAgICAgIGRyYWdnaW5nQ29sdW1uLFxuICAgICAgICAgICAgZHJhZ2dpbmdSb3csXG4gICAgICAgICAgICBlZGl0aW5nQ2VsbCxcbiAgICAgICAgICAgIGVkaXRpbmdSb3csXG4gICAgICAgICAgICBnbG9iYWxGaWx0ZXJGbixcbiAgICAgICAgICAgIGdyb3VwaW5nLFxuICAgICAgICAgICAgaG92ZXJlZENvbHVtbixcbiAgICAgICAgICAgIGhvdmVyZWRSb3csXG4gICAgICAgICAgICBpc0Z1bGxTY3JlZW4sXG4gICAgICAgICAgICBzaG93QWxlcnRCYW5uZXIsXG4gICAgICAgICAgICBzaG93Q29sdW1uRmlsdGVycyxcbiAgICAgICAgICAgIHNob3dHbG9iYWxGaWx0ZXIsXG4gICAgICAgICAgICBzaG93VG9vbGJhckRyb3Bab25lIH0sIHRhYmxlT3B0aW9ucy5zdGF0ZSkgfSkpO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICB0YWJsZS5yZWZzID0ge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGJvdHRvbVRvb2xiYXJSZWYsXG4gICAgICAgIGVkaXRJbnB1dFJlZnMsXG4gICAgICAgIGZpbHRlcklucHV0UmVmcyxcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBzZWFyY2hJbnB1dFJlZixcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB0YWJsZUNvbnRhaW5lclJlZixcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB0YWJsZUZvb3RlclJlZixcbiAgICAgICAgdGFibGVIZWFkQ2VsbFJlZnMsXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGFibGVIZWFkUmVmLFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRhYmxlUGFwZXJSZWYsXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdG9wVG9vbGJhclJlZixcbiAgICB9O1xuICAgIGNvbnN0IHNldENyZWF0aW5nUm93ID0gKHJvdykgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBsZXQgX3JvdyA9IHJvdztcbiAgICAgICAgaWYgKHJvdyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgX3JvdyA9IGNyZWF0ZVJvdyh0YWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgKF9iID0gKF9hID0gdGFibGVPcHRpb25zID09PSBudWxsIHx8IHRhYmxlT3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGFibGVPcHRpb25zLm9uQ3JlYXRpbmdSb3dDaGFuZ2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRhYmxlT3B0aW9ucywgX3JvdykpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IF9zZXRDcmVhdGluZ1Jvdyhfcm93KTtcbiAgICB9O1xuICAgIHRhYmxlLnNldENyZWF0aW5nUm93ID0gc2V0Q3JlYXRpbmdSb3c7XG4gICAgdGFibGUuc2V0Q29sdW1uRmlsdGVyRm5zID1cbiAgICAgICAgKF94ID0gdGFibGVPcHRpb25zLm9uQ29sdW1uRmlsdGVyRm5zQ2hhbmdlKSAhPT0gbnVsbCAmJiBfeCAhPT0gdm9pZCAwID8gX3ggOiBzZXRDb2x1bW5GaWx0ZXJGbnM7XG4gICAgdGFibGUuc2V0RGVuc2l0eSA9IChfeSA9IHRhYmxlT3B0aW9ucy5vbkRlbnNpdHlDaGFuZ2UpICE9PSBudWxsICYmIF95ICE9PSB2b2lkIDAgPyBfeSA6IHNldERlbnNpdHk7XG4gICAgdGFibGUuc2V0RHJhZ2dpbmdDb2x1bW4gPVxuICAgICAgICAoX3ogPSB0YWJsZU9wdGlvbnMub25EcmFnZ2luZ0NvbHVtbkNoYW5nZSkgIT09IG51bGwgJiYgX3ogIT09IHZvaWQgMCA/IF96IDogc2V0RHJhZ2dpbmdDb2x1bW47XG4gICAgdGFibGUuc2V0RHJhZ2dpbmdSb3cgPSAoXzAgPSB0YWJsZU9wdGlvbnMub25EcmFnZ2luZ1Jvd0NoYW5nZSkgIT09IG51bGwgJiYgXzAgIT09IHZvaWQgMCA/IF8wIDogc2V0RHJhZ2dpbmdSb3c7XG4gICAgdGFibGUuc2V0RWRpdGluZ0NlbGwgPSAoXzEgPSB0YWJsZU9wdGlvbnMub25FZGl0aW5nQ2VsbENoYW5nZSkgIT09IG51bGwgJiYgXzEgIT09IHZvaWQgMCA/IF8xIDogc2V0RWRpdGluZ0NlbGw7XG4gICAgdGFibGUuc2V0RWRpdGluZ1JvdyA9IChfMiA9IHRhYmxlT3B0aW9ucy5vbkVkaXRpbmdSb3dDaGFuZ2UpICE9PSBudWxsICYmIF8yICE9PSB2b2lkIDAgPyBfMiA6IHNldEVkaXRpbmdSb3c7XG4gICAgdGFibGUuc2V0R2xvYmFsRmlsdGVyRm4gPVxuICAgICAgICAoXzMgPSB0YWJsZU9wdGlvbnMub25HbG9iYWxGaWx0ZXJGbkNoYW5nZSkgIT09IG51bGwgJiYgXzMgIT09IHZvaWQgMCA/IF8zIDogc2V0R2xvYmFsRmlsdGVyRm47XG4gICAgdGFibGUuc2V0SG92ZXJlZENvbHVtbiA9XG4gICAgICAgIChfNCA9IHRhYmxlT3B0aW9ucy5vbkhvdmVyZWRDb2x1bW5DaGFuZ2UpICE9PSBudWxsICYmIF80ICE9PSB2b2lkIDAgPyBfNCA6IHNldEhvdmVyZWRDb2x1bW47XG4gICAgdGFibGUuc2V0SG92ZXJlZFJvdyA9IChfNSA9IHRhYmxlT3B0aW9ucy5vbkhvdmVyZWRSb3dDaGFuZ2UpICE9PSBudWxsICYmIF81ICE9PSB2b2lkIDAgPyBfNSA6IHNldEhvdmVyZWRSb3c7XG4gICAgdGFibGUuc2V0SXNGdWxsU2NyZWVuID0gKF82ID0gdGFibGVPcHRpb25zLm9uSXNGdWxsU2NyZWVuQ2hhbmdlKSAhPT0gbnVsbCAmJiBfNiAhPT0gdm9pZCAwID8gXzYgOiBzZXRJc0Z1bGxTY3JlZW47XG4gICAgdGFibGUuc2V0U2hvd0FsZXJ0QmFubmVyID1cbiAgICAgICAgKF83ID0gdGFibGVPcHRpb25zLm9uU2hvd0FsZXJ0QmFubmVyQ2hhbmdlKSAhPT0gbnVsbCAmJiBfNyAhPT0gdm9pZCAwID8gXzcgOiBzZXRTaG93QWxlcnRCYW5uZXI7XG4gICAgdGFibGUuc2V0U2hvd0NvbHVtbkZpbHRlcnMgPVxuICAgICAgICAoXzggPSB0YWJsZU9wdGlvbnMub25TaG93Q29sdW1uRmlsdGVyc0NoYW5nZSkgIT09IG51bGwgJiYgXzggIT09IHZvaWQgMCA/IF84IDogc2V0U2hvd0NvbHVtbkZpbHRlcnM7XG4gICAgdGFibGUuc2V0U2hvd0dsb2JhbEZpbHRlciA9XG4gICAgICAgIChfOSA9IHRhYmxlT3B0aW9ucy5vblNob3dHbG9iYWxGaWx0ZXJDaGFuZ2UpICE9PSBudWxsICYmIF85ICE9PSB2b2lkIDAgPyBfOSA6IHNldFNob3dHbG9iYWxGaWx0ZXI7XG4gICAgdGFibGUuc2V0U2hvd1Rvb2xiYXJEcm9wWm9uZSA9XG4gICAgICAgIChfMTAgPSB0YWJsZU9wdGlvbnMub25TaG93VG9vbGJhckRyb3Bab25lQ2hhbmdlKSAhPT0gbnVsbCAmJiBfMTAgIT09IHZvaWQgMCA/IF8xMCA6IHNldFNob3dUb29sYmFyRHJvcFpvbmU7XG4gICAgdXNlTVJUX0VmZmVjdHModGFibGUpO1xuICAgIHJldHVybiB0YWJsZTtcbn07XG5cbmNvbnN0IHVzZU1hdGVyaWFsUmVhY3RUYWJsZSA9ICh0YWJsZU9wdGlvbnMpID0+IHVzZU1SVF9UYWJsZUluc3RhbmNlKHVzZU1SVF9UYWJsZU9wdGlvbnModGFibGVPcHRpb25zKSk7XG5cbmNvbnN0IGlzVGFibGVJbnN0YW5jZVByb3AgPSAocHJvcHMpID0+IHByb3BzLnRhYmxlICE9PSB1bmRlZmluZWQ7XG5jb25zdCBNYXRlcmlhbFJlYWN0VGFibGUgPSAocHJvcHMpID0+IHtcbiAgICBsZXQgdGFibGU7XG4gICAgaWYgKGlzVGFibGVJbnN0YW5jZVByb3AocHJvcHMpKSB7XG4gICAgICAgIHRhYmxlID0gcHJvcHMudGFibGU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0YWJsZSA9IHVzZU1hdGVyaWFsUmVhY3RUYWJsZShwcm9wcyk7XG4gICAgfVxuICAgIHJldHVybiBqc3goTVJUX1RhYmxlUGFwZXIsIHsgdGFibGU6IHRhYmxlIH0pO1xufTtcblxuZXhwb3J0IHsgTVJUX0FnZ3JlZ2F0aW9uRm5zLCBNUlRfQm90dG9tVG9vbGJhciwgTVJUX0NvbHVtbkFjdGlvbk1lbnUsIE1SVF9Db2x1bW5QaW5uaW5nQnV0dG9ucywgTVJUX0NvcHlCdXR0b24sIE1SVF9EZWZhdWx0Q29sdW1uLCBNUlRfRGVmYXVsdERpc3BsYXlDb2x1bW4sIE1SVF9FZGl0QWN0aW9uQnV0dG9ucywgTVJUX0VkaXRDZWxsVGV4dEZpZWxkLCBNUlRfRWRpdFJvd01vZGFsLCBNUlRfRXhwYW5kQWxsQnV0dG9uLCBNUlRfRXhwYW5kQnV0dG9uLCBNUlRfRmlsdGVyQ2hlY2tib3gsIE1SVF9GaWx0ZXJGbnMsIE1SVF9GaWx0ZXJPcHRpb25NZW51LCBNUlRfRmlsdGVyUmFuZ2VGaWVsZHMsIE1SVF9GaWx0ZXJSYW5nZVNsaWRlciwgTVJUX0ZpbHRlclRleHRGaWVsZCwgTVJUX0dsb2JhbEZpbHRlclRleHRGaWVsZCwgTVJUX0dyYWJIYW5kbGVCdXR0b24sIE1SVF9MaW5lYXJQcm9ncmVzc0JhciwgTVJUX1Jvd0FjdGlvbk1lbnUsIE1SVF9Sb3dQaW5CdXR0b24sIE1SVF9TZWxlY3RDaGVja2JveCwgTVJUX1Nob3dIaWRlQ29sdW1uc0J1dHRvbiwgTVJUX1Nob3dIaWRlQ29sdW1uc01lbnUsIE1SVF9TaG93SGlkZUNvbHVtbnNNZW51SXRlbXMsIE1SVF9Tb3J0aW5nRm5zLCBNUlRfVGFibGUsIE1SVF9UYWJsZUJvZHksIE1SVF9UYWJsZUJvZHlDZWxsLCBNUlRfVGFibGVCb2R5Q2VsbFZhbHVlLCBNUlRfVGFibGVCb2R5Um93LCBNUlRfVGFibGVCb2R5Um93R3JhYkhhbmRsZSwgTVJUX1RhYmxlQm9keVJvd1BpbkJ1dHRvbiwgTVJUX1RhYmxlQ29udGFpbmVyLCBNUlRfVGFibGVEZXRhaWxQYW5lbCwgTVJUX1RhYmxlRm9vdGVyLCBNUlRfVGFibGVGb290ZXJDZWxsLCBNUlRfVGFibGVGb290ZXJSb3csIE1SVF9UYWJsZUhlYWQsIE1SVF9UYWJsZUhlYWRDZWxsLCBNUlRfVGFibGVIZWFkQ2VsbENvbHVtbkFjdGlvbnNCdXR0b24sIE1SVF9UYWJsZUhlYWRDZWxsRmlsdGVyQ29udGFpbmVyLCBNUlRfVGFibGVIZWFkQ2VsbEZpbHRlckxhYmVsLCBNUlRfVGFibGVIZWFkQ2VsbEdyYWJIYW5kbGUsIE1SVF9UYWJsZUhlYWRDZWxsUmVzaXplSGFuZGxlLCBNUlRfVGFibGVIZWFkQ2VsbFNvcnRMYWJlbCwgTVJUX1RhYmxlSGVhZFJvdywgTVJUX1RhYmxlTG9hZGluZ092ZXJsYXksIE1SVF9UYWJsZVBhZ2luYXRpb24sIE1SVF9UYWJsZVBhcGVyLCBNUlRfVG9nZ2xlRGVuc2VQYWRkaW5nQnV0dG9uLCBNUlRfVG9nZ2xlRmlsdGVyc0J1dHRvbiwgTVJUX1RvZ2dsZUZ1bGxTY3JlZW5CdXR0b24sIE1SVF9Ub2dnbGVHbG9iYWxGaWx0ZXJCdXR0b24sIE1SVF9Ub2dnbGVSb3dBY3Rpb25NZW51QnV0dG9uLCBNUlRfVG9vbGJhckFsZXJ0QmFubmVyLCBNUlRfVG9vbGJhckRyb3Bab25lLCBNUlRfVG9vbGJhckludGVybmFsQnV0dG9ucywgTVJUX1RvcFRvb2xiYXIsIE1hdGVyaWFsUmVhY3RUYWJsZSwgTWVtb19NUlRfVGFibGVCb2R5LCBNZW1vX01SVF9UYWJsZUJvZHlDZWxsLCBNZW1vX01SVF9UYWJsZUJvZHlSb3csIGNvbW1vbkxpc3RJdGVtU3R5bGVzLCBjb21tb25NZW51SXRlbVN0eWxlcywgY3JlYXRlTVJUQ29sdW1uSGVscGVyLCBjcmVhdGVSb3csIGV4dHJhSW5kZXhSYW5nZUV4dHJhY3RvciwgZmxleFJlbmRlciwgZ2V0QWxsTGVhZkNvbHVtbkRlZnMsIGdldENhblJhbmtSb3dzLCBnZXRDb2x1bW5JZCwgZ2V0Q29tbW9uTVJUQ2VsbFN0eWxlcywgZ2V0Q29tbW9uVG9vbGJhclN0eWxlcywgZ2V0RGVmYXVsdENvbHVtbkZpbHRlckZuLCBnZXREZWZhdWx0Q29sdW1uT3JkZXJJZHMsIGdldElzRmlyc3RDb2x1bW4sIGdldElzRmlyc3RSaWdodFBpbm5lZENvbHVtbiwgZ2V0SXNMYXN0Q29sdW1uLCBnZXRJc0xhc3RMZWZ0UGlubmVkQ29sdW1uLCBnZXRMZWFkaW5nRGlzcGxheUNvbHVtbklkcywgZ2V0TVJUVGhlbWUsIGdldFRvdGFsUmlnaHQsIGdldFRyYWlsaW5nRGlzcGxheUNvbHVtbklkcywgZ2V0VmFsdWVBbmRMYWJlbCwgbXJ0RmlsdGVyT3B0aW9ucywgcGFyc2VDU1NWYXJJZCwgcGFyc2VGcm9tVmFsdWVzT3JGdW5jLCBwcmVwYXJlQ29sdW1ucywgcmFua0dsb2JhbEZ1enp5LCByZW9yZGVyQ29sdW1uLCBzaG93RXhwYW5kQ29sdW1uLCB1c2VNUlRfRGlzcGxheUNvbHVtbnMsIHVzZU1SVF9FZmZlY3RzLCB1c2VNUlRfVGFibGVJbnN0YW5jZSwgdXNlTVJUX1RhYmxlT3B0aW9ucywgdXNlTWF0ZXJpYWxSZWFjdFRhYmxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lc20uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/material-react-table/dist/index.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/material-react-table/locales/es/index.esm.js":
/*!*******************************************************************!*\
  !*** ./node_modules/material-react-table/locales/es/index.esm.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MRT_Localization_ES: () => (/* binding */ MRT_Localization_ES)\n/* harmony export */ });\nconst MRT_Localization_ES = {\n    actions: 'Acciones',\n    and: 'y',\n    cancel: 'Cancelar',\n    changeFilterMode: 'Cambiar modo de filtro',\n    changeSearchMode: 'Cambiar modo de búsqueda',\n    clearFilter: 'Borrar filtro',\n    clearSearch: 'Borrar búsqueda',\n    clearSort: 'Borrar ordenamiento',\n    clickToCopy: 'Haga click para copiar',\n    collapse: 'Colapsar',\n    collapseAll: 'Colapsar todo',\n    columnActions: 'Columna de acciones',\n    copiedToClipboard: 'Copiado al portapapeles',\n    dropToGroupBy: 'Soltar para agrupar por {column}',\n    edit: 'Editar',\n    expand: 'Expandir',\n    expandAll: 'Expandir todo',\n    filterArrIncludes: 'Incluye',\n    filterArrIncludesAll: 'Incluye todos',\n    filterArrIncludesSome: 'Incluye algunos',\n    filterBetween: 'Entre',\n    filterBetweenInclusive: 'Entre (inclusivo)',\n    filterByColumn: 'Filtrar por {column}',\n    filterContains: 'Contiene',\n    filterEmpty: 'Vacio',\n    filterEndsWith: 'Termina con',\n    filterEquals: 'Iguales',\n    filterEqualsString: 'Iguales',\n    filterFuzzy: 'Difuso',\n    filterGreaterThan: 'Mas grande que',\n    filterGreaterThanOrEqualTo: 'Mas grande que o igual a',\n    filterInNumberRange: 'Entre',\n    filterIncludesString: 'Contiene',\n    filterIncludesStringSensitive: 'Contiene',\n    filterLessThan: 'Menos que',\n    filterLessThanOrEqualTo: 'Menos que o igual a',\n    filterMode: 'Modo de filtro: {filterType}',\n    filterNotEmpty: 'No vacio',\n    filterNotEquals: 'No iguales',\n    filterStartsWith: 'Empieza con',\n    filterWeakEquals: 'Iguales',\n    filteringByColumn: 'Filtrando por {column} - {filterType} - {filterValue}',\n    goToFirstPage: 'Ir a la primera página',\n    goToLastPage: 'Ir a la última página',\n    goToNextPage: 'Ir a la página siguiente',\n    goToPreviousPage: 'Regresar a la pagina anterior',\n    grab: 'Agarrar',\n    groupByColumn: 'Agrupar por {column}',\n    groupedBy: 'Agrupado por',\n    hideAll: 'Ocultar todo',\n    hideColumn: 'Ocultar {column}',\n    max: 'Máximo',\n    min: 'Mínimo',\n    move: 'Mover',\n    noRecordsToDisplay: 'No hay registros para mostrar',\n    noResultsFound: 'No se encontraron resultados',\n    of: 'de',\n    or: 'o',\n    pin: 'Anclar',\n    pinToLeft: 'Anclar a la izquierda',\n    pinToRight: 'Anclar a la derecha',\n    resetColumnSize: 'Resetear tamaño de columna',\n    resetOrder: 'Resetar orden',\n    rowActions: 'Acciones de fila',\n    rowNumber: '#',\n    rowNumbers: 'Números de fila',\n    rowsPerPage: 'Filas por página',\n    save: 'Guardar',\n    search: 'Buscar',\n    select: 'Seleccionar',\n    selectedCountOfRowCountRowsSelected: '{selectedCount} de {rowCount} fila(s) seleccionada(s)',\n    showAll: 'Mostrar todo',\n    showAllColumns: 'Mostrar todas las columnas',\n    showHideColumns: 'Mostrar/ocultar columnas',\n    showHideFilters: 'Mostrar/ocultar filtros',\n    showHideSearch: 'Mostrar/ocultar búsqueda',\n    sortByColumnAsc: 'Ordenar por {column} ascendente',\n    sortByColumnDesc: 'Ordenar por {column} descendente',\n    sortedByColumnAsc: 'Ordenar por {column} ascendente',\n    sortedByColumnDesc: 'Ordenar por {column} descendente',\n    thenBy: ', despues por ',\n    toggleDensity: 'Alternar densidad',\n    toggleFullScreen: 'Alternar pantalla completa',\n    toggleSelectAll: 'Alternar seleccionar todo',\n    toggleSelectRow: 'Alternar seleccionar fila',\n    toggleVisibility: 'Alternar visibilidad',\n    ungroupByColumn: 'Desagrupar por {column}',\n    unpin: 'Desanclar',\n    unpinAll: 'Desanclar todo',\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbWF0ZXJpYWwtcmVhY3QtdGFibGUvbG9jYWxlcy9lcy9pbmRleC5lc20uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsT0FBTztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLE9BQU87QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsV0FBVztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxRQUFRLEdBQUcsWUFBWSxHQUFHLFlBQVk7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxPQUFPO0FBQ3hDO0FBQ0E7QUFDQSwwQkFBMEIsT0FBTztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxlQUFlLElBQUksVUFBVTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLFFBQVE7QUFDM0Msb0NBQW9DLFFBQVE7QUFDNUMscUNBQXFDLFFBQVE7QUFDN0Msc0NBQXNDLFFBQVE7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLE9BQU87QUFDN0M7QUFDQTtBQUNBOztBQUUrQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vbm9kZV9tb2R1bGVzL21hdGVyaWFsLXJlYWN0LXRhYmxlL2xvY2FsZXMvZXMvaW5kZXguZXNtLmpzPzg2N2MiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgTVJUX0xvY2FsaXphdGlvbl9FUyA9IHtcbiAgICBhY3Rpb25zOiAnQWNjaW9uZXMnLFxuICAgIGFuZDogJ3knLFxuICAgIGNhbmNlbDogJ0NhbmNlbGFyJyxcbiAgICBjaGFuZ2VGaWx0ZXJNb2RlOiAnQ2FtYmlhciBtb2RvIGRlIGZpbHRybycsXG4gICAgY2hhbmdlU2VhcmNoTW9kZTogJ0NhbWJpYXIgbW9kbyBkZSBiw7pzcXVlZGEnLFxuICAgIGNsZWFyRmlsdGVyOiAnQm9ycmFyIGZpbHRybycsXG4gICAgY2xlYXJTZWFyY2g6ICdCb3JyYXIgYsO6c3F1ZWRhJyxcbiAgICBjbGVhclNvcnQ6ICdCb3JyYXIgb3JkZW5hbWllbnRvJyxcbiAgICBjbGlja1RvQ29weTogJ0hhZ2EgY2xpY2sgcGFyYSBjb3BpYXInLFxuICAgIGNvbGxhcHNlOiAnQ29sYXBzYXInLFxuICAgIGNvbGxhcHNlQWxsOiAnQ29sYXBzYXIgdG9kbycsXG4gICAgY29sdW1uQWN0aW9uczogJ0NvbHVtbmEgZGUgYWNjaW9uZXMnLFxuICAgIGNvcGllZFRvQ2xpcGJvYXJkOiAnQ29waWFkbyBhbCBwb3J0YXBhcGVsZXMnLFxuICAgIGRyb3BUb0dyb3VwQnk6ICdTb2x0YXIgcGFyYSBhZ3J1cGFyIHBvciB7Y29sdW1ufScsXG4gICAgZWRpdDogJ0VkaXRhcicsXG4gICAgZXhwYW5kOiAnRXhwYW5kaXInLFxuICAgIGV4cGFuZEFsbDogJ0V4cGFuZGlyIHRvZG8nLFxuICAgIGZpbHRlckFyckluY2x1ZGVzOiAnSW5jbHV5ZScsXG4gICAgZmlsdGVyQXJySW5jbHVkZXNBbGw6ICdJbmNsdXllIHRvZG9zJyxcbiAgICBmaWx0ZXJBcnJJbmNsdWRlc1NvbWU6ICdJbmNsdXllIGFsZ3Vub3MnLFxuICAgIGZpbHRlckJldHdlZW46ICdFbnRyZScsXG4gICAgZmlsdGVyQmV0d2VlbkluY2x1c2l2ZTogJ0VudHJlIChpbmNsdXNpdm8pJyxcbiAgICBmaWx0ZXJCeUNvbHVtbjogJ0ZpbHRyYXIgcG9yIHtjb2x1bW59JyxcbiAgICBmaWx0ZXJDb250YWluczogJ0NvbnRpZW5lJyxcbiAgICBmaWx0ZXJFbXB0eTogJ1ZhY2lvJyxcbiAgICBmaWx0ZXJFbmRzV2l0aDogJ1Rlcm1pbmEgY29uJyxcbiAgICBmaWx0ZXJFcXVhbHM6ICdJZ3VhbGVzJyxcbiAgICBmaWx0ZXJFcXVhbHNTdHJpbmc6ICdJZ3VhbGVzJyxcbiAgICBmaWx0ZXJGdXp6eTogJ0RpZnVzbycsXG4gICAgZmlsdGVyR3JlYXRlclRoYW46ICdNYXMgZ3JhbmRlIHF1ZScsXG4gICAgZmlsdGVyR3JlYXRlclRoYW5PckVxdWFsVG86ICdNYXMgZ3JhbmRlIHF1ZSBvIGlndWFsIGEnLFxuICAgIGZpbHRlckluTnVtYmVyUmFuZ2U6ICdFbnRyZScsXG4gICAgZmlsdGVySW5jbHVkZXNTdHJpbmc6ICdDb250aWVuZScsXG4gICAgZmlsdGVySW5jbHVkZXNTdHJpbmdTZW5zaXRpdmU6ICdDb250aWVuZScsXG4gICAgZmlsdGVyTGVzc1RoYW46ICdNZW5vcyBxdWUnLFxuICAgIGZpbHRlckxlc3NUaGFuT3JFcXVhbFRvOiAnTWVub3MgcXVlIG8gaWd1YWwgYScsXG4gICAgZmlsdGVyTW9kZTogJ01vZG8gZGUgZmlsdHJvOiB7ZmlsdGVyVHlwZX0nLFxuICAgIGZpbHRlck5vdEVtcHR5OiAnTm8gdmFjaW8nLFxuICAgIGZpbHRlck5vdEVxdWFsczogJ05vIGlndWFsZXMnLFxuICAgIGZpbHRlclN0YXJ0c1dpdGg6ICdFbXBpZXphIGNvbicsXG4gICAgZmlsdGVyV2Vha0VxdWFsczogJ0lndWFsZXMnLFxuICAgIGZpbHRlcmluZ0J5Q29sdW1uOiAnRmlsdHJhbmRvIHBvciB7Y29sdW1ufSAtIHtmaWx0ZXJUeXBlfSAtIHtmaWx0ZXJWYWx1ZX0nLFxuICAgIGdvVG9GaXJzdFBhZ2U6ICdJciBhIGxhIHByaW1lcmEgcMOhZ2luYScsXG4gICAgZ29Ub0xhc3RQYWdlOiAnSXIgYSBsYSDDumx0aW1hIHDDoWdpbmEnLFxuICAgIGdvVG9OZXh0UGFnZTogJ0lyIGEgbGEgcMOhZ2luYSBzaWd1aWVudGUnLFxuICAgIGdvVG9QcmV2aW91c1BhZ2U6ICdSZWdyZXNhciBhIGxhIHBhZ2luYSBhbnRlcmlvcicsXG4gICAgZ3JhYjogJ0FnYXJyYXInLFxuICAgIGdyb3VwQnlDb2x1bW46ICdBZ3J1cGFyIHBvciB7Y29sdW1ufScsXG4gICAgZ3JvdXBlZEJ5OiAnQWdydXBhZG8gcG9yJyxcbiAgICBoaWRlQWxsOiAnT2N1bHRhciB0b2RvJyxcbiAgICBoaWRlQ29sdW1uOiAnT2N1bHRhciB7Y29sdW1ufScsXG4gICAgbWF4OiAnTcOheGltbycsXG4gICAgbWluOiAnTcOtbmltbycsXG4gICAgbW92ZTogJ01vdmVyJyxcbiAgICBub1JlY29yZHNUb0Rpc3BsYXk6ICdObyBoYXkgcmVnaXN0cm9zIHBhcmEgbW9zdHJhcicsXG4gICAgbm9SZXN1bHRzRm91bmQ6ICdObyBzZSBlbmNvbnRyYXJvbiByZXN1bHRhZG9zJyxcbiAgICBvZjogJ2RlJyxcbiAgICBvcjogJ28nLFxuICAgIHBpbjogJ0FuY2xhcicsXG4gICAgcGluVG9MZWZ0OiAnQW5jbGFyIGEgbGEgaXpxdWllcmRhJyxcbiAgICBwaW5Ub1JpZ2h0OiAnQW5jbGFyIGEgbGEgZGVyZWNoYScsXG4gICAgcmVzZXRDb2x1bW5TaXplOiAnUmVzZXRlYXIgdGFtYcOxbyBkZSBjb2x1bW5hJyxcbiAgICByZXNldE9yZGVyOiAnUmVzZXRhciBvcmRlbicsXG4gICAgcm93QWN0aW9uczogJ0FjY2lvbmVzIGRlIGZpbGEnLFxuICAgIHJvd051bWJlcjogJyMnLFxuICAgIHJvd051bWJlcnM6ICdOw7ptZXJvcyBkZSBmaWxhJyxcbiAgICByb3dzUGVyUGFnZTogJ0ZpbGFzIHBvciBww6FnaW5hJyxcbiAgICBzYXZlOiAnR3VhcmRhcicsXG4gICAgc2VhcmNoOiAnQnVzY2FyJyxcbiAgICBzZWxlY3Q6ICdTZWxlY2Npb25hcicsXG4gICAgc2VsZWN0ZWRDb3VudE9mUm93Q291bnRSb3dzU2VsZWN0ZWQ6ICd7c2VsZWN0ZWRDb3VudH0gZGUge3Jvd0NvdW50fSBmaWxhKHMpIHNlbGVjY2lvbmFkYShzKScsXG4gICAgc2hvd0FsbDogJ01vc3RyYXIgdG9kbycsXG4gICAgc2hvd0FsbENvbHVtbnM6ICdNb3N0cmFyIHRvZGFzIGxhcyBjb2x1bW5hcycsXG4gICAgc2hvd0hpZGVDb2x1bW5zOiAnTW9zdHJhci9vY3VsdGFyIGNvbHVtbmFzJyxcbiAgICBzaG93SGlkZUZpbHRlcnM6ICdNb3N0cmFyL29jdWx0YXIgZmlsdHJvcycsXG4gICAgc2hvd0hpZGVTZWFyY2g6ICdNb3N0cmFyL29jdWx0YXIgYsO6c3F1ZWRhJyxcbiAgICBzb3J0QnlDb2x1bW5Bc2M6ICdPcmRlbmFyIHBvciB7Y29sdW1ufSBhc2NlbmRlbnRlJyxcbiAgICBzb3J0QnlDb2x1bW5EZXNjOiAnT3JkZW5hciBwb3Ige2NvbHVtbn0gZGVzY2VuZGVudGUnLFxuICAgIHNvcnRlZEJ5Q29sdW1uQXNjOiAnT3JkZW5hciBwb3Ige2NvbHVtbn0gYXNjZW5kZW50ZScsXG4gICAgc29ydGVkQnlDb2x1bW5EZXNjOiAnT3JkZW5hciBwb3Ige2NvbHVtbn0gZGVzY2VuZGVudGUnLFxuICAgIHRoZW5CeTogJywgZGVzcHVlcyBwb3IgJyxcbiAgICB0b2dnbGVEZW5zaXR5OiAnQWx0ZXJuYXIgZGVuc2lkYWQnLFxuICAgIHRvZ2dsZUZ1bGxTY3JlZW46ICdBbHRlcm5hciBwYW50YWxsYSBjb21wbGV0YScsXG4gICAgdG9nZ2xlU2VsZWN0QWxsOiAnQWx0ZXJuYXIgc2VsZWNjaW9uYXIgdG9kbycsXG4gICAgdG9nZ2xlU2VsZWN0Um93OiAnQWx0ZXJuYXIgc2VsZWNjaW9uYXIgZmlsYScsXG4gICAgdG9nZ2xlVmlzaWJpbGl0eTogJ0FsdGVybmFyIHZpc2liaWxpZGFkJyxcbiAgICB1bmdyb3VwQnlDb2x1bW46ICdEZXNhZ3J1cGFyIHBvciB7Y29sdW1ufScsXG4gICAgdW5waW46ICdEZXNhbmNsYXInLFxuICAgIHVucGluQWxsOiAnRGVzYW5jbGFyIHRvZG8nLFxufTtcblxuZXhwb3J0IHsgTVJUX0xvY2FsaXphdGlvbl9FUyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/material-react-table/locales/es/index.esm.js\n");

/***/ })

};
;